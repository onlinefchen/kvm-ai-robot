<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVMARM 邮件列表 AI 总结报告</title>
    <style>
        body {
            font-family: 'Courier New', 'Courier', monospace;
            line-height: 1.5;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 40px;
            background-color: #ffffff;
            color: #222;
        }
        .container {
            background: #ffffff;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
            color: #000;
            margin-bottom: 0.3em;
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 15px;
        }
        h2 {
            font-size: 1.6em;
            font-weight: bold;
            color: #000;
            margin-top: 2em;
            margin-bottom: 0.6em;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 1.2em;
            font-weight: bold;
            color: #111;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h4 {
            font-size: 1.05em;
            font-weight: bold;
            color: #333;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
        }
        .meta-info {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px 20px;
            margin: 20px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        .meta-info p {
            margin: 6px 0;
            color: #444;
        }
        .meta-info strong {
            color: #000;
            font-weight: bold;
        }
        .stats {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid #000;
        }
        .stat-card {
            display: table-cell;
            border: 1px solid #000;
            padding: 12px 15px;
            text-align: center;
            background: #fafafa;
        }
        .stat-card h3 {
            margin: 0;
            color: #000;
            font-size: 1.8em;
            font-weight: bold;
            border: none;
            padding: 0;
        }
        .stat-card p {
            margin: 5px 0 0 0;
            color: #444;
            font-size: 0.9em;
            font-weight: normal;
        }
        .category {
            margin: 30px 0;
        }
        .thread {
            margin: 25px 0;
            padding: 15px;
            background: #fafafa;
            border: 1px solid #ccc;
            page-break-inside: avoid;
        }
        .thread-header {
            margin-bottom: 12px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .thread-header h3 {
            font-size: 1.15em;
            font-weight: bold;
            color: #000;
            margin: 0;
        }
        .thread-meta {
            display: block;
            margin: 8px 0 12px 0;
            font-size: 0.9em;
            color: #555;
            font-style: italic;
        }
        .thread-meta span {
            margin-right: 15px;
        }
        .ai-summary {
            background: #fff;
            border-left: 3px solid #666;
            padding: 12px 15px;
            margin: 15px 0;
            line-height: 1.6;
            color: #222;
            font-style: italic;
        }
        .email-list {
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px 15px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.88em;
            line-height: 1.5;
            overflow-x: auto;
            margin: 10px 0;
        }
        .email-item {
            margin: 4px 0;
            padding: 2px 0;
            color: #222;
        }
        .email-item.historical {
            background: #f5f5f5;
            border-left: 3px solid #999;
            padding-left: 8px;
            opacity: 0.8;
        }
        .email-item.new {
            background: #fffef0;
            border-left: 3px solid #0066cc;
            padding-left: 8px;
        }
        .email-date {
            color: #0066cc;
            font-weight: bold;
        }
        .email-date.historical {
            color: #666;
        }
        .email-sender {
            color: #c30;
            font-weight: normal;
        }
        .email-subject {
            color: #000;
        }
        .historical-marker {
            color: #999;
            font-size: 0.85em;
            font-style: italic;
        }
        .new-marker {
            color: #0066cc;
            font-size: 0.85em;
            font-weight: bold;
        }
        .archive-link {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            background: #333;
            color: #fff;
            text-decoration: none;
            border: 2px solid #000;
            font-weight: bold;
            transition: all 0.2s;
        }
        .archive-link:hover {
            background: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KVMARM Mailing List Analysis Report</h1>

        <div class="meta-info">
            <p><strong>Generated:</strong> 2025-10-27 12:37</p>
            <p><strong>Time Period:</strong> 2025年9月 第38周 (09/15 - 09/21)</p>
            <p><strong>Total Messages:</strong> 323 | <strong>Total Threads:</strong> 54</p>
            <p style="text-align: center;"><a href="archive.html" class="archive-link">📚 历史归档 Archive</a></p>
        </div>


        <div class="category">
            <h2>PATCH</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 01/28] KVM: arm64: Add a new function to donate memory
 with prot</h3>
                </div>

                <div class="thread-meta">
                    <span>35 messages</span>
                    <span>6 participants</span>
                    <span>Started: 2025-09-09</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下添加一个新的内存捐赠功能的补丁（PATCH v4 01/28）。该补丁的目的是允许在虚拟化环境中捐赠内存，并确保内存权限的正确性。<br><br>在历史讨论中，参与者对补丁的实现提出了一些关键问题和建议。Will Deacon 指出，捐赠的内存权限应当严格为可读写（KVM_PGTABLE_PROT_RW），以避免潜在的安全隐患。此外，关于 MMIO（内存映射输入输出）页面的捐赠，参与者讨论了需要进行的检查，以确保捐赠的页面是由主机拥有且未被超管映射。<br><br>在本周的新讨论中，Mostafa Saleh 确认将根据 Will 的建议更新权限检查，以提高严格性。同时，参与者们讨论了 MMIO 页面捐赠的实现细节，强调了输入应来自可信的超管驱动，并且在错误路径中使用 WARN_ON 进行检查。此外，Jason Gunthorpe 提出了一些关于 SMMU（系统内存管理单元）驱动的改进建议，以确保在处理缓存一致性时的性能优化。<br><br>总体来看，本周的讨论集中在补丁的细节修改和对内存捐赠功能的进一步完善上，参与者们积极提出建议以提高代码的安全性和性能。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 01/28] KVM: arm64: Add a new function to donate memory
 with prot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 02/28] KVM: arm64: Donate MMIO to the hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 03/28] KVM: arm64: pkvm: Add pkvm_time_get()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 06/28] iommu/arm-smmu-v3: Split code with hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 10/28] KVM: arm64: iommu: Shadow host stage-2 page
 table</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 03/28] KVM: arm64: pkvm: Add pkvm_time_get()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 16/28] iommu/arm-smmu-v3-kvm: Create array for hyp SMMUv3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Daniel Mentz <span class="email-sender">&lt;danielmentz@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v4 14/28] iommu/arm-smmu-v3: Add KVM mode in the driver</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v4 22/28] iommu/arm-smmu-v3-kvm: Emulate CMDQ for host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-14]</span> <span class="email-subject">Re: [PATCH v4 01/28] KVM: arm64: Add a new function to donate memory
 with prot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Pranjal Shrivastava <span class="email-sender">&lt;praan@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-14]</span> <span class="email-subject">Re: [PATCH v4 02/28] KVM: arm64: Donate MMIO to the hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Pranjal Shrivastava <span class="email-sender">&lt;praan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v4 03/28] KVM: arm64: pkvm: Add pkvm_time_get()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Pranjal Shrivastava <span class="email-sender">&lt;praan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v4 04/28] iommu/io-pgtable-arm: Move selftests to a
 separate file</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Pranjal Shrivastava <span class="email-sender">&lt;praan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v4 22/28] iommu/arm-smmu-v3-kvm: Emulate CMDQ for host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v4 04/28] iommu/io-pgtable-arm: Move selftests to a
 separate file</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 01/28] KVM: arm64: Add a new function to donate memory
 with prot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 01/28] KVM: arm64: Add a new function to donate memory
 with prot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 02/28] KVM: arm64: Donate MMIO to the hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 02/28] KVM: arm64: Donate MMIO to the hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 03/28] KVM: arm64: pkvm: Add pkvm_time_get()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 04/28] iommu/io-pgtable-arm: Move selftests to a
 separate file</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 04/28] iommu/io-pgtable-arm: Move selftests to a
 separate file</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 06/28] iommu/arm-smmu-v3: Split code with hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 10/28] KVM: arm64: iommu: Shadow host stage-2 page
 table</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 14/28] iommu/arm-smmu-v3: Add KVM mode in the driver</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 16/28] iommu/arm-smmu-v3-kvm: Create array for hyp
 SMMUv3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 22/28] iommu/arm-smmu-v3-kvm: Emulate CMDQ for host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 22/28] iommu/arm-smmu-v3-kvm: Emulate CMDQ for host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v4 22/28] iommu/arm-smmu-v3-kvm: Emulate CMDQ for host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v4 22/28] iommu/arm-smmu-v3-kvm: Emulate CMDQ for host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v4 22/28] iommu/arm-smmu-v3-kvm: Emulate CMDQ for host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v4 22/28] iommu/arm-smmu-v3-kvm: Emulate CMDQ for host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v4 22/28] iommu/arm-smmu-v3-kvm: Emulate CMDQ for host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH v4 22/28] iommu/arm-smmu-v3-kvm: Emulate CMDQ for host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH v4 22/28] iommu/arm-smmu-v3-kvm: Emulate CMDQ for host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 00/16] KVM: arm64: TTW reporting on SEA and 52bit PA in S1 PTW</h3>
                </div>

                <div class="thread-meta">
                    <span>27 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-15</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 ARM64 架构下的 S1 页面表走查（PTW）和 52 位物理地址（PA）支持的补丁系列。原始补丁旨在解决在 S1PTW 故障时未能报告走查级别的问题，这种情况违反了架构规范。Marc Zyngier 提到，当前代码仅支持 48 位地址，而新的实现需要扩展以支持 52 位地址。<br><br>在历史讨论中，Marc 解释了补丁的背景，指出当前的实现是基于早期没有 S1 页面表走查的情况。补丁系列包括多个方面的改进，如计算 52 位 TTBR 地址、调整最大输出地址的计算、引入过滤机制以跟踪故障级别等。<br><br>本周的新讨论中，Marc 提交了多个补丁，涵盖了 52 位 PA 支持的计算、S1 页面表走查的扩展、故障报告机制的改进等。Oliver Upton 对补丁提出了一些小的修改建议，并表示支持这些改进。最终，Marc 确认已根据反馈进行了修改，并将补丁应用到下一个版本中。<br><br>总结而言，本次讨论集中在改进 KVM 对 ARM64 架构的支持，特别是在处理 S1PTW 故障和 52 位地址方面的能力，旨在提升系统的稳定性和兼容性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 00/16] KVM: arm64: TTW reporting on SEA and 52bit PA in S1 PTW</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 01/16] KVM: arm64: Add helper computing the state of 52bit PA support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 02/16] KVM: arm64: Account for 52bit when computing maximum OA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 03/16] KVM: arm64: Compute 52bit TTBR address and alignment</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 04/16] KVM: arm64: Decouple output address from the PT descriptor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 05/16] KVM: arm64: Pass the walk_info structure to compute_par_s1()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 06/16] KVM: arm64: Compute shareability for LPA2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 07/16] KVM: arm64: Populate PAR_EL1 with 52bit addresses</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 08/16] KVM: arm64: Expand valid block mappings to FEAT_LPA/LPA2 support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 09/16] KVM: arm64: Report faults from S1 walk setup at the expected start level</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 10/16] KVM: arm64: Allow use of S1 PTW for non-NV vcpus</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 11/16] KVM: arm64: Allow EL1 control registers to be accessed from the CPU state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 12/16] KVM: arm64: Don't switch MMU on translation from non-NV context</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 13/16] KVM: arm64: Add filtering hook to S1 page table walk</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 14/16] KVM: arm64: Add S1 IPA to page table level walker</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 15/16] KVM: arm64: Populate level on S1PTW SEA injection</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH v2 16/16] KVM: arm64: selftest: Expand external_aborts test to look for TTW levels</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v2 06/16] KVM: arm64: Compute shareability for LPA2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v2 07/16] KVM: arm64: Populate PAR_EL1 with 52bit
 addresses</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v2 10/16] KVM: arm64: Allow use of S1 PTW for non-NV vcpus</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v2 14/16] KVM: arm64: Add S1 IPA to page table level
 walker</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v2 16/16] KVM: arm64: selftest: Expand external_aborts
 test to look for TTW levels</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v2 00/16] KVM: arm64: TTW reporting on SEA and 52bit PA
 in S1 PTW</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-20]</span> <span class="email-subject">Re: [PATCH v2 10/16] KVM: arm64: Allow use of S1 PTW for non-NV vcpus</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-20]</span> <span class="email-subject">Re: [PATCH v2 07/16] KVM: arm64: Populate PAR_EL1 with 52bit addresses</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-21]</span> <span class="email-subject">Re: [PATCH v2 00/16] KVM: arm64: TTW reporting on SEA and 52bit PA in S1 PTW</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-21]</span> <span class="email-subject">Re: [PATCH v2 00/16] KVM: arm64: TTW reporting on SEA and 52bit PA in S1 PTW</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/2] arm: add kvm-psci-version vcpu property</h3>
                </div>

                <div class="thread-meta">
                    <span>24 messages</span>
                    <span>6 participants</span>
                    <span>Started: 2025-09-11</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 ARM 架构的 KVM（Kernel-based Virtual Machine）的一系列补丁，主要集中在添加 PSCI（Power State Coordination Interface）版本的 vCPU 属性上。<br><br>1. **原始补丁内容**：<br>   - 由 Sebastian Ott 提出的补丁系列旨在为 KVM 添加一个 vCPU 属性，允许请求特定的 PSCI 版本。补丁中提到，为了支持 PSCI v0.1，需要放弃 KVM_CAP_ARM_PSCI_0_2 的 vCPU 初始化，或者限制支持的版本为 0.2 及以上。<br><br>2. **之前讨论要点**：<br>   - 讨论中提到，指定 PSCI 版本的用例主要是为了在不同主机内核版本之间迁移时，确保源和目标的 PSCI 版本一致，避免迁移失败。Peter Maydell 提出了一些关于迁移失败的情境，并询问了补丁的合理性和必要性。<br><br>3. **本周的新讨论与进展**：<br>   - 本周的讨论中，Eric Auger 对补丁提出了疑问，询问为何默认返回 0.2 版本，并建议在下一个补丁中合并相关内容。Oliver Upton 则提交了关于 KVM ARM64 的其他补丁，修复了调试和 MDCR_EL2 处理的问题，并得到了 Marc Zyngier 的确认，表示将这些补丁应用到下一个版本中。<br><br>总的来说，邮件讨论围绕着 KVM 的 PSCI 版本支持及其在不同内核版本间迁移的兼容性展开，涉及多个技术细节和补丁的合理性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">[PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">[PATCH 1/2] target/arm/kvm: add constants for new PSCI versions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">[PATCH 2/2] target/arm/kvm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Peter Maydell <span class="email-sender">&lt;peter.maydell@linaro.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Peter Maydell <span class="email-sender">&lt;peter.maydell@linaro.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Peter Maydell <span class="email-sender">&lt;peter.maydell@linaro.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 0/2] KVM: arm64: nv: Fixes for handling debug, MDCR_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 1/2] KVM: arm64: nv: Trap debug registers when in hyp context</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 2/2] KVM: arm64: nv: Apply guest's MDCR traps in nested context</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Eric Auger <span class="email-sender">&lt;eric.auger@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH 2/2] target/arm/kvm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Eric Auger <span class="email-sender">&lt;eric.auger@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH 1/2] target/arm/kvm: add constants for new PSCI versions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Eric Auger <span class="email-sender">&lt;eric.auger@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH 0/2] KVM: arm64: nv: Fixes for handling debug, MDCR_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH 0/2] KVM: arm64: nv: Fix SError injection at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH 1/2] KVM: arm64: nv: Treat AMO as 1 when at EL2 and {E2H,TGE} = {1, 0}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH 2/2] [DO NOT SUBMIT] KVM: arm64: selftests: Test effective value of HCR_EL2.AMO</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH 0/2] KVM: arm64: nv: Fix SError injection at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH 0/2] KVM: arm64: nv: Fix SError injection at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-20]</span> <span class="email-subject">[PATCH 0/2] KVM: arm64: selftests: Cover ID_AA64ISAR3_EL1 in
 set_id_regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-20]</span> <span class="email-subject">[PATCH 1/2] KVM: arm64: selftests: Remove a duplicate register
 listing in set_id_regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-20]</span> <span class="email-subject">[PATCH 2/2] KVM: arm64: selftests: Cover ID_AA64ISAR3_EL1 in
 set_id_regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</h3>
                </div>

                <div class="thread-meta">
                    <span>21 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-09-12</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于对 ARM64 架构下 futex 原子操作的重构补丁（PATCH RESEND v7 4/6）。该补丁旨在优化 futex 的原子操作，主要涉及对 `__futex_*` 函数的重构，以便在后续的补丁中更好地支持不同的指令集。<br><br>在历史讨论中，参与者对补丁的初步实现表示认可，Catalin Marinas 提出了一些命名和实现上的建议，认为在某些情况下保留原有名称更为合适。同时，他指出了在第六个补丁中可能需要调整的内容。<br><br>本周的新讨论中，Yeoreum Yun 针对补丁的实现进行了多次修改，主要集中在使用 CAS（Compare And Swap）操作替代 LLSC（Load-Link/Store-Conditional）以提高性能。参与者们讨论了如何在 C 语言中实现这些操作，并提出了使用 `get_user()` 替代 `unsafe_get_user()` 的建议，以便更好地处理用户空间访问。此外，Yeoreum 还表示将会重新提交包含 C 版本的 cmpxchg 实现，以支持缺失的字节序处理。<br><br>总体来看，本周的讨论集中在补丁的细节优化和实现方式的选择上，参与者们积极交流，推动补丁的完善。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 00/13] KVM: arm64: selftests: Run selftests in VHE EL2</h3>
                </div>

                <div class="thread-meta">
                    <span>19 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-17</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 KVM 的 arm64 架构下，如何在 VHE EL2 模式下运行自测试的补丁系列（共13个补丁）。以下是讨论的主要内容：<br><br>1. **原始补丁/问题的内容**：Oliver Upton 提出了将现有的自测试基础设施移植到 VHE EL2 模式下运行的补丁，目的是为了更好地测试未被 KVM 使用的 MMU 相关特性。补丁包括创建 VGICv3 的必要性以及在 VM 创建后进行初始化的步骤。<br><br>2. **之前的讨论要点**：在历史讨论中，参与者探讨了 VGICv3 初始化的顺序和必要性，强调了在 EL2 模式下进行自测试的重要性，并讨论了如何处理与 vCPU 和 VGIC 创建相关的顺序约束。<br><br>3. **本周的新讨论、进展或结论**：本周的讨论集中在补丁的具体实现上，包括：<br>   - 提供了 kvm_arch_vm_post_create() 函数以支持默认使用 EL2。<br>   - 引入 VGICv3 支持的辅助函数。<br>   - 讨论了如何在 EL2 模式下正确处理 HVC 调用。<br>   - 添加了基本的自测试以验证 VHE EL2 的功能。<br>   - 参与者对补丁进行了审查，并提出了一些建议和问题，特别是关于如何在不同的测试场景下处理 VGICv3 初始化和 vCPU 特性配置。<br><br>整体而言，这一系列补丁旨在增强 KVM 在 arm64 架构下的自测试能力，确保在 EL2 模式下的正确性和稳定性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 00/13] KVM: arm64: selftests: Run selftests in VHE EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 01/13] KVM: arm64: selftests: Provide kvm_arch_vm_post_create() in library code</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 02/13] KVM: arm64: selftests: Initialize VGICv3 only once</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 03/13] KVM: arm64: selftests: Add helper to check for VGICv3 support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 04/13] KVM: arm64: selftests: Add unsanitised helpers for VGICv3 creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 05/13] KVM: arm64: selftests: Create a VGICv3 for 'default' VMs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 06/13] KVM: arm64: selftests: Alias EL1 registers to EL2 counterparts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 07/13] KVM: arm64: selftests: Provide helper for getting default vCPU target</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 08/13] KVM: arm64: selftests: Select SMCCC conduit based on current EL</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 09/13] KVM: arm64: selftests: Use hyp timer IRQs when test runs at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 10/13] KVM: arm64: selftests: Use the vCPU attr for setting nr of PMU counters</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 11/13] KVM: arm64: selftests: Initialize HCR_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 12/13] KVM: arm64: selftests: Enable EL2 by default</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 13/13] KVM: arm64: selftests: Add basic test for running in VHE EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH 07/13] KVM: arm64: selftests: Provide helper for getting
 default vCPU target</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Itaru Kitayama <span class="email-sender">&lt;itaru.kitayama@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH 07/13] KVM: arm64: selftests: Provide helper for getting
 default vCPU target</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH 01/13] KVM: arm64: selftests: Provide
 kvm_arch_vm_post_create() in library code</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Itaru Kitayama <span class="email-sender">&lt;itaru.kitayama@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH 03/13] KVM: arm64: selftests: Add helper to check for
 VGICv3 support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Itaru Kitayama <span class="email-sender">&lt;itaru.kitayama@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH 02/13] KVM: arm64: selftests: Initialize VGICv3 only once</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zenghui Yu <span class="email-sender">&lt;yuzenghui@huawei.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 00/10] KVM: arm64: Handle effective RES0 behaviour of undefined registers</h3>
                </div>

                <div class="thread-meta">
                    <span>15 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-18</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下处理未定义寄存器的有效 RES0 行为的补丁系列（PATCH v2 00/10）。该补丁旨在确保当某个特性从虚拟机中移除时，相关的控制位和陷阱位被正确设置为 RES0。<br><br>在历史讨论中，Marc Zyngier 提到，当前的处理方式存在不足，尤其是在某些寄存器（如 SCTLR2_EL2）未能正确反映其特性缺失时。补丁系列的目标是通过引入新的结构和函数，简化 RES0 的处理逻辑，并确保寄存器的依赖关系得到妥善管理。<br><br>本周的新讨论中，Marc Zyngier 提交了补丁的多个版本，并逐一解释了每个补丁的目的和改动，包括移除重复的特性描述、添加寄存器依赖描述结构、强制缺失特性时寄存器行为为 RES0 等。Oliver Upton 对补丁进行了审核并表示支持，Ben Horgan 则对 MDCR_EL2 的处理提出了疑问，Marc 随后确认了该行代码是多余的，并表示将进行修正。<br><br>最终，Marc 确认所有补丁已成功应用，并感谢参与讨论的人员。整体来看，本周的讨论集中在补丁的细节和审核反馈上，推动了 KVM 的改进进程。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v2 00/10] KVM: arm64: Handle effective RES0 behaviour of undefined registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v2 01/10] KVM: arm64: Remove duplicate FEAT_{SYSREG128,MTE2} descriptions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v2 02/10] KVM: arm64: Add reg_feat_map_desc to describe full register dependency</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v2 03/10] KVM: arm64: Enforce absence of FEAT_FGT on FGT registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v2 04/10] KVM: arm64: Enforce absence of FEAT_FGT2 on FGT2 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v2 05/10] KVM: arm64: Enforce absence of FEAT_HCX on HCRX_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v2 06/10] KVM: arm64: Convert HCR_EL2 RES0 handling to compute_reg_res0_bits()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v2 07/10] KVM: arm64: Enforce absence of FEAT_SCTLR2 on SCTLR2_EL{1,2}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v2 08/10] KVM: arm64: Enforce absence of FEAT_TCR2 on TCR2_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v2 09/10] KVM: arm64: Convert SCTLR_EL1 RES0 handling to compute_reg_res0_bits()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v2 10/10] KVM: arm64: Convert MDCR_EL2 RES0 handling to compute_reg_res0_bits()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v2 00/10] KVM: arm64: Handle effective RES0 behaviour of
 undefined registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v2 10/10] KVM: arm64: Convert MDCR_EL2 RES0 handling to
 compute_reg_res0_bits()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v2 10/10] KVM: arm64: Convert MDCR_EL2 RES0 handling to compute_reg_res0_bits()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v2 00/10] KVM: arm64: Handle effective RES0 behaviour of undefined registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v8 0/5] support FEAT_LSUI and apply it on futex atomic ops</h3>
                </div>

                <div class="thread-meta">
                    <span>13 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-17</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 Linux 内核的补丁集，主要目的是支持 Armv9.6 的 FEAT_LSUI 特性，并将其应用于 futex 原子操作。补丁集包含五个部分，分别是：添加 FEAT_LSUI 的 CPU 特性检测、将该特性暴露给虚拟机、更新 Kconfig 配置、重构现有的 futex 原子操作实现，以及支持使用 FEAT_LSUI 的 futex 原子操作。<br><br>在历史讨论中，补丁从 v7 到 v8 进行了多次修改，主要包括实现新的原子操作函数、优化代码结构和更新提交信息。补丁的核心在于通过新的加载/存储指令，允许特权代码在不清除 PSTATE.PAN 位的情况下访问用户内存，从而提高性能。<br><br>本周的新讨论中，参与者 Yeoreum Yun 对补丁的实现进行了详细阐述，并回应了其他开发者的反馈。讨论中提出了一些关于内存一致性的问题，尤其是在多核环境下，如何确保不同 CPU 之间的操作不会导致数据不一致。Mark Rutland 提出了代码简化和重试机制的建议，以提高补丁的健壮性。整体来看，讨论围绕补丁的实现细节、潜在问题及优化建议展开，显示出开发者对内核性能和稳定性的关注。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v8 0/5] support FEAT_LSUI and apply it on futex atomic ops</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v8 1/5] arm64: cpufeature: add FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v8 2/5] KVM: arm64: expose FEAT_LSUI to guest</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v8 3/5] arm64: Kconfig: Detect toolchain support for LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v8 4/5] arm64: futex: refactor futex atomic operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v8 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v8 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v8 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v8 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v8 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v8 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v8 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH v8 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/8] KVM: arm64: Handle effective RES0 behaviour of undefined registers</h3>
                </div>

                <div class="thread-meta">
                    <span>11 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-17</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下处理未定义寄存器的有效 RES0 行为的补丁系列，共包含 8 个补丁。补丁的核心目的是确保当某个特性从虚拟机中移除时，相关的控制位和陷阱位被设置为 RES0，以避免未定义行为。<br><br>在历史讨论中，Marc Zyngier 提到，当前的实现并未确保在特性不可见时，相关寄存器（如 SCTLR2_EL2）被正确处理。补丁系列旨在解决这一问题，并与其他相关补丁进行整合，以实现更好的迁移支持和架构一致性。<br><br>本周的新讨论中，Marc 提交了 8 个补丁，涵盖了对多个寄存器（如 HCR_EL2、SCTLR2_EL1、TCR2_EL2 等）的 RES0 处理逻辑的重构。Oliver Upton 提出了对补丁文档的建议，认为需要更清晰地区分 `reg_to_feat_map` 和 `reg_bits_to_feat_map` 的含义，并建议在补丁中添加更详细的变更日志。Marc 随后表示将重新发送正确的补丁系列以解决混淆问题。<br><br>整体来看，本周的讨论集中在补丁的实现细节和文档改进上，旨在提升代码的可读性和维护性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 0/8] KVM: arm64: Handle effective RES0 behaviour of undefined registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 1/8] KVM: arm64: Enforce absence of FEAT_FGT on FGT registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 2/8] KVM: arm64: Enforce absence of FEAT_FGT2 on FGT2 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 3/8] KVM: arm64: Enforce absence of FEAT_HCX on HCRX_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 4/8] KVM: arm64: Convert HCR_EL2 RES0 handling to compute_reg_res0_bits()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 5/8] KVM: arm64: Enforce absence of FEAT_SCTLR2 on SCTLR2_EL{1,2}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 6/8] KVM: arm64: Enforce absence of FEAT_TCR2 on TCR2_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 7/8] KVM: arm64: Convert SCTLR_EL1 RES0 handling to compute_reg_res0_bits()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH 8/8] KVM: arm64: Convert MDCR_EL2 RES0 handling to compute_reg_res0_bits()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH 1/8] KVM: arm64: Enforce absence of FEAT_FGT on FGT
 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH 1/8] KVM: arm64: Enforce absence of FEAT_FGT on FGT registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v6 00/11] Direct Map Removal Support for guest_memfd</h3>
                </div>

                <div class="thread-meta">
                    <span>10 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-09-12</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于支持从直接映射中移除虚拟机内存（guest_memfd）的补丁（PATCH v6 00/11）。该补丁旨在通过解除主机内核的直接映射来缓解Spectre等瞬态执行问题，从而提高虚拟机内存的安全性。<br><br>在历史讨论中，补丁的主要内容包括引入一个标志（GUEST_MEMFD_FLAG_NO_DIRECT_MAP），用于在创建guest_memfd时指定是否从直接映射中移除内存。此外，补丁还涉及到如何在释放内存时恢复直接映射条目，并讨论了相关的内存管理函数的实现细节。<br><br>本周的新讨论中，参与者们针对补丁的实现细节进行了深入探讨。Hugh Dickins提出了对`free_folio()`函数的安全性担忧，认为在某些情况下可能会出现并发问题。David Hildenbrand对此表示赞同，并建议使用`rcu_read_lock()`来解决潜在的竞争条件。Will Deacon则从arm64架构的角度提出，如果不在解除映射后进行TLB失效，可能会影响安全性，建议将TLB失效作为架构可选项。Roy, Patrick回应了这些意见，表示将考虑在下一版本中调整实现方式，并探讨了用户空间是否可以设置某种标志来选择性地启用或禁用TLB失效。<br><br>总体来看，本周讨论集中在补丁的安全性和性能之间的权衡，以及如何更好地管理内存映射的状态。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">[PATCH v6 00/11] Direct Map Removal Support for guest_memfd</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">[PATCH v6 01/11] filemap: Pass address_space mapping to
 ->free_folio()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">[PATCH v6 05/11] KVM: guest_memfd: Add flag to remove from direct map</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-14]</span> <span class="email-subject">Re: [PATCH v6 05/11] KVM: guest_memfd: Add flag to remove from
 direct map</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mike Rapoport <span class="email-sender">&lt;rppt@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v6 01/11] filemap: Pass address_space mapping to
 ->free_folio()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Hugh Dickins <span class="email-sender">&lt;hughd@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v6 01/11] filemap: Pass address_space mapping to
 ->free_folio()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH v6 05/11] KVM: guest_memfd: Add flag to remove from
 direct map</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v6 05/11] KVM: guest_memfd: Add flag to remove from direct
 map</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v6 01/11] filemap: Pass address_space mapping to
 ->free_folio()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v6 05/11] KVM: guest_memfd: Add flag to remove from direct
 map</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</h3>
                </div>

                <div class="thread-meta">
                    <span>10 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-09-08</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 ARM64 架构的补丁 [PATCH v4 5/7]，该补丁旨在添加对 FEAT_{LS64, LS64_V} 的支持。LS64 和 LS64_V 特性主要用于设备内存的原子操作，但在用户空间如何安全使用这些指令引发了广泛讨论。<br><br>在历史讨论中，参与者们关注了如何确保用户空间能够正确识别哪些内存区域支持这些指令。Will Deacon 提出，盲目暴露这些特性可能会导致不良后果，特别是在访问不支持的内存区域时可能会引发数据中断（SIGBUS）。Yicong Yang 和 Jonathan Cameron 也讨论了如何在硬件能力（hwcap）中准确描述这些特性。<br><br>在本周的新讨论中，Yicong Yang 强调，用户应对在支持的内存上使用 LS64 指令负责。Catalin Marinas 提出，当前缺乏机制来识别内存系统的支持情况，可能需要在固件表中提供额外信息。最终，参与者们达成共识，建议在文档中明确指出，只有在整个系统支持的情况下，才应在 CPU ID 字段中宣传这些特性。此外，Yicong Yang 提出可以考虑不在 hwcap 中显示这些特性，而是让用户直接从 CPU ID 寄存器或内核日志中获取支持信息。<br><br>总体而言，讨论集中在如何安全地使用新特性以及如何在系统中有效地传达这些信息，以避免潜在的错误和系统不稳定。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jonathan Cameron <span class="email-sender">&lt;jonathan.cameron@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v5 0/6] initialize SCTRL2_ELx</h3>
                </div>

                <div class="thread-meta">
                    <span>9 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-17</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于在 Linux 中初始化 SCTRL2_ELx 寄存器的补丁系列（[PATCH v5 0/6]）。该补丁旨在为 ARMv8.8/ARMv9.3 及以上版本的架构提供对 SCTLR2_ELx 寄存器的初步支持，虽然当前 Linux 并不严格需要修改这些寄存器，但未来的架构特性（如 FEAT_PAuth_LR 和 FEAT_CPA2）将需要配置这些寄存器中的控制位。<br><br>在之前的讨论中，补丁经历了多个版本的迭代，主要集中在如何正确初始化和访问 SCTLR2_ELx 寄存器，以及在 CPU 启动、挂起和恢复时的状态管理。补丁的历史版本中，开发者对寄存器的设置和文档进行了多次修正和完善。<br><br>本周的新讨论中，Yeoreum Yun 提交了六个补丁，具体包括：<br>1. 使 SCTLR2_EL1 可访问。<br>2. 在启动时初始化 SCTLR2_ELx 寄存器。<br>3. 在 CPU 挂起和恢复时保存和恢复 SCTLR2_EL1 的值。<br>4. 在软重启时初始化 SCTLR2_EL1。<br>5. 使 SCTLR2_EL1 支持每个任务的配置。<br>6. 更新文档以说明 FEAT_SCTLR2 的启动要求。<br><br>尽管补丁得到了部分认可，但参与者 Will Deacon 提出在尚未明确使用该寄存器的情况下，不建议合并这些补丁。整体来看，讨论围绕如何为未来的架构特性做好准备而展开。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v5 0/6] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v5 1/6] arm64: make SCTLR2_EL1 accessible</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v5 2/6] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v5 3/6] arm64: save/restore SCTLR2_EL1 when cpu_suspend()/resume()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v5 4/6] arm64: initialise SCTLR2_EL1 at cpu_soft_restart()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v5 5/6] arm64: make the per-task SCTLR2_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v5 6/6] docs: arm64: Document booting requirements for FEAT_SCTLR2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v5 0/6] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v5 0/6] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 0/2] arm64: Support FEAT_LSFE (Large System Float
 Extension)</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-09-18</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了对 ARM64 架构的 FEAT_LSFE（大系统浮点扩展）的支持，主要通过两个补丁进行实现。<br><br>1. **原始补丁内容**：补丁 v4 的目标是为 ARM64 架构添加对 FEAT_LSFE 的支持，该特性从 v9.5 开始是可选的，旨在提供原子浮点内存操作的新指令。补丁中包括了对硬件能力的暴露，以便用户空间能够识别该特性，并允许 KVM 客户端访问相关的 ID 寄存器字段。<br><br>2. **之前讨论要点**：在之前的讨论中，补丁经历了多个版本的迭代，主要集中在代码的重构和修复测试结果等方面。补丁的历史版本链接也被提供，以便参与者参考。<br><br>3. **本周的新讨论与进展**：本周的讨论中，Mark Brown 提交了两个补丁，分别是将 FEAT_LSFE 暴露给 KVM 客户端和将其添加到自测工具中。Oliver Upton 提出需要在自测中添加对新特性字段可写性的测试，并表示已审核通过。Marc Zyngier 和 Will Deacon 确认了补丁的应用，表示已将其合并到相应的分支中。<br><br>总体来看，本周的讨论主要集中在补丁的最终确认和测试完善上，确保 FEAT_LSFE 的功能能够顺利集成到内核中。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v4 0/2] arm64: Support FEAT_LSFE (Large System Float
 Extension)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v4 1/2] KVM: arm64: Expose FEAT_LSFE to guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH v4 2/2] kselftest/arm64: Add lsfe to the hwcaps test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH v4 1/2] KVM: arm64: Expose FEAT_LSFE to guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH v4 1/2] KVM: arm64: Expose FEAT_LSFE to guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: (subset) [PATCH v4 1/2] KVM: arm64: Expose FEAT_LSFE to guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v4 0/2] arm64: Support FEAT_LSFE (Large System Float Extension)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v8 00/12] perf: arm_spe: Armv8.8 SPE features</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-09-01</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 Armv8.8 SPE 特性的补丁集（PATCH v8 00/12），主要由 James Clark 提出。该补丁集旨在支持三项新 SPE 特性：FEAT_SPEv1p4 过滤器、FEAT_SPE_EFT 扩展过滤和 SPE_FEAT_FDS 数据源过滤。这些特性可以独立应用，补丁分为多个部分，涉及系统寄存器的更改及性能工具的调整。<br><br>在历史讨论中，James Clark 提到补丁 7 和 8 仍需维护者的确认，才能继续处理后续补丁。补丁 1 到 6 已被 Will Deacon 应用到其分支中。<br><br>在本周的新讨论中，Will Deacon 确认已应用前六个补丁，并提醒其他维护者关注补丁 7 和 8 的审核。Leo Yan 也跟进了这一请求，确保相关维护者能及时查看。Marc Zyngier 表示，补丁 7 将直接纳入 KVM 树中，因为其与当前系列完全独立，并且 KVM 已知晓 FEAT_SPE_FSD 的相关性。最终，Marc 确认已将补丁 7 应用到下一个版本中。<br><br>总体来看，本周的讨论主要集中在补丁的应用进展和后续审核的协调上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-01]</span> <span class="email-subject">[PATCH v8 00/12] perf: arm_spe: Armv8.8 SPE features</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-01]</span> <span class="email-subject">[PATCH v8 07/12] KVM: arm64: Add trap configs for PMSDSFR_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH v8 00/12] perf: arm_spe: Armv8.8 SPE features</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v8 00/12] perf: arm_spe: Armv8.8 SPE features</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v8 07/12] KVM: arm64: Add trap configs for PMSDSFR_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: (subset) [PATCH v8 07/12] KVM: arm64: Add trap configs for PMSDSFR_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] PMCR_EL0.N is RAZ/WI. At least a build failes in Ubuntu 22.04 LTS. Remove the set function.</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-12</span>
                </div>

                <div class="ai-summary">
                    在本次邮件讨论中，主要围绕一个补丁（patch）进行，主题为“PMCR_EL0.N 是 RAZ/WI，至少在 Ubuntu 22.04 LTS 中导致构建失败，建议移除设置函数”。该补丁的目的是解决在 Ubuntu 22.04 LTS 中出现的构建错误。<br><br>在历史讨论中，参与者 Marc Zyngier 对补丁的提交信息表示质疑，认为缺乏足够的背景说明，无法理解补丁的有效性。Itaru Kitayama 随后表示将放弃该补丁，但 Marc 认为应该进一步讨论问题并寻找解决方案。<br><br>在本周的新讨论中，Itaru 解释了构建错误的具体情况，并强调尽管 PMCR_EL0.N 位字段在写入时被忽略，但为了与其他寄存器位字段的处理保持一致，仍需在 `vpmu_counter_access.c` 文件中保留写操作的检查。Marc 则询问了使用的编译器版本，表示不太可能安装较旧的 Ubuntu，但可以选择相应的编译器版本。Itaru 随后提供了所用编译器的详细信息，版本为 gcc 11.2.0。<br><br>总体来看，讨论围绕补丁的有效性和构建错误的原因展开，参与者之间的交流逐渐深入，旨在找到合适的解决方案。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">Re: [PATCH] PMCR_EL0.N is RAZ/WI. At least a build failes in Ubuntu 22.04 LTS. Remove the set function.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">Re: [PATCH] PMCR_EL0.N is RAZ/WI. At least a build failes in Ubuntu 22.04 LTS. Remove the set function.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Itaru Kitayama <span class="email-sender">&lt;itaru.kitayama@gmail.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">Re: [PATCH] PMCR_EL0.N is RAZ/WI. At least a build failes in Ubuntu 22.04 LTS. Remove the set function.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH] PMCR_EL0.N is RAZ/WI. At least a build failes in Ubuntu
 22.04 LTS. Remove the set function.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Itaru Kitayama <span class="email-sender">&lt;itaru.kitayama@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH] PMCR_EL0.N is RAZ/WI. At least a build failes in Ubuntu 22.04 LTS. Remove the set function.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH] PMCR_EL0.N is RAZ/WI. At least a build failes in Ubuntu
 22.04 LTS. Remove the set function.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Itaru Kitayama <span class="email-sender">&lt;itaru.kitayama@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V5 0/4] arm64/sysreg: Clean up TCR_EL1 field macros</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-21</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 ARM64 架构的补丁集，主要目的是清理和更新 TCR_EL1 字段宏。补丁分为四个部分，涉及到对 TCR_EL1 寄存器的字段定义进行整理，以提高代码的可读性和维护性。<br><br>在历史讨论中，补丁的初步版本（V1 至 V4）逐步演变，主要变化包括将 TCR_XXX 宏从 `pgtable-hwdef.h` 文件中移至 KVM 头文件 `kvm_arm.h`，并删除未使用的宏。补丁的设计确保了功能上的不变性，所有的宏替换都基于工具的 sysreg 格式进行。<br><br>本周的新讨论中，Anshuman Khandual 提出了补丁的最终版本（V5），并详细说明了每个补丁的具体内容：<br>1. **补丁 1**：将 TCR_NFD[0|1] 替换为 TCR_EL1_NFD[0|1]，以便于后续的清理工作。<br>2. **补丁 2**：更新 TCR_EL1 寄存器字段，以符合最新的 ARM 文档。<br>3. **补丁 3**：用工具 sysreg 格式的字段替换所有使用的 TCR_EL1 字段宏，并从 `pgtable-hwdef.h` 中删除这些宏。<br>4. **补丁 4**：将所有必需的 TCR_XXX 宏移入 KVM 头文件，以便继续在 KVM 中使用。<br><br>这些补丁的实施将有助于提升 ARM64 代码的整洁性和一致性，同时保持现有功能不变。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-21]</span> <span class="email-subject">[PATCH V5 0/4] arm64/sysreg: Clean up TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-21]</span> <span class="email-subject">[PATCH V5 1/4] tools: header : arm64: Replace TCR_NFD[0|1] with TCR_EL1_NFD[0|1]</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-21]</span> <span class="email-subject">[PATCH V5 2/4] arm64/sysreg: Update TCR_EL1 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-21]</span> <span class="email-subject">[PATCH V5 3/4] arm64/sysreg: Replace TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-21]</span> <span class="email-subject">[PATCH V5 4/4] KVM: arm64: Move inside all required TCR_XXX macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Validate input range for pKVM mem transitions</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-18</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，主要目的是验证 pKVM 内存转换的输入范围。补丁的核心是增加一个 `range_is_valid()` 函数，以确保内存范围的起始和结束地址是有效的，防止溢出问题。<br><br>在历史讨论中，补丁的提出者 Vincent Donnefort 指出，当前在大多数 pKVM 内存转换中缺乏对主机发起的地址范围的验证，这可能导致后续的边界检查失效。补丁通过在相关公共函数中添加 `range_is_valid()` 检查来解决这一问题。<br><br>在本周的新讨论中，参与者对补丁进行了评审和讨论。Oliver Upton 表示补丁看起来正确，并给予了认可。Quentin Perret 提出，考虑到可能的溢出问题，建议将计算逻辑整合到 `range_is_valid()` 函数中，以提高安全性。Vincent Donnefort 对此表示理解，并表示愿意根据讨论结果重新调整补丁。<br><br>总体来看，本周的讨论集中在补丁的细节和潜在改进上，参与者对补丁的方向表示支持，并提出了进一步的建议。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH] KVM: arm64: Validate input range for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Validate input range for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Validate input range for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Validate input range for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Validate input range for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V4 0/2] arm64/sysreg: Clean up TCR_EL1 field macros</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-07</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 ARM64 架构的 TCR_EL1 字段宏的清理工作，主要涉及两个补丁（PATCH V4 0/2 和 PATCH V4 2/2）。第一个补丁的目的是将分散在 ARM64 平台代码和 KVM 实现中的 TCR_EL1 字段宏进行整理，更新所需的寄存器字段定义，并将所有相关的 TCR_XXX 宏从 pgtable-hwdef.h 移动到 KVM 头文件 asm/kvm_arm.h，以便在 KVM 中继续使用。这一清理工作不会引入任何功能上的变化。<br><br>在历史讨论中，Anshuman Khandual 提出了这一补丁，并得到了多位开发者的关注和反馈。讨论的重点在于如何有效地组织和替换这些宏，以提高代码的可维护性。<br><br>在本周的新讨论中，Anshuman Khandual 询问了补丁的进展，并得到了 Will Deacon 的回应，建议将工具补丁与架构补丁分开，以避免混淆。随后，Anshuman 同意了这一建议，并计划按照一定顺序拆分这些更改，包括更新 ARM64 工具 sysreg、工具头文件、内核更新及 KVM 特定更新等。<br><br>总体来看，本周的讨论集中在补丁的组织和实施顺序上，推动了清理工作的进一步进展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-07]</span> <span class="email-subject">[PATCH V4 0/2] arm64/sysreg: Clean up TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-07]</span> <span class="email-subject">[PATCH V4 2/2] arm64/sysreg: Replace TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH V4 0/2] arm64/sysreg: Clean up TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH V4 2/2] arm64/sysreg: Replace TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH V4 2/2] arm64/sysreg: Replace TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v10 05/43] arm64: RME: Check for RME support at KVM init</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-03</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 ARM64 架构的补丁，主题为“[PATCH v10 05/43] arm64: RME: Check for RME support at KVM init”。该补丁的目的是在 KVM 初始化时检查对 RME（Realm Management Extensions）的支持。<br><br>在历史讨论中，Gavin Shan 提出了对补丁的一些细微修改建议，包括移除冗余的头文件包含和调整注释位置，以提高代码的可读性和可维护性。此外，他还进行了测试，并报告了测试结果，确认了补丁在特定组合下的正常运行。<br><br>在本周的新讨论中，Steven Price 对 Gavin 的建议表示赞同，认为在使用头文件定义时显式包含是更好的做法，以便于未来的代码重构。同时，他也讨论了错误处理路径的注释和代码格式问题，认为可以通过调整代码结构来提高可读性。整体来看，本周的讨论主要集中在代码质量和可维护性上，未涉及新的功能或重大问题的提出。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-03]</span> <span class="email-subject">Re: [PATCH v10 05/43] arm64: RME: Check for RME support at KVM init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-04]</span> <span class="email-subject">Re: [PATCH v10 00/43] arm64: Support for Arm CCA in KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v10 02/43] arm64: RME: Handle Granule Protection Faults
 (GPFs)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v10 05/43] arm64: RME: Check for RME support at KVM init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v10 00/43] arm64: Support for Arm CCA in KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH RESEND v7 6/6] arm64: futex: support futex with FEAT_LSUI</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-11</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于对 ARM64 架构的 futex 支持 FEAT_LSUI 特性的补丁（patch）。该补丁旨在增强 ARM64 的 futex 操作，以利用新引入的 LSUI 指令。<br><br>在历史讨论中，参与者主要探讨了补丁的设计和实现细节。Will Deacon 提出了对新指令是否考虑到 futex 的疑问，并讨论了使用 CAS（比较并交换）与 exclusives 的优劣。Catalin Marinas 认为可以在实现中去掉不必要的 uaccess_ttbr0_*() 函数，并指出这是架构设计中的一个不幸遗漏。他对补丁表示了支持，并给出了“Reviewed-by”的反馈。<br><br>在本周的新讨论中，Yeoreum Yun 对 Catalin 的建议表示感谢，并确认将进行相应的修改。他还提到，保持 llsc 方法在使用 lsui 进行 cmpxchg 和 eor 时是必要的，以避免对其他 32 位操作的影响可能导致 futex 原子操作失败。<br><br>总体来看，本周的讨论集中在对补丁的细节修改和确保其正确性上，参与者们达成了一致意见，继续推进该补丁的完善。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">Re: [PATCH RESEND v7 6/6] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">Re: [PATCH RESEND v7 6/6] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">Re: [PATCH RESEND v7 6/6] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH RESEND v7 6/6] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH RESEND v7 6/6] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v8 00/29] KVM: arm64: Implement support for SME</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-02</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM (Kernel-based Virtual Machine) 在 arm64 架构上实现对 SME (Scalable Matrix Extension) 的支持，具体涉及到一系列补丁的提交与讨论。<br><br>**原始补丁内容**：<br>Mark Brown 提交的补丁系列（[PATCH v8 00/29]）旨在实现对 SME 的支持，主要关注用户空间 ABI 的设计，包括 SVE 寄存器的向量长度、对 SVE 和 ZA/ZT0 的访问，以及细粒度陷阱的控制。<br><br>**之前讨论要点**：<br>在历史讨论中，Mark 提出了对细粒度陷阱（FGT）控制的补丁（[PATCH v8 06/29]），强调了在虚拟机（VM）层面上进行控制的局限性，指出这种方式不适合，因为不同的虚拟 CPU（vCPU）可能有不同的需求。讨论中提到，FGT 的处理应更灵活，避免将读写操作混淆。<br><br>**本周的新讨论**：<br>在本周的讨论中，Marc Zyngier 对 FGT 控制的实现提出了进一步的建议，认为应将 FGT 的处理从 VM 层面转变为 vCPU 层面，并分离读写操作的控制。这一建议得到了 Mark 的认可，认为将 FGT 处理改为 per-vCPU 的方式更加合理，并且可以更好地适应不同 vCPU 的需求。<br><br>总体来看，本周的讨论推动了对 SME 支持的补丁在细节上的进一步完善，特别是在细粒度陷阱控制的实现上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-02]</span> <span class="email-subject">[PATCH v8 00/29] KVM: arm64: Implement support for SME</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-02]</span> <span class="email-subject">[PATCH v8 06/29] KVM: arm64: Introduce non-UNDEF FGT control</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v8 06/29] KVM: arm64: Introduce non-UNDEF FGT control</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v8 06/29] KVM: arm64: Introduce non-UNDEF FGT control</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: nv: Allow userspace to de-feature stage-2 TGRANs</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-18</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，目的是允许用户空间去除 stage-2 TGRAN（翻译粒度）功能。补丁的主要内容是更新特定的清理逻辑，以允许用户去除某个 TGRAN，而不允许使用指向 stage-1 字段的遗留值。<br><br>在之前的讨论中，补丁的作者 Oliver Upton 提到，KVM 在 NV（Nested Virtualization）启用的虚拟机中，虽然将 stage-2 TGRAN 字段标记为可写，但实际上却阻止了任何修改。补丁通过调整逻辑，允许用户在不违反规则的情况下去除特定的 TGRAN。<br><br>本周的讨论中，Oliver Upton 提出了对补丁的细微修改建议，要求将补丁的抄送者更改为报告者，以正确反映 Itaru Kitayama 的贡献。Suzuki K Poulose 也对补丁表示认可，并建议将函数命名为更明确的形式，以指示其针对 NV 的特性。最后，Marc Zyngier 确认已将补丁应用到下一步的开发中。<br><br>综上所述，本周的讨论主要集中在补丁的细节修改和确认上，补丁已获得通过并将继续推进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">[PATCH] KVM: arm64: nv: Allow userspace to de-feature stage-2 TGRANs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: Allow userspace to de-feature stage-2
 TGRANs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: Allow userspace to de-feature stage-2
 TGRANs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: Allow userspace to de-feature stage-2 TGRANs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Fix kvm_vcpu_{set,is}_be() to deal with EL2 state</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-16</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 ARM64 架构下的一个补丁，旨在修复 `kvm_vcpu_{set,is}_be()` 函数，以更好地处理 EL2 状态。<br><br>**原始补丁内容**：<br>Marc Zyngier 提出的补丁主要是为了让 KVM 在评估或设置 PSCI（Power State Coordination Interface）中的字节序时，能够考虑 SCTLR_EL2（系统控制寄存器 EL2）。当前实现只关注 SCTLR_EL1，导致对 L2 状态的处理不够全面。补丁通过修改相关代码，使得在处理字节序时能够正确引用 SCTLR_EL2。<br><br>**之前讨论要点**：<br>虽然邮件中没有详细的历史讨论，但可以看出，Marc Zyngier 在补丁中提到，尽管大多数情况下对大端（BE）的关注不高，但仍需确保 KVM 的实现能够正确处理不同的状态。<br><br>**本周的新讨论与进展**：<br>在本周的讨论中，Oliver Upton 对补丁进行了审查并表示认可，确认了补丁中已经考虑了必要的清理工作。Marc Zyngier 进一步指出，尽管 SCTLR_EL2 仍存在一些复杂性（如 E2H 相关的位），但他会在未来的工作中继续关注这些问题。最终，Marc Zyngier 宣布补丁已被应用到下一版本中，标志着该修复的完成。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">[PATCH] KVM: arm64: Fix kvm_vcpu_{set,is}_be() to deal with EL2 state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix kvm_vcpu_{set,is}_be() to deal with EL2
 state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix kvm_vcpu_{set,is}_be() to deal with EL2 state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix kvm_vcpu_{set,is}_be() to deal with EL2 state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/2] Dump instructions on panic for pKVM/nvhe</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-09</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 pKVM 和 nvhe 中处理内核崩溃时转储指令的补丁。最初的补丁（PATCH v2 0/2）由 Mostafa Saleh 提出，旨在实现类似于内核崩溃时打印指令代码的功能，以便在 hypervisor 崩溃时也能输出相关信息。补丁的第一部分（PATCH v2 1/2）专注于在 nvhe 环境下实现这一功能，而第二部分则计划为 pKVM 添加支持。<br><br>在历史讨论中，Mostafa 提到该补丁在启用 `CONFIG_NVHE_EL2_DEBUG` 时有效，并且移除了硬编码的参数 `dump_kernel_instr()`。补丁得到了 Kunwu Chan 的测试和审核。<br><br>在本周的新讨论中，Will Deacon 对补丁表示认可，并确认了其有效性（Acked-by）。此外，Marc Zyngier 也表示已将补丁应用到下一个版本中，并确认了两个补丁的提交（commit）。这表明该补丁系列已获得社区的支持并进入实施阶段。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-09]</span> <span class="email-subject">[PATCH v2 0/2] Dump instructions on panic for pKVM/nvhe</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-09]</span> <span class="email-subject">[PATCH v2 1/2] KVM: arm64: Dump instruction on hyp panic</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v2 1/2] KVM: arm64: Dump instruction on hyp panic</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v2 0/2] Dump instructions on panic for pKVM/nvhe</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH RESEND v7 3/6] arm64: Kconfig: add LSUI Kconfig</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-12</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 arm64 架构的 Kconfig 中添加 LSUI 配置的补丁（patch）。该补丁的目的是检测工具链对 LSUI 的支持，相关的 binutils 2.45 版本已经添加了对 LSUI 的支持。<br><br>在历史讨论中，Catalin Marinas 对补丁提出了一些建议，包括改进主题表述和格式上的小细节（如增加两个空格的缩进）。他表示补丁整体看起来不错，并给予了审核通过的意见。<br><br>在本周的新讨论中，Yeoreum Yun 表示会根据 Catalin 的建议进行修改，并计划重新提交补丁。Will Deacon 则建议在 CAS 讨论结束之前不要重新提交补丁，Yeoreum 随后确认会等待 Will 的进一步评论，以便继续推进讨论。<br><br>总体来看，本周的讨论主要集中在补丁的修改和后续讨论的进展上，尚未达成最终结论。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">Re: [PATCH RESEND v7 3/6] arm64: Kconfig: add LSUI Kconfig</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH RESEND v7 3/6] arm64: Kconfig: add LSUI Kconfig</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH RESEND v7 3/6] arm64: Kconfig: add LSUI Kconfig</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH RESEND v7 3/6] arm64: Kconfig: add LSUI Kconfig</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2] KVM: arm64: Fix NULL pointer access issue</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-02</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于修复 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 NULL 指针访问问题的补丁（patch）。最初的补丁由 Yingchao Deng 提出，目的是在 Linux 启动于 EL1 模式时，防止因 KVM 未初始化而导致的 NULL 指针解引用。补丁通过添加条件检查 `is_kvm_arm_initialised()`，确保 KVM 初始化完成后再进行访问，从而避免潜在的崩溃。<br><br>在历史讨论中，参与者 Oliver Upton 提出补丁的简要描述应更清晰，并建议对补丁的提交日志进行改写，使其更易于理解。Upton 强调了补丁的功能变化，建议将其描述为“当 KVM 不可用时，提前返回跟踪助手”。<br><br>在本周的新讨论中，Marc Zyngier 表示他将合并该补丁，并根据 Upton 的建议重新编写了提交日志，同时对相关助手进行了重构以提高可读性。最终，补丁被确认并应用，解决了 NULL 指针访问的问题，确保了 KVM 的稳定性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-02]</span> <span class="email-subject">[PATCH v2] KVM: arm64: Fix NULL pointer access issue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yingchao Deng <span class="email-sender">&lt;yingchao.deng@oss.qualcomm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-04]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Fix NULL pointer access issue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Fix NULL pointer access issue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Fix NULL pointer access issue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7 RESEND 5/6] arm64: futex: small optimisation for
 __llsc_futex_atomic_set()</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-11</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于一个针对 arm64 架构的 futex 实现的小优化补丁（PATCH v7 RESEND 5/6），该补丁旨在优化 `__llsc_futex_atomic_set()` 函数。历史讨论中，参与者对该补丁的必要性表示怀疑。Will Deacon 认为这个优化可能没有实际效果，并且增加了新的汇编代码可能会影响可维护性。Yeoreum Yun 表示虽然他也有类似疑虑，但由于该代码频繁修改，认为即使是小的优化也值得尝试。然而，他并没有强烈支持这个补丁，表示如果影响可维护性，则可以放弃。Catalin Marinas 最后建议如果没有明显的性能提升，最好暂时放弃这个补丁。<br><br>在本周的新讨论中，Yeoreum Yun 确认了之前的观点，表示这个补丁的改进效果不明显，因此决定放弃该补丁。整体来看，讨论的结论是该补丁未能获得支持，最终被决定不予采用。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">Re: [PATCH v7 RESEND 5/6] arm64: futex: small optimisation for
 __llsc_futex_atomic_set()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">Re: [PATCH v7 RESEND 5/6] arm64: futex: small optimisation for
 __llsc_futex_atomic_set()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v7 RESEND 5/6] arm64: futex: small optimisation for
 __llsc_futex_atomic_set()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v7 RESEND 5/6] arm64: futex: small optimisation for
 __llsc_futex_atomic_set()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v1] KVM: arm64: Fix page leak in user_mem_abort()</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-17</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，旨在修复 `user_mem_abort()` 函数中的页面泄漏问题。<br><br>1. **原始补丁内容**：补丁由 Fuad Tabba 提出，主要修复了 `user_mem_abort()` 函数在处理阶段 1 和阶段 2 映射属性不匹配时，未能释放获取的页面引用的问题。补丁通过在返回错误之前存储错误代码并释放未使用的页面来解决这一问题。<br><br>2. **之前的讨论要点**：本邮件线程没有提供历史讨论的内容，所有讨论均集中在本周的新进展上。<br><br>3. **本周的新讨论和进展**：在本周的讨论中，Fuad Tabba 提交了补丁，并得到了 Oliver Upton 的认可，表示“很好的发现”。Marc Zyngier 随后确认已将补丁应用到下一个版本中。补丁的提交记录为 `5f9466b50c1b4253d91abf81780b90a722133162`。<br><br>总体而言，本周的讨论集中在对补丁的审查和确认上，显示出社区对修复页面泄漏问题的重视。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH v1] KVM: arm64: Fix page leak in user_mem_abort()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v1] KVM: arm64: Fix page leak in user_mem_abort()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v1] KVM: arm64: Fix page leak in user_mem_abort()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/3] arm64: Support FEAT_LSFE (Large System Float Extension)</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-16</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 ARM64 架构的补丁，旨在支持大型系统浮点扩展（FEAT_LSFE）。该补丁分为三个部分，其中第一个补丁已被应用于 ARM64 的 cpufeature 中，具体内容涉及为 FEAT_LSFE 添加硬件能力标志（hwcap）。<br><br>在之前的讨论中，参与者 Mark Brown 提到第一个补丁已成功应用，并对补丁的实现表示感谢。随后，Will Deacon 对第三个补丁提出了疑问，指出可能存在的编译器问题，特别是关于 H0 寄存器的潜在损坏，并询问为何需要 "cc" 破坏约束。<br><br>在本周的新讨论中，Will Deacon 和 Mark Brown 继续探讨了第三个补丁的实现细节。Will 认为使用 STFADD 指令会更合适，并指出在实际应用中，编译器不太可能在生成的指令中使用浮点操作，因此使用 "cc" 破坏约束可能是多余的。Mark 也同意这种看法，并表示在约束方面的处理可以更为简化。<br><br>总体来看，本周的讨论集中在补丁的实现细节和潜在问题上，参与者们对如何更有效地处理编译器约束进行了深入交流。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v3 0/3] arm64: Support FEAT_LSFE (Large System Float Extension)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v3 3/3] kselftest/arm64: Add lsfe to the hwcaps test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v3 3/3] kselftest/arm64: Add lsfe to the hwcaps test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH RESEND v7 0/6] support FEAT_LSUI and apply it on futex
 atomic ops</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-11</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于支持 FEAT_LSUI 特性并将其应用于 futex 原子操作的补丁（patch）。该补丁的目的是增强 Linux 内核在处理原子操作时的性能。<br><br>在历史讨论中，参与者 Yeoreum Yun 提出了对补丁的审查请求，但未能找到关于 FEAT_LSUI 的详细信息，询问应查看哪个架构规范。Will Deacon 回应指出，目前该信息仅在公共 XML 文档中可用，预计年内会发布 Arm ARM 的正式版本，但目前只能参考私有的 2024 架构规范，这种情况并不理想。<br><br>在本周的新讨论中，Will Deacon 对 Catalin Marinas 的回复表示感谢，认为公共 XML 文档虽然不完美，但比没有信息要好。Will 还表示，只要 Catalin 继续参与审查，补丁的审查过程可以继续进行。<br><br>总体而言，讨论围绕补丁的审查和 FEAT_LSUI 的架构信息展开，尽管存在信息不足的问题，但参与者对补丁的审查持积极态度。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">Re: [PATCH RESEND v7 0/6] support FEAT_LSUI and apply it on futex
 atomic ops</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">Re: [PATCH RESEND v7 0/6] support FEAT_LSUI and apply it on futex
 atomic ops</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH RESEND v7 0/6] support FEAT_LSUI and apply it on futex
 atomic ops</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Update stale comment for sanitise_mte_tags()</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-15</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，旨在更新 `sanitise_mte_tags()` 函数的注释。<br><br>1. **原始补丁内容**：补丁的主要目的是更新 `sanitise_mte_tags()` 函数中的过时注释。补丁指出，随着提交 c911f0d46879 的引入，允许在启用 MTE（Memory Tagging Extension）的虚拟机中使用 VM_SHARED 映射，因此需要删除与此相悖的注释。同时，提交 d77e59a8fccd 解决了多个线程同时初始化时可能导致标签被多次清零的竞争条件，因此也需删除与 mmap_lock 相关的注释。补丁强调，`sanitise_mte_tags()` 函数仍需在持有 `kvm->mmu_lock` 的情况下调用，以确保在标签被清零时内存保持映射状态。<br><br>2. **之前讨论要点**：本邮件线程没有提供历史讨论的内容，所有讨论均为本周的新进展。<br><br>3. **本周的新讨论与进展**：本周的讨论中，Alexandru Elisei 提交了补丁，Steven Price 对其进行了审核并表示认可，Marc Zyngier 则确认已将该补丁应用到下一个版本中。补丁的提交和审核过程顺利，显示出团队对该更新的支持与认可。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[PATCH] KVM: arm64: Update stale comment for sanitise_mte_tags()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Update stale comment for sanitise_mte_tags()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Update stale comment for sanitise_mte_tags()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2] KVM: arm64: Check range args for pKVM mem transitions</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-19</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的内存过渡检查，特别是针对 pKVM 的内存转换。Vincent Donnefort 提出的 patch（补丁）旨在增加对主机发起的内存范围参数的验证，以防止潜在的溢出问题，确保内存操作的安全性。具体来说，补丁引入了一个新的函数 `check_range_args()`，用于检查内存起始地址和页数的有效性。<br><br>在之前的讨论中，Vincent 提到，现有的 pKVM 内存转换缺乏对范围参数的验证，可能导致后续的边界检查失效。补丁的 v2 版本在 v1 的基础上进行了改进，增加了对页数乘以页面大小溢出的检查，并重命名了检查函数。<br><br>本周的讨论中，Marc Zyngier 对补丁提出了进一步的建议，指出边界检查应包含范围的结束值，以避免在处理 64 位地址时出现不必要的失败。他强调，这种检查对虚拟地址（VAs）同样重要，建议在实现中考虑这一点。整体来看，讨论围绕着增强内存安全性和确保补丁的有效性展开。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">[PATCH v2] KVM: arm64: Check range args for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-21]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Check range args for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/4] Add workaround for HIP10/HIP10C erratum 162200802</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-01</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是针对HIP10/HIP10C erratum 162200802的补丁（PATCH v2 0/4）。该补丁的主要内容是首先增加对GICD.num_LPIs可写支持，然后再添加针对该错误的修复。<br><br>在历史讨论中，Zhou Wang提到如果该补丁系列得到认可，他将准备与QEMU相关的补丁。之前的讨论集中在补丁的可行性及其对硬件的影响，Zhou Wang在邮件中提到的v1系列补丁链接提供了更多背景信息。<br><br>在本周的新讨论中，Marc Zyngier对补丁提出了进一步的建议。他表示希望在将相关内容暴露给用户空间之前，首先在GIC级别上确定策略，以确保在内核中实现的方式是可行的。这表明对补丁的实施策略仍需进一步的讨论和确认，以确保硬件状态的适当处理。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v2 0/4] Add workaround for HIP10/HIP10C erratum 162200802</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhou Wang <span class="email-sender">&lt;wangzhou1@hisilicon.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v2 0/4] Add workaround for HIP10/HIP10C erratum 162200802</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 00/11] KVM: arm64: nv: Align feature limitations with current state of support</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-12</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的特性限制调整，主要围绕一个补丁集（PATCH 00/11）进行。该补丁的核心内容是将当前对 NV（Non-Volatile）虚拟机隐藏的特性与实际支持状态对齐，修正了之前对某些特性的错误声明，并引入了否定列表（denylist）机制，以更清晰地表达不支持的特性。<br><br>在历史讨论中，Oliver Upton 提出了补丁的背景，指出现有的特性掩码存在混乱，部分特性实际上是可以支持的，但未及时更新掩码。此外，他还发现了一个与 FEAT_DoubleLock 相关的错误。<br><br>在本周的新讨论中，Marc Zyngier 确认已将补丁应用到下一步开发中，并列出了补丁集中各个补丁的提交信息，包括将掩码转换为否定列表、修正 FEAT_DoubleLock 的声明、以及向 NV 启用的虚拟机暴露多个新特性（如 FEAT_DF2、FEAT_RASv1p1 等）。整体来看，本周的进展是补丁已被接受并应用，标志着该特性限制调整工作的推进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-12]</span> <span class="email-subject">[PATCH 00/11] KVM: arm64: nv: Align feature limitations with current state of support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH 00/11] KVM: arm64: nv: Align feature limitations with current state of support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/2] KVM: arm64: make EL2 feature fields writable in ID_AA64MMFR1_EL1</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-11</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，旨在使 EL2 特性字段在 ID_AA64MMFR1_EL1 中可被用户空间写入，以便在不同特性支持的主机之间确保虚拟机的实时迁移兼容性。<br><br>**原始补丁内容**：<br>补丁的核心是允许用户空间降级 EL2 特性（如 TWED 和 HCX），以解决在不同主机间迁移时可能出现的不兼容问题。具体而言，虽然 ID_AA64MMFR1_EL1.VH 是一个 EL2 特性，但在用户空间中仍然保持为不可写状态，这可能导致在特定情况下的内核不一致性。<br><br>**之前讨论要点**：<br>在历史讨论中，Jinqian Yang 提出了补丁的背景，强调了在 E2H=1 的情况下，若用户空间将 VH 位修改为 0，可能导致来宾内核仍在 vEL2 模式下运行，从而引发不一致性问题。<br><br>**本周的新讨论与进展**：<br>在本周的讨论中，Marc Zyngier 确认已将补丁应用到下一个版本中，并感谢了 Jinqian Yang 的贡献。补丁包括两个部分：一是使 ID_AA64MMFR1_EL1 中的 HCX 和 TWED 字段可由用户空间写入，二是增加自测试以验证对这些字段的写入操作。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-11]</span> <span class="email-subject">[PATCH v3 0/2] KVM: arm64: make EL2 feature fields writable in ID_AA64MMFR1_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jinqian Yang <span class="email-sender">&lt;yangjinqian1@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [PATCH v3 0/2] KVM: arm64: make EL2 feature fields writable in ID_AA64MMFR1_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v6 00/12] perf: arm_spe: Armv8.8 SPE features</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-17</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了关于 Armv8.8 SPE（可扩展性能监控）特性的补丁（PATCH v6 00/12）。该补丁旨在增强 Linux 内核中对 Arm 架构的性能监控功能。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测之前的讨论涉及到该补丁的设计和实现细节，特别是如何将 Armv8.8 SPE 特性集成到现有的性能监控工具中。<br><br>本周的新讨论主要集中在补丁的合并进度上。参与者 Arnaldo Carvalho de Melo 提到希望了解何时可以将相关工具（tools/perf）合并。Leo Yan 随后回应，确认 James 提交的最新补丁系列（v8）已经能够清晰地应用于最新的主线内核，并强调需要内核维护者的审查以便进一步推进该补丁的合并。<br><br>总结而言，本周的讨论主要是对 Armv8.8 SPE 特性补丁的合并进度进行跟进，强调了审查过程的重要性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v6 00/12] perf: arm_spe: Armv8.8 SPE features</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Arnaldo Carvalho de Melo <span class="email-sender">&lt;acme@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH v6 00/12] perf: arm_spe: Armv8.8 SPE features</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 1/5] KVM: arm64: Allow ICC_SRE_EL2 accesses on a GICv5 host</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-17</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（内核虚拟机）在 GICv5 主机上允许 ICC_SRE_EL2 访问的补丁（PATCH 1/5）。该补丁旨在增强对 GICv5 的支持，允许在特定条件下访问 ICC_SRE_EL2 寄存器。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测该补丁是为了提升 KVM 在 arm64 架构下的功能，尤其是在 GICv5 主机环境中。补丁系列的其他部分也涉及到 GICv5 的遗留支持和清理工作。<br><br>在本周的新讨论中，Marc Zyngier 提到他已经将补丁应用到下一步的开发中，并感谢 Sascha Bischoff 提出的相关建议。此外，补丁系列中的其他补丁也得到了确认和应用，包括启用 GICv5 主机的嵌套支持和添加 GICv5 遗留 vCPU 接口能力等。这表明该系列补丁正在稳步推进，进一步完善 KVM 对 GICv5 的支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH 1/5] KVM: arm64: Allow ICC_SRE_EL2 accesses on a GICv5 host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH 0/5] KVM: arm64: GICv5 legacy (GCIE_LEGACY) NV enablement and cleanup</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Don't access ICC_SRE_EL2 if GICv3 doesn't support v2 compatibility</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-17</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（内核虚拟机）的补丁，主题为「KVM: arm64: 不要在 GICv3 不支持 v2 兼容性时访问 ICC_SRE_EL2」。该补丁旨在优化对 ICC_SRE_EL2 寄存器的访问，避免在现代实现中不必要的开销。<br><br>在历史讨论中，邮件没有提供具体的背景信息，但补丁的主要内容是减少在 VHE（虚拟化高特权模式）和 nVHE（非虚拟化高特权模式）下对 ICC_SRE_EL2 的频繁访问，因为这些访问会导致性能损失。补丁通过引入一个静态键来替代之前对 GICv5 兼容性检查的逻辑，确保只有在 GICv3 支持 v2 兼容性时才访问该寄存器。<br><br>在本周的新讨论中，Marc Zyngier 提出了补丁，并详细解释了其目的和实现方式。Oliver Upton 对该补丁进行了审查并表示认可，确认了补丁的有效性。这表明该补丁得到了积极的反馈，预计将被合并到代码库中。整体来看，本周的讨论集中在补丁的技术细节和审查反馈上，推动了该补丁的进展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">[PATCH] KVM: arm64: Don't access ICC_SRE_EL2 if GICv3 doesn't support v2 compatibility</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Don't access ICC_SRE_EL2 if GICv3 doesn't
 support v2 compatibility</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 2/5] arm64: initialise SCTLR2_ELx register at boot time</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-01</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于在启动时初始化 arm64 架构的 SCTLR2_ELx 寄存器的补丁（PATCH v4 2/5）。历史讨论中，Dave Martin 指出，简单地使用 `msr_s SYS_SCTLR_\el, \reg` 的方法无法正常工作，因为 C 预处理器在汇编宏展开之前只运行一次，导致无法正确构造系统寄存器名称。他认为 Yeoreum Yun 提出的代码看起来合理，但仍可能在某些情况下导致错误。<br><br>在本周的新讨论中，Yeoreum Yun 对之前的讨论进行了回复，表示抱歉回复晚了，并指出在其他用法中未能找到类似的情况。他认为在处理入口时，仅需检查 "el0" 情况，因此不需要将此逻辑应用于所有情况。他决定目前只将此补丁应用于 `set_sctlr2_elx`，并表示在未来如果有新的寄存器需要类似的处理时，再进行更广泛的应用。<br><br>总结来看，讨论围绕如何正确初始化 SCTLR2_ELx 寄存器展开，历史讨论提供了技术背景，而本周的进展则是对补丁应用范围的调整。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v4 2/5] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [PATCH v4 2/5] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH kvmtool v3 0/6] arm64: Nested virtualization support</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-08</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 arm64 架构的嵌套虚拟化支持的补丁（patch）[PATCH kvmtool v3 0/6]。该补丁旨在增强 KVM 工具的功能，使其能够支持嵌套虚拟化。<br><br>在历史讨论中，Will Deacon 提出了对补丁的关注，询问 Andre Przywara 是否计划根据 Alexandru 的意见进行补充修改。这表明在补丁的初步版本中，存在一些未解决的问题或改进建议。<br><br>在本周的新讨论中，Andre Przywara 确认他会对补丁进行重新修订，以回应 Will Deacon 的询问。这表明补丁的开发仍在继续，开发者们正在积极处理反馈，以提升补丁的质量和功能。<br><br>总体来看，当前的讨论主要集中在对补丁的进一步完善上，开发者们正在努力解决之前提出的意见，以推动嵌套虚拟化支持的实现。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-08]</span> <span class="email-subject">Re: [PATCH kvmtool v3 0/6] arm64: Nested virtualization support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH kvmtool v3 0/6] arm64: Nested virtualization support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andre Przywara <span class="email-sender">&lt;andre.przywara@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 0/9] KVM: arm64: Reserve pKVM VM handle during initial VM setup</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-09</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，主题为“在初始虚拟机设置期间保留 pKVM 虚拟机句柄”。该补丁的主要目的是解决在非保护模式下创建和销毁多个虚拟机时出现的错误，确保在调用 `pkvm_init_host_vm()` 时正确处理保护模式的启用。<br><br>在历史讨论中，Fuad Tabba 提到，补丁的第九部分修复了 Mark 报告的一个错误，之前的实现没有在保护模式启用的情况下调用 `pkvm_init_host_vm()`，导致了不平衡的问题。补丁还进行了基于 Linux 6.17-rc5 的重基。<br><br>在本周的新讨论中，Marc Zyngier 确认已将该补丁应用到下一步的开发中，并列出了所有补丁的提交信息，包括对 pKVM 的多个改进和重命名。这些改进旨在增强 pKVM 的功能和稳定性，确保其在不同模式下的正确运行。整体来看，讨论显示出对 pKVM 处理的持续关注和积极的开发进展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-09]</span> <span class="email-subject">[PATCH v4 0/9] KVM: arm64: Reserve pKVM VM handle during initial VM setup</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v4 0/9] KVM: arm64: Reserve pKVM VM handle during initial VM setup</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Fix debug checking for np-guests using huge
 mappings</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-15</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下修复针对使用大页映射的非伙伴（np-guests）虚拟机的调试检查问题。原始的 patch 提出了对调试检查进行修正，以确保在使用大页映射时能够正确处理非伙伴虚拟机的情况。<br><br>在之前的讨论中，参与者 Vincent Donnefort 提到他对修正的 Fixes 标签有所犹豫，但最终选择了 db14091d8f75 作为基准，因为这是开始产生功能性差异的地方。这个背景信息为本周的讨论提供了基础。<br><br>在本周的新讨论中，Ben Horgan 表示他已在本地调整了 patch，因此无需重新发送。同时，Vincent Donnefort 表示乐意根据需要更新 Fixes 标签。这表明讨论进展顺利，参与者之间的沟通有效，且对 patch 的修改和完善达成了一定的共识。整体来看，讨论集中在确保修复的准确性和功能性上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix debug checking for np-guests using huge
 mappings</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix debug checking for np-guests using huge mappings</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v5 00/44] KVM: x86: Add support for mediated vPMUs</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-18</span>
                </div>

                <div class="ai-summary">
                    本邮件主题为“[PATCH v5 00/44] KVM: x86: Add support for mediated vPMUs”，主要讨论了在KVM中添加对中介虚拟性能监控单元（vPMUs）的支持。<br><br>在历史讨论中，未提供具体的背景信息，因此我们无法了解之前的详细讨论内容。当前的patch旨在增强KVM的功能，特别是通过引入中介vPMUs来改善虚拟化性能监控。<br><br>本周的讨论中，参与者Sean Christopherson表示已经将部分KVM补丁（约四分之一）应用于kvm-x86的misc分支，原因是完整的补丁集已无法在6.18版本中及时完成。他特别提到希望尽快完成“在kvm_x86_vendor_init()之前设置VMCS”的补丁，以确保设置操作的顺序正确。此外，他提到了一些具体的补丁编号和链接，涉及到VMCS配置、PMU能力快照、重命名辅助函数等多个方面的改进。<br><br>总体来看，本周的进展主要集中在补丁的应用和设置顺序的确认上，尽管完整的中介vPMU支持尚未完全实现，但相关的准备工作和清理工作正在进行中。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH v5 00/44] KVM: x86: Add support for mediated vPMUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 08/10] arm/cpu: more customization for the kvm host cpu
 model</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-18</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于一个针对 ARM CPU 的 KVM 主机 CPU 模型的补丁（PATCH v3 08/10），旨在提供更多的自定义选项。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测该补丁的目的是为了增强 KVM 在 ARM 架构上的灵活性和可定制性，以适应不同的使用场景和需求。<br><br>本周的新讨论由 Jinqian Yang 提出，主要关注补丁中的一个小问题：在代码中，`prop_name` 变量所占用的内存没有被释放。具体而言，使用 `g_strdup_printf` 分配的内存需要通过 `g_free` 进行释放。Jinqian Yang 提供了相应的代码修改建议，确保在使用完 `prop_name` 后能够正确释放内存，以避免内存泄漏。<br><br>总体来看，本周的讨论集中在代码的内存管理上，强调了在实现功能时也要注意资源的合理使用。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-18]</span> <span class="email-subject">Re: [PATCH v3 08/10] arm/cpu: more customization for the kvm host cpu
 model</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jinqian Yang <span class="email-sender">&lt;yangjinqian1@huawei.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH kvmtool v3 4/6] arm64: add counter offset control</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-16</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于一个针对 KVM 工具的补丁，具体内容为“arm64: 添加计数器偏移控制”。该补丁旨在提供对计数器偏移的控制选项，以增强 ARM64 架构下的虚拟化性能。<br><br>在历史讨论中，并未提供具体的背景信息，因此我们无法了解之前的讨论要点。<br><br>本周的新讨论中，参与者 Andre Przywara 对补丁中的描述进行了评论。他指出，虽然补丁中提到的“默认值为0”在实现上可能不够准确，但从用户的角度来看，其效果是相同的。他认为，拒绝使用“--counter-offset 0”选项，即使它是默认行为，可能会给用户带来不便。此外，Andre 认为“偏移量0”作为特殊情况是广为人知的，因此不应造成混淆。他建议，如果确实需要更详细的解释，可以考虑将其添加到文档中。<br><br>总体来看，本周的讨论集中在补丁描述的准确性和用户体验上，未涉及补丁的具体实现细节或其他技术问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH kvmtool v3 4/6] arm64: add counter offset control</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andre Przywara <span class="email-sender">&lt;andre.przywara@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH kvmtool v3 3/6] arm64: nested: add support for setting
 maintenance IRQ</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-16</span>
                </div>

                <div class="ai-summary">
                    在本次邮件讨论中，主题为“[PATCH kvmtool v3 3/6] arm64: nested: add support for setting maintenance IRQ”的补丁主要涉及为 ARM64 架构的嵌套虚拟化添加设置维护中断的支持。<br><br>在历史讨论中，虽然没有具体的内容记录，但可以推测该补丁旨在增强 KVM 工具的功能，以便更好地处理嵌套虚拟化环境中的中断管理。<br><br>本周的讨论中，参与者 Andre Przywara 对补丁的实现进行了回应，表示将遵循 Marc 的建议，确保在使用特定功能之前先进行检查，而不是依赖于某些实现细节。这表明团队在补丁的开发过程中重视代码的清晰性和可维护性。Andre 还确认了一些修复和改进，表示已经完成相关修改。<br><br>总体来看，本周的讨论集中在补丁的实现细节和代码质量上，参与者们达成了一致意见，强调了在开发过程中遵循良好的编程实践的重要性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH kvmtool v3 3/6] arm64: nested: add support for setting
 maintenance IRQ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andre Przywara <span class="email-sender">&lt;andre.przywara@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH kvmtool v3 2/6] arm64: Initial nested virt support</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-16</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM 工具的一个补丁，具体是针对 arm64 架构的初步嵌套虚拟化支持（PATCH kvmtool v3 2/6）。<br><br>在历史讨论中，尚未有相关的邮件记录，因此没有提供背景信息。<br><br>在本周的新讨论中，参与者 Andre Przywara 对补丁中的术语提出了建议。他认为使用“nested”这个术语最为直观，并且与 KVM 命令行选项一致。他提到，如果采用“nested”这个名称，可能会忽略“EL2”的提示，但他可以将其表述为“EL2/nested virt is not supported”，以便更清晰地传达信息。Andre 还提到，讨论中可能存在过多的细节争论（bikeshedding），暗示这一话题的复杂性和多样性。<br><br>总体来看，本周的讨论主要集中在术语的选择上，尚未涉及补丁的具体实现或其他技术细节。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [PATCH kvmtool v3 2/6] arm64: Initial nested virt support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andre Przywara <span class="email-sender">&lt;andre.przywara@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v11 0/6] KVM: arm64: Support FF-A 1.2</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-15</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构上对 FF-A（Firmware Framework for Arm）1.2 版本的支持。此次讨论包含一个补丁系列（PATCH v11 0/6），旨在改进 KVM 对 FF-A 1.2 的支持。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测之前的讨论可能集中在如何实现 FF-A 1.2 的功能和兼容性问题上。<br><br>本周的新讨论中，Marc Zyngier 提到已将该补丁应用到下一个版本中，并列出了六个具体的补丁内容：<br>1. 修正主机版本降级尝试的返回值。<br>2. 在 FF-A 初始化和主机处理程序中使用 SMCCC 1.2。<br>3. 将 FFA_NOTIFICATION_* 调用标记为不支持。<br>4. 将可选的 FF-A 1.2 接口标记为不支持。<br>5. 屏蔽对 FFA_FEATURE 调用的响应。<br>6. 将支持的 FF-A 版本提升至 1.2。<br><br>此次进展表明，KVM 对 FF-A 1.2 的支持正在逐步完善，相关补丁已被接受并将纳入后续版本中。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v11 0/6] KVM: arm64: Support FF-A 1.2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2] KVM: arm64: ptdump: Don't test PTE_VALID alongside other attributes</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-15</span>
                </div>

                <div class="ai-summary">
                    本邮件主题为“[PATCH v2] KVM: arm64: ptdump: Don't test PTE_VALID alongside other attributes”，主要讨论了在 KVM 的 arm64 架构中，关于 ptdump 的一个补丁。<br><br>1. **原始 patch/问题的内容**：该补丁旨在修改 ptdump 的实现，避免在测试页面表项（PTE）时，将 PTE_VALID 属性与其他属性一起进行测试。这一改动旨在提高代码的清晰度和准确性。<br><br>2. **之前的讨论要点**：本邮件线程没有提供历史讨论的内容，因此无法总结之前的讨论要点。<br><br>3. **本周的新讨论、进展或结论**：在本周的讨论中，Marc Zyngier 确认已将该补丁应用到下一个版本中，并表示感谢。这表明补丁得到了认可并将继续推进。<br><br>总体来看，本周的讨论主要集中在补丁的应用上，未涉及其他争议或问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: ptdump: Don't test PTE_VALID alongside other attributes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Fix debug checking for np-guests using huge mappings</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-15</span>
                </div>

                <div class="ai-summary">
                    本邮件主题为“[PATCH] KVM: arm64: 修复使用大映射的非物理访客的调试检查”，主要讨论了针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁。<br><br>在本周的新讨论中，参与者 Marc Zyngier 回复了 Ben Horgan 的邮件，确认该补丁已被应用到下一个版本中。补丁的内容是修复在使用大映射时对非物理访客的调试检查问题，确保系统在处理这些访客时的稳定性和准确性。<br><br>由于本邮件线程没有历史讨论的部分，因此没有提供之前的讨论要点。整体来看，本周的进展是该补丁的成功应用，标志着对 KVM arm64 的进一步完善。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix debug checking for np-guests using huge mappings</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>RFC</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[RFC PATCH v1 04/38] tsm: Support DMA Allocation from private
 memory</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-15</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于一个名为「[RFC PATCH v1 04/38] tsm: Support DMA Allocation from private memory」的补丁，该补丁旨在支持从私有内存中进行DMA分配。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测该补丁的提出是为了改善DMA操作的内存管理，尤其是在没有分配IOMMU的情况下，如何有效地处理DMA请求。<br><br>本周的新讨论中，参与者Mostafa Saleh对补丁提出了一些基本问题，尤其是关于“force_dma_unencrypted”和“is_swiotlb_force_bounce”这两个参数在涉及IOMMU的情况下如何影响DMA操作。Aneesh Kumar K.V对此进行了详细解释，指出在当前补丁集中，来宾系统并未分配IOMMU，因此DMA操作使用DMA-direct。对于非安全设备，流式DMA使用swiotlb，而非流式DMA则直接使用DMA，并通过dma_set_decrypted()更新分配内存的属性。对于安全设备，则不需要这两种机制。<br><br>Mostafa对Aneesh的解释表示感谢，表明他对补丁的理解有所加深。这一讨论显示出参与者们对补丁的细节和实现机制的关注，推动了对该补丁的进一步理解和完善。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">Re: [RFC PATCH v1 04/38] tsm: Support DMA Allocation from private
 memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [RFC PATCH v1 04/38] tsm: Support DMA Allocation from private
 memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [RFC PATCH v1 04/38] tsm: Support DMA Allocation from private
 memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[RFC RESEND PATCH] arm64: Rename is_midr_in_range_list and add is_midr_subset_of_range_list</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-15</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 ARM64 架构中函数命名和功能的改进，主要集中在 `is_midr_in_range_list` 和新增的 `is_midr_subset_of_range_list` 函数。<br><br>原始的 patch 提出了重命名 `is_midr_in_range_list` 函数，以更清晰地表达其功能，并引入 `is_midr_subset_of_range_list` 函数。早期讨论中提到，虚拟机监控器（VMM）需要确保目标实现的 CPU 集合的正确性，且在处理相关错误时，如果任何目标实现的 CPU 受到影响，则所有 CPU 都被视为受影响。然而，现有的实现逻辑似乎与这一点相悖，导致 VMM 无法明确判断 CPU 是否受到影响。<br><br>本周的讨论中，Jia Qingtong 详细阐述了 `is_midr_in_range_list` 的逻辑问题，指出其在判断 CPU 是否受到影响时存在误导性。为了更好地反映逻辑，建议将其重命名为 `is_any_midr_in_range_list`，并通过 `is_midr_subset_of_range_list` 来明确表示是否所有目标实现的 CPU 都在给定范围内。该 patch 还展示了 `is_midr_subset_of_range_list` 的示例用法，并对相关代码进行了修改。<br><br>总的来说，本周的讨论进一步明确了函数的命名和功能，旨在提高代码的可读性和准确性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[RFC RESEND PATCH] arm64: Rename is_midr_in_range_list and add is_midr_subset_of_range_list</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jia Qingtong <span class="email-sender">&lt;jiaqingtong97@gmail.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Bug Report</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[syzbot] [kvmarm?] kernel BUG in kvm_s2_put_page</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-19</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了在 KVM ARM 虚拟化环境中出现的一个内核错误，具体是 `kvm_s2_put_page` 函数中的 BUG。该问题由 syzbot 报告，涉及到在 ARM64 架构下的内存管理，错误信息显示在处理页面引用计数时发生了问题。<br><br>在历史讨论中，虽然没有具体的补丁或详细的背景信息，但可以推测此问题与最近在 Linus 的主分支中被回退的 S2 引用计数相关。该回退的内容并未包含在 kvmarm/next 分支中，这可能是导致当前问题的原因。<br><br>在本周的新讨论中，syzbot 提供了详细的错误报告，包括内核版本、配置和相关的调试信息。Marc Zyngier 对此问题进行了回应，指出该 BUG 可能是由于 S2 引用计数问题引起的，并确认该问题在 Linus 的主分支中已被回退，但仍未在 kvmarm/next 分支中解决。此讨论表明，开发者们正在关注并追踪该问题的解决进展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">[syzbot] [kvmarm?] kernel BUG in kvm_s2_put_page</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: syzbot <span class="email-sender">&lt;syzbot+c41f3ddb8299a30a98b5@syzkaller.appspotmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-19]</span> <span class="email-subject">Re: [syzbot] [kvmarm?] kernel BUG in kvm_s2_put_page</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>GIT PULL</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[GIT PULL] KVM/arm64 changes for 6.17, round #3</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-10</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了 KVM/arm64 在 6.17 版本中的变更，主要由 Oliver Upton 提出并由 Paolo Bonzini 进行回应。<br><br>在历史讨论中，Oliver 提到这是 KVM/arm64 针对 6.17 的最终修复集。他指出，之前为了解决在销毁二级页表时出现的 RCU 停滞问题而引入的几个修复被撤回，因为这些补丁中存在严重的引用计数和使用后释放（UAF）问题，之前的临时解决方案未能奏效。此外，Oliver 还提到了一些常见问题的修复，涉及嵌套虚拟化和虚拟中断控制器（vgic）。<br><br>在本周的新讨论中，Paolo 对 Oliver 提出的撤回补丁表示感谢，并表示会在自己的标签中添加相关说明。Oliver 随后确认这是他标签中的一个无意遗漏，并表示感谢。<br><br>总体来看，本周的讨论主要集中在对历史讨论中提到的撤回补丁的确认和记录上，未涉及新的技术问题或进展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-10]</span> <span class="email-subject">[GIT PULL] KVM/arm64 changes for 6.17, round #3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [GIT PULL] KVM/arm64 changes for 6.17, round #3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Paolo Bonzini <span class="email-sender">&lt;pbonzini@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-17]</span> <span class="email-subject">Re: [GIT PULL] KVM/arm64 changes for 6.17, round #3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Other</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH v2 0/4] Better backtraces for leaf functions</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-15</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM 单元测试的补丁 v2，旨在改善叶子函数的回溯信息。补丁的主要内容包括引入“晚期 CFLAGS”概念，以便在 Makefile 中更灵活地处理编译标志，特别是针对 ARM 和 ARM64 架构的修复。<br><br>在历史讨论中，补丁 v1 提出了改善回溯的初步方案，但未能有效解决 ARM 和 ARM64 架构在处理叶子函数时的回溯问题。具体来说，ARM 架构在缺乏适当的栈帧设置时会导致无效指针解引用，而 ARM64 则会跳过某些栈帧，类似于 x86 的表现。<br><br>本周的新讨论中，Mathias Krause 提交了补丁 v2，详细阐述了针对 x86、ARM 和 ARM64 的改进措施。补丁通过引入“假配置文件”来强制编译器为叶子函数生成栈帧设置，从而改善回溯信息的准确性。此外，Andrew Jones 对 ARM 和 ARM64 的修复进行了审查并表示测试通过，确认了补丁的有效性。<br><br>总体而言，此次讨论聚焦于提升内核调试的可用性，确保在出现错误时能够提供更清晰的调用栈信息。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[kvm-unit-tests PATCH v2 0/4] Better backtraces for leaf functions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mathias Krause <span class="email-sender">&lt;minipli@grsecurity.net&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[kvm-unit-tests PATCH v2 1/4] Makefile: Provide a concept of late CFLAGS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mathias Krause <span class="email-sender">&lt;minipli@grsecurity.net&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[kvm-unit-tests PATCH v2 2/4] x86: Better backtraces for leaf functions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mathias Krause <span class="email-sender">&lt;minipli@grsecurity.net&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[kvm-unit-tests PATCH v2 3/4] arm64: Better backtraces for leaf functions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mathias Krause <span class="email-sender">&lt;minipli@grsecurity.net&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-15]</span> <span class="email-subject">[kvm-unit-tests PATCH v2 4/4] arm: Fix backtraces involving leaf functions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mathias Krause <span class="email-sender">&lt;minipli@grsecurity.net&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-16]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v2 0/4] Better backtraces for leaf
 functions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
