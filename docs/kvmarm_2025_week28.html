<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVMARM 邮件列表 AI 总结报告</title>
    <style>
        body {
            font-family: 'Courier New', 'Courier', monospace;
            line-height: 1.5;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 40px;
            background-color: #ffffff;
            color: #222;
        }
        .container {
            background: #ffffff;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
            color: #000;
            margin-bottom: 0.3em;
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 15px;
        }
        h2 {
            font-size: 1.6em;
            font-weight: bold;
            color: #000;
            margin-top: 2em;
            margin-bottom: 0.6em;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 1.2em;
            font-weight: bold;
            color: #111;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h4 {
            font-size: 1.05em;
            font-weight: bold;
            color: #333;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
        }
        .meta-info {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px 20px;
            margin: 20px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        .meta-info p {
            margin: 6px 0;
            color: #444;
        }
        .meta-info strong {
            color: #000;
            font-weight: bold;
        }
        .stats {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid #000;
        }
        .stat-card {
            display: table-cell;
            border: 1px solid #000;
            padding: 12px 15px;
            text-align: center;
            background: #fafafa;
        }
        .stat-card h3 {
            margin: 0;
            color: #000;
            font-size: 1.8em;
            font-weight: bold;
            border: none;
            padding: 0;
        }
        .stat-card p {
            margin: 5px 0 0 0;
            color: #444;
            font-size: 0.9em;
            font-weight: normal;
        }
        .category {
            margin: 30px 0;
        }
        .thread {
            margin: 25px 0;
            padding: 15px;
            background: #fafafa;
            border: 1px solid #ccc;
            page-break-inside: avoid;
        }
        .thread-header {
            margin-bottom: 12px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .thread-header h3 {
            font-size: 1.15em;
            font-weight: bold;
            color: #000;
            margin: 0;
        }
        .thread-meta {
            display: block;
            margin: 8px 0 12px 0;
            font-size: 0.9em;
            color: #555;
            font-style: italic;
        }
        .thread-meta span {
            margin-right: 15px;
        }
        .ai-summary {
            background: #fff;
            border-left: 3px solid #666;
            padding: 12px 15px;
            margin: 15px 0;
            line-height: 1.6;
            color: #222;
            font-style: italic;
        }
        .email-list {
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px 15px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.88em;
            line-height: 1.5;
            overflow-x: auto;
            margin: 10px 0;
        }
        .email-item {
            margin: 4px 0;
            padding: 2px 0;
            color: #222;
        }
        .email-item.historical {
            background: #f5f5f5;
            border-left: 3px solid #999;
            padding-left: 8px;
            opacity: 0.8;
        }
        .email-item.new {
            background: #fffef0;
            border-left: 3px solid #0066cc;
            padding-left: 8px;
        }
        .email-date {
            color: #0066cc;
            font-weight: bold;
        }
        .email-date.historical {
            color: #666;
        }
        .email-sender {
            color: #c30;
            font-weight: normal;
        }
        .email-subject {
            color: #000;
        }
        .historical-marker {
            color: #999;
            font-size: 0.85em;
            font-style: italic;
        }
        .new-marker {
            color: #0066cc;
            font-size: 0.85em;
            font-weight: bold;
        }
        .archive-link {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            background: #333;
            color: #fff;
            text-decoration: none;
            border: 2px solid #000;
            font-weight: bold;
            transition: all 0.2s;
        }
        .archive-link:hover {
            background: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KVMARM Mailing List Analysis Report</h1>

        <div class="meta-info">
            <p><strong>Generated:</strong> 2025-10-27 11:26</p>
            <p><strong>Time Period:</strong> 2025年7月 第28周 (07/07 - 07/13)</p>
            <p><strong>Total Messages:</strong> 226 | <strong>Total Threads:</strong> 30</p>
            <p style="text-align: center;"><a href="archive.html" class="archive-link">📚 历史归档 Archive</a></p>
        </div>


        <div class="category">
            <h2>PATCH</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v13 00/20] KVM: Enable host userspace mapping for
 guest_memfd-backed memory for non-CoCo VMs</h3>
                </div>

                <div class="thread-meta">
                    <span>37 messages</span>
                    <span>6 participants</span>
                    <span>Started: 2025-07-09</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（内核虚拟机）中支持用户空间映射的补丁系列，主要针对使用 guest_memfd 作为内存后端的非 CoCo 虚拟机。以下是讨论的主要内容：<br><br>1. **原始补丁内容**：<br>   - 补丁系列的目标是启用非 CoCo 虚拟机的 guest_memfd 支持，允许宿主机用户空间映射这些内存。这一功能将简化虚拟机管理器（VMM）的设计，并增强安全性，减少对宿主内核直接映射的需求。<br><br>2. **历史讨论要点**：<br>   - 之前的讨论集中在如何将 guest_memfd 支持扩展到非私有内存场景，确保其在不同虚拟机类型下的兼容性。补丁中对 Kconfig 选项进行了重命名，以更准确地反映其功能。<br><br>3. **本周新讨论与进展**：<br>   - 本周的讨论围绕补丁的具体实现细节，包括对函数和变量的重命名、对补丁的分解、以及如何处理内存映射和故障处理逻辑。还引入了新的 KVM 能力 KVM_CAP_GMEM_MMAP，以便用户空间能够识别支持的功能。<br>   - 参与者对补丁进行了审查和反馈，确认了补丁的有效性，并提出了对代码的改进建议，如在处理页面故障时的竞态条件检查。<br><br>整体而言，此次讨论推动了 KVM 对 guest_memfd 的支持，使其能够在更广泛的场景中使用，同时确保了代码的清晰性和可维护性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 00/20] KVM: Enable host userspace mapping for
 guest_memfd-backed memory for non-CoCo VMs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 01/20] KVM: Rename CONFIG_KVM_PRIVATE_MEM to CONFIG_KVM_GMEM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 02/20] KVM: Rename CONFIG_KVM_GENERIC_PRIVATE_MEM to CONFIG_KVM_GENERIC_GMEM_POPULATE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 03/20] KVM: Introduce kvm_arch_supports_gmem()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 04/20] KVM: x86: Introduce kvm->arch.supports_gmem</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 05/20] KVM: Rename kvm_slot_can_be_private() to kvm_slot_has_gmem()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 06/20] KVM: Fix comments that refer to slots_lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 07/20] KVM: Fix comment that refers to kvm uapi header path</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 08/20] KVM: guest_memfd: Allow host to map guest_memfd pages</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 09/20] KVM: guest_memfd: Track guest_memfd mmap support in memslot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 10/20] KVM: x86/mmu: Generalize private_max_mapping_level
 x86 op to max_mapping_level</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 11/20] KVM: x86/mmu: Allow NULL-able fault in kvm_max_private_mapping_level</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 12/20] KVM: x86/mmu: Consult guest_memfd when computing max_mapping_level</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 13/20] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 14/20] KVM: x86: Enable guest_memfd mmap for default VM type</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 15/20] KVM: arm64: Refactor user_mem_abort()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 16/20] KVM: arm64: Handle guest_memfd-backed guest page faults</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 17/20] KVM: arm64: Enable host mapping of shared
 guest_memfd memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 18/20] KVM: Introduce the KVM capability KVM_CAP_GMEM_MMAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 19/20] KVM: selftests: Do not use hardcoded page sizes in
 guest_memfd test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v13 20/20] KVM: selftests: guest_memfd mmap() test when mmap
 is supported</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 14/20] KVM: x86: Enable guest_memfd mmap for default
 VM type</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: kernel test robot <span class="email-sender">&lt;lkp@intel.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 09/20] KVM: guest_memfd: Track guest_memfd mmap
 support in memslot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Shivank Garg <span class="email-sender">&lt;shivankg@amd.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 18/20] KVM: Introduce the KVM capability
 KVM_CAP_GMEM_MMAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Shivank Garg <span class="email-sender">&lt;shivankg@amd.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 10/20] KVM: x86/mmu: Generalize
 private_max_mapping_level x86 op to max_mapping_level</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 11/20] KVM: x86/mmu: Allow NULL-able fault in
 kvm_max_private_mapping_level</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 14/20] KVM: x86: Enable guest_memfd mmap for default
 VM type</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 16/20] KVM: arm64: Handle guest_memfd-backed guest
 page faults</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 16/20] KVM: arm64: Handle guest_memfd-backed guest
 page faults</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 14/20] KVM: x86: Enable guest_memfd mmap for default
 VM type</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 15/20] KVM: arm64: Refactor user_mem_abort()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 16/20] KVM: arm64: Handle guest_memfd-backed guest page faults</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 16/20] KVM: arm64: Handle guest_memfd-backed guest
 page faults</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 17/20] KVM: arm64: Enable host mapping of shared guest_memfd memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 17/20] KVM: arm64: Enable host mapping of shared
 guest_memfd memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 16/20] KVM: arm64: Handle guest_memfd-backed guest page faults</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v13 16/20] KVM: arm64: Handle guest_memfd-backed guest page faults</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 00/27] KVM: arm64: SCTLR2, DoubleFault2, and NV external abort fixes</h3>
                </div>

                <div class="thread-meta">
                    <span>30 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-08</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了关于 KVM（Kernel-based Virtual Machine）在 ARM64 架构下的多个补丁，主要集中在 SCTLR2、DoubleFault2 和 NV 外部中止的修复。<br><br>1. **原始补丁内容**：补丁集（PATCH v3 00/27）旨在修复与 SCTLR2、DoubleFault2 和 NV 外部中止相关的问题，确保 KVM 在 ARM64 环境中正确处理这些特性。<br><br>2. **之前讨论要点**：在历史讨论中，补丁的背景包括对 SCTLR2 和 DoubleFault2 特性的支持，KVM 需要正确处理这些特性带来的异常路由和中止行为。之前的讨论强调了如何在不同上下文中正确处理异常，尤其是在嵌套虚拟化环境中。<br><br>3. **本周的新讨论与进展**：本周的讨论主要集中在多个补丁的具体实现和测试，包括：<br>   - 增加对 SCTLR2 和 DoubleFault2 特性的检测和支持。<br>   - 引入新的辅助函数以简化嵌套上下文的识别。<br>   - 处理带有待处理 SError 的 vCPU，使其在适当情况下可运行。<br>   - 确保 SEAs（同步外部中止）在 EASE 设置时被正确路由到 SError 向量。<br>   - 通过自测确保 SError 注入和 SEA 处理的正确性。<br><br>最终，所有补丁均已被应用，标志着 KVM 在 ARM64 架构下的进一步完善和功能增强。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 00/27] KVM: arm64: SCTLR2, DoubleFault2, and NV external abort fixes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 01/27] arm64: Detect FEAT_SCTLR2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 02/27] arm64: Detect FEAT_DoubleFault2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 03/27] KVM: arm64: Add helper to identify a nested context</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 04/27] KVM: arm64: Treat vCPU with pending SError as runnable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 05/27] KVM: arm64: nv: Respect exception routing rules for SEAs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 06/27] KVM: arm64: nv: Honor SError exception routing / masking</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 07/27] KVM: arm64: nv: Add FEAT_RAS vSError sys regs to table</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 08/27] KVM: arm64: nv: Use guest hypervisor's vSError state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 09/27] KVM: arm64: nv: Advertise support for FEAT_RAS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 10/27] KVM: arm64: nv: Describe trap behavior of SCTLR2_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 11/27] KVM: arm64: Wire up SCTLR2_ELx sysreg descriptors</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 12/27] KVM: arm64: Context switch SCTLR2_ELx when advertised to the guest</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 13/27] KVM: arm64: Enable SCTLR2 when advertised to the guest</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 14/27] KVM: arm64: Describe SCTLR2_ELx RESx masks</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 15/27] KVM: arm64: Factor out helper for selecting exception target EL</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 16/27] KVM: arm64: nv: Ensure Address size faults affect correct ESR</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 17/27] KVM: arm64: Route SEAs to the SError vector when EASE is set</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 18/27] KVM: arm64: nv: Take "masked" aborts to EL2 when HCRX_EL2.TMEA is set</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 19/27] KVM: arm64: nv: Honor SError routing effects of SCTLR2_ELx.NMEA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 20/27] KVM: arm64: nv: Enable vSErrors when HCRX_EL2.TMEA is set</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 21/27] KVM: arm64: Advertise support for FEAT_SCTLR2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 22/27] KVM: arm64: Advertise support for FEAT_DoubleFault2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 23/27] KVM: arm64: Don't retire MMIO instruction w/ pending (emulated) SError</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 24/27] KVM: arm64: selftests: Add basic SError injection test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 25/27] KVM: arm64: selftests: Test SEAs are taken to SError vector when EASE=1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 26/27] KVM: arm64: selftests: Add SCTLR2_EL1 to get-reg-list</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH v3 27/27] KVM: arm64: selftests: Catch up set_id_regs with the kernel</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH v3 08/27] KVM: arm64: nv: Use guest hypervisor's vSError
 state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH v3 00/27] KVM: arm64: SCTLR2, DoubleFault2, and NV external abort fixes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 00/22] ARM64 PMU Partitioning</h3>
                </div>

                <div class="thread-meta">
                    <span>17 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-06-26</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 ARM64 PMU（性能监控单元）分区的新补丁系列，旨在通过为虚拟机保留部分计数器来减少开销。Colton Lewis 提出了这一系列补丁，并在历史讨论中详细描述了补丁的内容和目的，包括如何通过命令行参数设置保留的主机计数器数量，以及对 PMU 驱动程序的修改。<br><br>在历史讨论中，补丁的主要内容包括：<br>1. 引入了一个新的 PMU 方案，允许将计数器分区以便更直接地访问。<br>2. 讨论了如何处理头文件的循环依赖问题，以及如何在 KVM 中清理 PMU 的包含关系。<br>3. 介绍了用于分区 PMU 的方法，并讨论了计数器的位掩码通用化。<br><br>在本周的新讨论中，参与者 Mark Rutland 和 Oliver Upton 对补丁的细节进行了审查和反馈，主要集中在以下几点：<br>1. Mark 对 HPMN0 的标记为 UnsignedEnum 表示认可，并提出了一些小的命名建议。<br>2. 对于 PMU 的分区方法，Mark 和 Oliver 讨论了如何在不同的虚拟环境中配置 HPMN，并指出了当前文档中的一些不准确之处。<br>3. Colton 表示会根据反馈进行修改，并继续推进补丁的完善。<br><br>总体来看，本周的讨论主要集中在补丁的细节审查和命名一致性上，参与者们积极提供反馈以推动补丁的进一步完善。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">[PATCH v3 00/22] ARM64 PMU Partitioning</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Colton Lewis <span class="email-sender">&lt;coltonlewis@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">[PATCH v3 01/22] arm64: cpufeature: Add cpucap for HPMN0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Colton Lewis <span class="email-sender">&lt;coltonlewis@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">[PATCH v3 02/22] arm64: Generate sign macro for sysreg Enums</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Colton Lewis <span class="email-sender">&lt;coltonlewis@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">[PATCH v3 04/22] KVM: arm64: Cleanup PMU includes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Colton Lewis <span class="email-sender">&lt;coltonlewis@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">[PATCH v3 06/22] perf: arm_pmuv3: Introduce method to partition the PMU</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Colton Lewis <span class="email-sender">&lt;coltonlewis@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">[PATCH v3 07/22] perf: arm_pmuv3: Generalize counter bitmasks</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Colton Lewis <span class="email-sender">&lt;coltonlewis@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH v3 01/22] arm64: cpufeature: Add cpucap for HPMN0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH v3 02/22] arm64: Generate sign macro for sysreg Enums</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH v3 04/22] KVM: arm64: Cleanup PMU includes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH v3 06/22] perf: arm_pmuv3: Introduce method to partition
 the PMU</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH v3 07/22] perf: arm_pmuv3: Generalize counter bitmasks</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH v3 06/22] perf: arm_pmuv3: Introduce method to partition
 the PMU</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH v3 01/22] arm64: cpufeature: Add cpucap for HPMN0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Colton Lewis <span class="email-sender">&lt;coltonlewis@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH v3 04/22] KVM: arm64: Cleanup PMU includes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Colton Lewis <span class="email-sender">&lt;coltonlewis@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH v3 07/22] perf: arm_pmuv3: Generalize counter bitmasks</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Colton Lewis <span class="email-sender">&lt;coltonlewis@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH v3 06/22] perf: arm_pmuv3: Introduce method to partition
 the PMU</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Colton Lewis <span class="email-sender">&lt;coltonlewis@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH v3 06/22] perf: arm_pmuv3: Introduce method to partition
 the PMU</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v10 0/6] KVM: arm64: Map GPU device memory as cacheable</h3>
                </div>

                <div class="thread-meta">
                    <span>16 messages</span>
                    <span>6 participants</span>
                    <span>Started: 2025-07-05</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于在 KVM (Kernel-based Virtual Machine) 中将 GPU 设备内存映射为可缓存的补丁系列（PATCH v10 0/6）。该补丁旨在支持在 Grace Hopper 和 Blackwell 超级芯片等平台上，利用 CPU 可访问的缓存一致性 GPU 内存。<br><br>在历史讨论中，补丁的主要内容包括：<br>1. **补丁目的**：将 GPU 设备内存映射为可缓存，以支持其 DDR 内存特性，并解决当前 KVM 强制将内存区域映射为 NORMAL 或 DEVICE_nGnRE 的限制。<br>2. **关键修改**：补丁系列中包括重命名变量、更新设备内存检测、阻止可缓存 PFNMAP 映射、允许使用 VMA 标志进行可缓存的二级映射，以及暴露新的 KVM 能力以支持可缓存的 PFNMAP。<br><br>本周的新讨论中，参与者对补丁系列进行了审查，Catalin Marinas、David Hildenbrand 和 Jason Gunthorpe 等人均表示支持并给予了“Reviewed-by”标记。Ankit Agrawal 感谢审查者，并询问 Oliver Upton 是否可以将补丁应用到下一个版本中。Oliver 最终确认已将补丁应用，并进行了必要的修改和整合。<br><br>总体来看，该补丁系列得到了积极的反馈，并已准备好进入下一个开发阶段。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-05]</span> <span class="email-subject">[PATCH v10 0/6] KVM: arm64: Map GPU device memory as cacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-05]</span> <span class="email-subject">[PATCH v10 1/6] KVM: arm64: Rename the device variable to s2_force_noncacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-05]</span> <span class="email-subject">[PATCH v10 2/6] KVM: arm64: Update the check to detect device memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-05]</span> <span class="email-subject">[PATCH v10 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-05]</span> <span class="email-subject">[PATCH v10 5/6] KVM: arm64: Allow cacheable stage 2 mapping using VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-05]</span> <span class="email-subject">[PATCH v10 6/6] KVM: arm64: Expose new KVM cap for cacheable PFNMAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-06]</span> <span class="email-subject">Re: [PATCH v10 1/6] KVM: arm64: Rename the device variable to
 s2_force_noncacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-06]</span> <span class="email-subject">Re: [PATCH v10 2/6] KVM: arm64: Update the check to detect device
 memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-06]</span> <span class="email-subject">Re: [PATCH v10 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-06]</span> <span class="email-subject">Re: [PATCH v10 5/6] KVM: arm64: Allow cacheable stage 2 mapping
 using VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-06]</span> <span class="email-subject">Re: [PATCH v10 6/6] KVM: arm64: Expose new KVM cap for cacheable
 PFNMAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH v10 5/6] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH v10 5/6] KVM: arm64: Allow cacheable stage 2 mapping
 using VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH v10 0/6] KVM: arm64: Map GPU device memory as cacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ankit Agrawal <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH v10 0/6] KVM: arm64: Map GPU device memory as cacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v10 0/6] KVM: arm64: Map GPU device memory as cacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ankit Agrawal <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</h3>
                </div>

                <div class="thread-meta">
                    <span>11 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-06-24</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（内核虚拟机）处理共享内存的补丁（PATCH v12 10/18），其主要目的是处理与 `guest_memfd` 相关的页面错误。该补丁旨在支持在虚拟机中使用共享内存的情况下，正确处理页面错误。<br><br>在历史讨论中，参与者探讨了如何在同一虚拟机中允许同时存在支持和不支持 `mmap` 的内存插槽（memslots）。有建议认为，用户可能希望通过 `mmap` 来设置内存策略，而不希望主机访问这些内存。讨论中提到，当前的补丁可能需要进一步的修改，以确保其功能的清晰性和有效性。<br><br>本周的新讨论中，Sean Christopherson 和 Ackerley Tng 继续探讨了补丁的实现细节，Sean 提出了一些关于如何处理私有内存属性的建议，并认为在当前阶段不应支持与遗留 CoCo 虚拟机的 `mmap` 结合使用。Ackerley 也表示将很快重新提交补丁，并感谢参与者的澄清和建议。<br><br>总体而言，讨论集中在如何优化和清晰化补丁的功能，以便更好地支持虚拟机中的共享内存管理。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-24]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ackerley Tng <span class="email-sender">&lt;ackerleytng@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ackerley Tng <span class="email-sender">&lt;ackerleytng@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ackerley Tng <span class="email-sender">&lt;ackerleytng@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Shivank Garg <span class="email-sender">&lt;shivankg@amd.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ackerley Tng <span class="email-sender">&lt;ackerleytng@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ackerley Tng <span class="email-sender">&lt;ackerleytng@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 02/15] KVM: selftests: Enable selftests runner to find
 executables in different path</h3>
                </div>

                <div class="thread-meta">
                    <span>10 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-07-09</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM 自测试运行器的改进，主要集中在如何使其能够在不同路径中查找可执行文件。<br><br>1. **原始 Patch 内容**：该补丁旨在增强 KVM 自测试运行器的功能，使其能够在多个路径中查找可执行文件，提升测试的灵活性和可用性。<br><br>2. **之前的讨论要点**：虽然本邮件线程没有明确的历史讨论，但参与者 Sean Christopherson 和 Vipin Sharma 在本周的讨论中提出了对补丁的具体反馈和建议，主要集中在命令行选项的设计和输出管理上。<br><br>3. **本周的新讨论与进展**：<br>   - Sean Christopherson 对补丁中的命令行参数提出了改进建议，认为使用 `-p/--path` 更符合 Linux 的命名习惯。<br>   - 讨论中还提到需要简化输出选项，以避免过多的布尔参数，并建议使用更直观的参数选项来控制输出内容。<br>   - Vipin Sharma 表达了对当前实现的满意，并提出了增加 README 文档的建议，以帮助用户理解如何使用新的自测试运行器。<br>   - 另外，关于自动生成默认测试用例的讨论中，Oliver Upton 提出了对提交这些测试用例的顾虑，认为应优先考虑减少噪声，建议采用专门的构建命令来处理测试用例的生成。<br><br>总体来看，本周的讨论集中在如何优化 KVM 自测试运行器的用户体验和功能实现上，参与者们积极提出建议，推动补丁的改进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v2 02/15] KVM: selftests: Enable selftests runner to find
 executables in different path</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v2 03/15] KVM: selftests: Add timeout option in selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v2 04/15] KVM: selftests: Add option to save selftest
 runner output to a directory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v2 06/15] KVM: selftests: Add a flag to print only test
 status in KVM Selftests run</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v2 07/15] KVM: selftests: Add various print flags to KVM
 Selftest Runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v2 00/15] Add KVM Selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v2 03/15] KVM: selftests: Add timeout option in selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v2 11/15] KVM: selftests: Auto generate default tests for
 KVM Selftests Runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v2 11/15] KVM: selftests: Auto generate default tests for
 KVM Selftests Runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v2 01/15] KVM: selftest: Create KVM selftest runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/2] Fix and add warning of misuse of type##_replace_bits()</h3>
                </div>

                <div class="thread-meta">
                    <span>10 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-07-03</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了两个主要的补丁（patch），旨在修复和增强对 `type##_replace_bits()` 函数的使用警告。<br><br>**原始补丁内容**：<br>第一个补丁（PATCH 0/2）由 Ben Horgan 提出，主要修复了 `u64_replace_bits()` 的使用错误，并在 `type##_replace_bits()` 函数上添加了 `__must_check` 注释，以确保返回值被检查。第二个补丁（PATCH 2/2）进一步强调了这一点，指出该函数无副作用，因此只有在检查返回值的情况下才有意义。<br><br>**之前讨论要点**：<br>在历史讨论中，Ben Horgan 解释了补丁的必要性，强调了通过添加 `__must_check` 来避免未来的错误。讨论中没有显著的反对意见，参与者普遍支持这一修复。<br><br>**本周新讨论与进展**：<br>本周的讨论中，Yury Norov 提出了将 `_encode_bits()` 和 `_get_bits()` 函数也标记为 `__must_check` 的建议，Ben Horgan 表示这可能不太重要，但愿意在后续版本中考虑。Marc Zyngier 确认第一个补丁将通过 KVM/arm64 树合并，并预计作为 6.16 的修复。Yury 计划自行处理第二个补丁的 v2 版本。Oliver Upton 提交了与 KVM 相关的其他补丁，涉及 SError 的处理和测试，最终确认这些补丁已被应用。<br><br>总体来看，讨论围绕着提高代码安全性和一致性展开，参与者积极交流，推动补丁的进展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-03]</span> <span class="email-subject">[PATCH 0/2] Fix and add warning of misuse of type##_replace_bits()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-03]</span> <span class="email-subject">[PATCH 2/2] bitfield: Ensure the return value of type##_replace_bits() is checked</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH 2/2] bitfield: Ensure the return value of
 type##_replace_bits() is checked</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yury Norov <span class="email-sender">&lt;yury.norov@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH 2/2] bitfield: Ensure the return value of
 type##_replace_bits() is checked</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH 2/2] bitfield: Ensure the return value of type##_replace_bits() is checked</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH 2/2] bitfield: Ensure the return value of
 type##_replace_bits() is checked</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yury Norov <span class="email-sender">&lt;yury.norov@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH 0/2] KVM: arm64: Fix + test for SError ESR</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH 1/2] KVM: arm64: Populate ESR_ELx.EC for emulated SError injection</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">[PATCH 2/2] KVM: arm64: selftests: Test ESR propagation for vSError injection</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH 0/2] KVM: arm64: Fix + test for SError ESR</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 1/6] KVM: arm64: VM exit to userspace to handle SEA</h3>
                </div>

                <div class="thread-meta">
                    <span>9 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-07-11</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 ARM64 架构下如何处理同步外部中止（SEA，Synchronous External Abort）的补丁。补丁的主要目的是在 APEI（ACPI Platform Error Interface）无法处理 SEA 时，将处理转交给用户空间，以便更优雅地管理内存错误，减少系统崩溃的风险。<br><br>在历史讨论中，补丁的作者 Jiaqi Yan 提出了通过引入一个新的用户空间可见特性 `KVM_CAP_ARM_SEA_TO_USER`，使得 VMM（虚拟机监控器）能够在发生 SEA 时选择退出到用户空间。补丁详细描述了如何在 KVM 中实现这一功能，包括新的退出原因 `KVM_EXIT_ARM_SEA` 和相关的结构体信息。<br><br>本周的新讨论中，参与者对补丁进行了深入的审查和修改建议。Oliver Upton 提出了避免在头文件中添加仅在单个调用点使用的辅助函数的建议，并讨论了如何处理与 FEAT_RAS（Reliability, Availability, and Serviceability）相关的细节。此外，双方还讨论了如何在用户空间中提供更多的错误状态信息，以便更好地处理外部中止事件。<br><br>总体来看，本周的讨论集中在补丁的细节修改和对未来扩展的考虑上，双方达成了一致，计划在后续版本中进一步完善补丁。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v2 1/6] KVM: arm64: VM exit to userspace to handle SEA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v2 3/6] KVM: arm64: Allow userspace to inject external
 instruction aborts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v2 5/6] KVM: selftests: Test for KVM_CAP_INJECT_EXT_IABT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v2 3/6] KVM: arm64: Allow userspace to inject external
 instruction aborts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jiaqi Yan <span class="email-sender">&lt;jiaqiyan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v2 1/6] KVM: arm64: VM exit to userspace to handle SEA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jiaqi Yan <span class="email-sender">&lt;jiaqiyan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH v2 5/6] KVM: selftests: Test for KVM_CAP_INJECT_EXT_IABT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jiaqi Yan <span class="email-sender">&lt;jiaqiyan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-12]</span> <span class="email-subject">Re: [PATCH v2 3/6] KVM: arm64: Allow userspace to inject external
 instruction aborts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-12]</span> <span class="email-subject">Re: [PATCH v2 1/6] KVM: arm64: VM exit to userspace to handle SEA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-12]</span> <span class="email-subject">Re: [PATCH v2 3/6] KVM: arm64: Allow userspace to inject external
 instruction aborts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jiaqi Yan <span class="email-sender">&lt;jiaqiyan@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 0/6] KVM: arm64: Allow userspace to write GICD_TYPER2.nASSGIcap</h3>
                </div>

                <div class="thread-meta">
                    <span>9 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-07-09</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下允许用户空间写入 GICD_TYPER2.nASSGIcap 的补丁系列（PATCH v4 0/6）。该补丁旨在允许用户在初始化 VGIC（虚拟通用中断控制器）之前修改 GICD_TYPER2 寄存器的值，以便更好地控制虚拟处理器的分配。<br><br>在历史讨论中，参与者们探讨了如何在不影响系统稳定性的情况下，允许用户空间对 GICD_IIDR 和 GICD_TYPER2 进行写操作。之前的讨论还涉及到对 VGIC 初始化前后寄存器访问权限的管理。<br><br>本周的新讨论中，Oliver Upton 提出了补丁的最终版本，强调了对 GICD_IIDR 的访问权限放宽，并确保用户空间可以在 VGIC 初始化之前修改 GICD_TYPER2.nASSGIcap。Raghavendra Rao Ananta 还增加了对 nASSGIcap 属性的自测，以确保其在初始化前可配置，并在初始化后不可更改。此外，文档也进行了更新，明确了用户空间对这些寄存器的访问期望。<br><br>总体来看，本周的讨论集中在补丁的细节调整和自测的完善上，为即将到来的 6.17 版本做准备。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v4 0/6] KVM: arm64: Allow userspace to write GICD_TYPER2.nASSGIcap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v4 1/6] KVM: arm64: Disambiguate support for vSGIs v. vLPIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v4 2/6] KVM: arm64: vgic-v3: Consolidate MAINT_IRQ handling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v4 3/6] KVM: arm64: vgic-v3: Allow access to GICD_IIDR prior to initialization</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v4 4/6] KVM: arm64: vgic-v3: Allow userspace to write GICD_TYPER2.nASSGIcap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v4 5/6] KVM: arm64: selftests: Add test for nASSGIcap attribute</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v4 6/6] Documentation: KVM: arm64: Describe VGICv3 registers writable pre-init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-10]</span> <span class="email-subject">Re: [PATCH v4 1/6] KVM: arm64: Disambiguate support for vSGIs v.
 vLPIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-10]</span> <span class="email-subject">Re: [PATCH v4 1/6] KVM: arm64: Disambiguate support for vSGIs v.
 vLPIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum 162200803</h3>
                </div>

                <div class="thread-meta">
                    <span>9 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-06-26</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是针对 ARM64 架构的 HIP10/HIP10C 错误（erratum 162200803）提出的补丁。该补丁旨在解决 GICv4.0 中的一个 SoC 错误，该错误导致在多个虚拟处理器（vPE）并发发送调度命令时，某些命令可能未被调度，从而引发超时问题。<br><br>在历史讨论中，Zhou Wang 提出了补丁，并讨论了如何处理 vLPI（虚拟本地中断）的数量限制问题。Marc Zyngier 指出，当前 KVM 不会强制执行这一限制，可能导致问题。双方讨论了在 MAPTI/MAPI 命令中增加对 vLPI 数量的检查，以及在迁移时如何处理 GICD_TYPER 的配置。<br><br>在本周的新讨论中，Zhou Wang 表达了将 GICD_TYPE.num_LPIs 设置为可写字段的想法，并提到如果在不同配置的虚拟机之间迁移时会失败。他计划准备一个新的补丁来实现这一点。Marc Zyngier 认可了这一方向，并表示在内核中处理此错误是更好的选择。最终，Zhou Wang 决定根据讨论结果准备新的补丁。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">[PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhou Wang <span class="email-sender">&lt;wangzhou1@hisilicon.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">Re: [PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">Re: [PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum
 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhou Wang <span class="email-sender">&lt;wangzhou1@hisilicon.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-01]</span> <span class="email-subject">Re: [PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-02]</span> <span class="email-subject">Re: [PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum
 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhou Wang <span class="email-sender">&lt;wangzhou1@hisilicon.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-03]</span> <span class="email-subject">Re: [PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum
 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhou Wang <span class="email-sender">&lt;wangzhou1@hisilicon.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum
 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhou Wang <span class="email-sender">&lt;wangzhou1@hisilicon.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v9 15/43] arm64: RME: Allow VMM to set RIPAS</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-07-02</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 ARM64 架构的补丁（PATCH v9 15/43），其主要目的是允许虚拟机监控器（VMM）设置 RIPAS（Realm Isolation Protection Attribute Set）。该补丁的背景是与 ARM 的 RME（Realm Management Extensions）相关的功能扩展。<br><br>在历史讨论中，参与者对补丁的细节进行了审查，提出了一些小的修改建议，主要集中在代码的可读性和逻辑上。例如，Gavin Shan 对一些空行和不必要的检查提出了意见，并表示补丁整体看起来不错。<br><br>在本周的新讨论中，Steven Price 和 Gavin Shan 继续探讨补丁的细节，特别是 enum 的扩展问题，提到 RMMv1.1 规范中新增的 RMI_RTT_SET_S2AP 选项。Gavin 对于需要传入的 'vcpu' 参数表示不满，认为在某些情况下并不适用，但未能找到更好的解决方案。此外，Steven 也开始研究 RMMv1.1 的实现，表示对该规范的理解仍在加深。<br><br>总体来看，本周讨论主要集中在补丁的细节完善和对新规范的适应上，参与者们积极交流，推动补丁的进一步改进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-02]</span> <span class="email-subject">Re: [PATCH v9 15/43] arm64: RME: Allow VMM to set RIPAS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-03]</span> <span class="email-subject">Re: [PATCH v9 13/43] arm64: RME: Support for the VGIC in realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v9 13/43] arm64: RME: Support for the VGIC in realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v9 15/43] arm64: RME: Allow VMM to set RIPAS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v9 14/43] KVM: arm64: Support timers in realm RECs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v9 14/43] KVM: arm64: Support timers in realm RECs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-10]</span> <span class="email-subject">Re: [PATCH v9 15/43] arm64: RME: Allow VMM to set RIPAS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-06-27</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（内核虚拟机）在 arm64 架构下阻止可缓存 PFNMAP 映射的补丁（PATCH v9 3/6）。该补丁旨在解决 arm64 中 get_vma_page_shift() 函数错误假设 VM_PFNMAP VMA 是物理连续的问题，这可能导致映射不一致。<br><br>在历史讨论中，参与者们探讨了 KVM 是否应该尝试扩展映射的连续性，Jason Gunthorpe 提出了应依赖主机来发现连续性，而不是在 KVM 中进行优化。同时，David Hildenbrand 和 Will Deacon 也对 MMU 通知机制的使用提出了疑问，尤其是在 remap_pfn_range() 路径上如何确保不使用过期的映射。<br><br>本周的新讨论中，Will Deacon 认识到之前对 remap_pfn_range() 的理解有误，认为该函数并不会自动取消现有的映射，这一发现为后续讨论提供了新的视角。整体来看，讨论围绕如何在 KVM 中正确处理 PFNMAP 映射的连续性和缓存性展开，尚未达成最终结论。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ankit Agrawal <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: fix u64_replace_bits() usage</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-07-11</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于修复 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 `u64_replace_bits()` 函数使用问题的补丁。<br><br>1. **原始补丁内容**：Arnd Bergmann 提出了一个补丁，修复了 `u64_replace_bits()` 函数的使用。该函数返回一个修改后的值，但并未实际修改其参数，这导致了编译时的警告。补丁的目的是确保在调用该函数后，更新 `val` 的值。<br><br>2. **之前讨论要点**：在本周之前的讨论中，Marc Zyngier 提到他已经为这个问题准备了一个修复补丁，并且该修复已经排入了 6.16 版本的队列。Arnd 也确认了这个警告是因为在 `linux-next` 中引入了新的检查。<br><br>3. **本周的新讨论与进展**：本周的讨论中，Zenghui Yu 表示这个问题已经被 Ben 的补丁修复。Marc Zyngier 指出 Ben 的修复并未在 `-next` 中，因为他将其排入了 kvmarm 的修复分支。Arnd 进一步解释了补丁的顺序问题，并希望 Paolo 能尽快将其发送给 Linus，以确保 `-next` 的清洁性。Mark Brown 也强调了将该修复添加到 `-next` 的重要性，以避免类似问题的再次发生。<br><br>整体来看，讨论集中在如何确保修复及时合并到主线代码中，以便在未来的测试中避免潜在问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">[PATCH] KVM: arm64: fix u64_replace_bits() usage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Arnd Bergmann <span class="email-sender">&lt;arnd@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: fix u64_replace_bits() usage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zenghui Yu <span class="email-sender">&lt;yuzenghui@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: fix u64_replace_bits() usage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: fix u64_replace_bits() usage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Arnd Bergmann <span class="email-sender">&lt;arnd@arndb.de&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: fix u64_replace_bits() usage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: fix u64_replace_bits() usage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 05/10] KVM: arm64: Add trap configs for PMSDSFR_EL1</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-07-09</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，主题为“添加 PMSDSFR_EL1 的陷阱配置”。该补丁的目的是为了处理 PMSDSFR_EL1 寄存器的访问问题，确保在虚拟化环境中，来宾操作系统不会错误地访问该寄存器。<br><br>在历史讨论中，补丁的背景信息指出，正常行为的来宾不会尝试访问 PMSDSFR_EL1，因为该寄存器的存在性是通过访问 PMSDSFR_EL1.FDS 来检查的，而该检查当前被设置为 `undef_access`，从而隐藏了 SPE（可扩展性能监控）给来宾。Joey Gouly 对该补丁表示认可，并给予了审核通过的意见。<br><br>在本周的新讨论中，主要集中在另一个补丁“处理来自主机的 FFA_MEM_LEND 调用”的问题上。DaeRo Lee 提出了关于 FFA_MEM_LEND 是否意味着主机在借出内存后仍然可以访问该内存的疑问。Will Deacon 回应称，只有在某些特定情况下才会出现这种情况，并进一步澄清 pKVM 不使用 FF-A 来管理主机与来宾之间的页面所有权。讨论中还提到，在执行 Lend 操作时，需要对主机内存区域进行 Stage 2 的解除映射。<br><br>总体而言，本周的讨论围绕着内存管理和虚拟化隔离的细节展开，补丁的审核和反馈也在积极进行中。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v3 05/10] KVM: arm64: Add trap configs for PMSDSFR_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-12]</span> <span class="email-subject">Re: [PATCH v3 08/10] KVM: arm64: Handle FFA_MEM_LEND calls from the host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: DaeRo Lee <span class="email-sender">&lt;skseofh@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-13]</span> <span class="email-subject">Re: [PATCH v3 08/10] KVM: arm64: Handle FFA_MEM_LEND calls from the
 host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-13]</span> <span class="email-subject">Re: [PATCH v3 08/10] KVM: arm64: Handle FFA_MEM_LEND calls from the host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: DaeRo Lee <span class="email-sender">&lt;skseofh@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-13]</span> <span class="email-subject">Re: [PATCH v3 08/10] KVM: arm64: Handle FFA_MEM_LEND calls from the
 host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/2] Fix and add warning of misuse of type##_replace_bits()</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-07-09</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 Linux 内核中 `type##_replace_bits()` 函数的修复和改进，主要集中在确保其返回值被正确检查，以避免潜在的误用。<br><br>**原始 patch/问题内容**：<br>Ben Horgan 提出了两个补丁（PATCH v2 0/2），旨在修复 `u64_replace_bits()` 的使用错误，并在相关函数上添加 `__must_check` 注解，以确保返回值被检查。<br><br>**之前讨论要点**：<br>在之前的讨论中，提到 `u64_replace_bits()` 的返回值被忽视，导致其功能未能生效。补丁的第一部分修复了这一问题，将其替换为 `u64p_replace_bits()`，以便在原地更新值。<br><br>**本周的新讨论、进展或结论**：<br>本周的讨论中，Ben Horgan 提交了两个补丁，分别修复了 KVM 中的 MDCR_EL2.HPMN 上限检查，并确保 `type##_replace_bits()`、`type##_get_bits()` 和 `type##_encode_bits()` 的返回值被检查。Marc Zyngier 和 Yury Norov 对这两个补丁进行了审查并确认已应用，表示感谢。补丁的应用将有助于提高代码的安全性和可靠性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v2 0/2] Fix and add warning of misuse of type##_replace_bits()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v2 1/2] KVM: arm64: Fix enforcement of upper bound on MDCR_EL2.HPMN</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">[PATCH v2 2/2] bitfield: Ensure the return values of helper functions are checked</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: (subset) [PATCH v2 1/2] KVM: arm64: Fix enforcement of upper bound on MDCR_EL2.HPMN</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v2 2/2] bitfield: Ensure the return values of helper
 functions are checked</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yury Norov <span class="email-sender">&lt;yury.norov@gmail.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7 0/5] KVM: arm64: Support FF-A 1.2 and SEND_DIRECT2 ABI</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-07-01</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下支持 FF-A 1.2 和 SEND_DIRECT2 ABI 的补丁集。<br><br>1. **原始补丁内容**：Per Larsen 提出的补丁集（PATCH v7 0/5）旨在实现 FF-A 1.2 规范中的新 SEND_DIRECT2 ABI，允许使用寄存器 x4-x17 作为消息负载。该补丁确保主机使用的 FF-A 版本不低于与虚拟机监控器（hypervisor）协商的版本，以避免兼容性问题。<br><br>2. **之前讨论要点**：在之前的讨论中，Marc Zyngier 对补丁中涉及的寄存器使用提出了质疑，认为不能随意更改这些寄存器的值，并询问如何确保补丁的有效性。Per Larsen 解释了 SMCCC 1.2 的使用，并强调了其与 FF-A 1.2 的兼容性。<br><br>3. **本周的新讨论与进展**：在本周的讨论中，Per Larsen 针对 Marc Zyngier 的疑问进行了回应，引用了相关文档（DEN0077A 1.2），指出在 FF-A ABI 中未使用的寄存器应写入零，以符合规范。他进一步分析了 FF-A 1.2 规范中关于状态机的内容，强调了在不同状态之间的转换，认为补丁的实现是合理的。<br><br>总体而言，本周的讨论推动了对补丁有效性的理解，并为补丁的进一步完善提供了依据。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-01]</span> <span class="email-subject">[PATCH v7 0/5] KVM: arm64: Support FF-A 1.2 and SEND_DIRECT2 ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-01]</span> <span class="email-subject">[PATCH v7 2/5] KVM: arm64: Use SMCCC 1.2 for FF-A initialization
 and in host handler</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-03]</span> <span class="email-subject">Re: [PATCH v7 2/5] KVM: arm64: Use SMCCC 1.2 for FF-A initialization and in host handler</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH v7 2/5] KVM: arm64: Use SMCCC 1.2 for FF-A initialization
 and in host handler</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen <span class="email-sender">&lt;perl@immunant.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v23 4/4] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-07-04</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 ARM 架构性能监控单元（PMU）分支记录缓冲区扩展（BRBE）的补丁。该补丁旨在为 ARM PMU v3 添加对 BRBE 的支持，主要涉及如何处理与 PMU 中断相关的样本采集。<br><br>在历史讨论中，Mark Rutland 对补丁表示认可，并提出了一些需要修正的地方，强调在处理事件溢出时，如何读取过滤后的 BRBE 条目。Rob Herring 也提到了一些实现细节，认为在实际应用中，因 PMU 中断导致样本丢失的情况并不常见。<br><br>在本周的新讨论中，Rob Herring 和 Mark Rutland 进一步确认了对样本采集的看法，表示在不相关的中断情况下，保留之前的样本是合适的。Will Deacon 则宣布已将补丁应用到其分支中，并提供了相关补丁的链接，显示了该补丁的四个部分，包括 BRBE 寄存器的添加、启动要求的处理以及在 nVHE 虚拟机中禁用分支生成等。<br><br>总的来说，本周的讨论确认了补丁的方向，并标志着其在开发流程中的进一步推进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v23 4/4] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [PATCH v23 4/4] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH v23 0/4] arm64/perf: Enable branch stack sampling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v5 0/5] KVM: x86: Provide a cap to disable APERF/MPERF read intercepts</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-06-25</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题为 KVM（内核虚拟机）在 x86 架构下提供一个能力，以禁用对 APERF/MPERF 读取的拦截。历史讨论中，Sean Christopherson 提到了一系列补丁，主要是为了允许虚拟机客户机读取 IA32_APERF 和 IA32_MPERF，以便其能够确定物理 LPU 的有效频率倍增器。此外，之前的补丁（如 commit b51700632e0e）已经允许用户空间的虚拟机监控器（VMM）授予客户机读取特定 MSR 的权限。<br><br>在本周的新讨论中，Sean Christopherson 宣布已经将补丁应用到 kvm-x86 的杂项分支，并修复了一个拼写错误。他列出了补丁系列中的五个补丁，包括替换一组布尔值为 u64 类型的补丁、提供禁用 APERF/MPERF 读取拦截的能力、扩展用于将任务固定到单个 CPU 的 API 的自测试补丁，以及测试 KVM_X86_DISABLE_EXITS_APERFMPERF 行为的补丁。这些进展表明，补丁系列正在顺利推进并逐步实施。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-25]</span> <span class="email-subject">[PATCH v5 0/5] KVM: x86: Provide a cap to disable APERF/MPERF read intercepts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-10]</span> <span class="email-subject">Re: [PATCH v5 0/5] KVM: x86: Provide a cap to disable APERF/MPERF
 read intercepts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/5] KVM: arm64: Enable GICv3 guests on GICv5 hosts using
 FEAT_GCIE_LEGACY</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-06-27</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 GICv5 主机上启用 GICv3 客户机的补丁系列，主要通过利用 GICv5 的遗留兼容性特性（FEAT_GCIE_LEGACY）。该补丁的目标是使现有的 GICv3 虚拟机能够在 GICv5 系统上无缝运行，而无需对虚拟机或虚拟机监控程序进行修改。<br><br>在历史讨论中，Sascha Bischoff 提出了这一补丁系列，重点关注两个方面：一是 KVM GIC 支持，确保能够检测到 GICv5 主机并配置其以支持 GICv3 客户机；二是 IRQ 芯片支持，确保转发的 PPI 中断能够正常工作。<br><br>在本周的新讨论中，Oliver Upton 表示他已经开始处理这些补丁，并将其应用到下一步开发中，尽管尚不确定这些补丁是否会在 6.17 版本中落地。他对 KVM 部分的进展表示满意，并列出了五个相关补丁的链接，涵盖了从跳过转发 PPI 中断的停用到支持 GICv3 兼容性等多个方面的改进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">[PATCH v2 0/5] KVM: arm64: Enable GICv3 guests on GICv5 hosts using
 FEAT_GCIE_LEGACY</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sascha Bischoff <span class="email-sender">&lt;Sascha.Bischoff@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [PATCH v2 0/5] KVM: arm64: Enable GICv3 guests on GICv5 hosts using FEAT_GCIE_LEGACY</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 08/14] powerpc: Handle KCOV __init vs inline mismatches</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-09</span>
                </div>

                <div class="ai-summary">
                    本周讨论的主题是关于一个针对 PowerPC 架构的补丁，主要目的是处理 KCOV 的 `__init` 与内联函数之间的不匹配问题。该补丁的编号为 PATCH v2 08/14。<br><br>在历史讨论中，没有提供具体的上下文或之前的讨论内容，因此我们无法得知补丁的详细背景或之前的争议。<br><br>本周的讨论中，参与者 Kees Cook 对补丁表示认可，认为补丁的处理方式良好，并表示将采纳该补丁，放弃自己之前的补丁提案。这表明该补丁得到了积极的反馈，且可能会在后续版本中被合并。<br><br>总体而言，本周的讨论集中在对该补丁的支持上，显示出社区对解决 KCOV 相关问题的重视。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v2 08/14] powerpc: Handle KCOV __init vs inline mismatches</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Kees Cook <span class="email-sender">&lt;kees@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 05/20] KVM: arm64: timers: Allow physical offset
 without CNTPOFF_EL2</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-09</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的定时器处理，特别是允许在没有 CNTPOFF_EL2 的情况下使用物理偏移的补丁（PATCH v4 05/20）。<br><br>在历史讨论中，未提供相关的背景信息，因此我们无法得知之前的具体讨论内容。<br><br>本周的讨论由 Zenghui Yu 提出，主要集中在测试 arch_timer_edge_cases 时的观察结果。他在 Kunpeng920 上进行测试，发现 test_timer_cval() 函数在处理物理定时器时返回的时间过长。Zenghui 指出，测试中的注释存在错误，应该明确为“将定时器设置为 CVAL=0”。他详细描述了定时器的状态重置和中断处理流程，并指出在执行该测试时并未触发物理定时器中断，这表明该测试用例并不符合实际使用场景。<br><br>Zenghui 对于如何正确模拟这一测试用例表示不确定，并希望能得到进一步的指导或讨论。这表明该补丁在实际应用中的有效性和可行性仍需进一步验证。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-09]</span> <span class="email-subject">Re: [PATCH v4 05/20] KVM: arm64: timers: Allow physical offset
 without CNTPOFF_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zenghui Yu <span class="email-sender">&lt;yuzenghui@huawei.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>RFC</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[RFC PATCH] tools: Remove obsolete 32-bit arm kvm.h header file</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-10</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于移除过时的32位ARM KVM头文件（kvm.h）。该补丁由Thomas Huth提出，目的是清理工具目录中不再需要的文件。根据历史记录，32位ARM KVM支持在提交541ad0150ca4a中被移除，因此工具目录中的相应头文件也应被删除。<br><br>在之前的讨论中，虽然没有具体的邮件记录，但可以推测出该补丁的提出是基于对KVM架构的更新和维护需求，旨在保持代码的整洁性和可维护性。<br><br>本周的新讨论中，Thomas Huth正式提交了这一补丁，并指出由于缺乏32位ARM构建环境，该补丁尚未经过编译测试，因此被标记为RFC（请求反馈）。补丁内容包括删除了315行代码的kvm.h文件，并更新了相关的检查脚本，以确保不再引用该文件。<br><br>总结来说，此次讨论主要集中在清理过时的代码，以适应KVM的最新架构，同时也反映了维护代码库时的必要性和挑战。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-10]</span> <span class="email-subject">[RFC PATCH] tools: Remove obsolete 32-bit arm kvm.h header file</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Thomas Huth <span class="email-sender">&lt;thuth@redhat.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Bug Report</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[syzbot] [kvmarm?] WARNING in pend_serror_exception</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-12</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 KVM ARM64 虚拟化环境中出现的一个警告信息，具体是 `pend_serror_exception` 函数中的问题。该问题由 syzbot 自动检测到，相关的内核提交记录为 `15724a984643`，该提交涉及合并了 `kvm-arm64/doublefault2` 分支。<br><br>在历史讨论中并未提供前期的详细背景信息，因此我们无法得知该问题的历史讨论要点或之前的补丁内容。<br><br>本周的新讨论中，syzbot 提供了详细的错误报告，包括控制台输出、内核配置、重现步骤和相关的可下载资源。这些信息有助于开发者定位和修复问题。报告中指出了具体的警告信息和调用栈，提示开发者在修复该问题后需要在提交中添加 `Reported-by` 标签，以便追踪问题的来源。<br><br>总结而言，本周的讨论主要集中在 syzbot 发现的 KVM ARM64 环境中的警告问题上，尚未有具体的修复进展或解决方案。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-12]</span> <span class="email-subject">[syzbot] [kvmarm?] WARNING in pend_serror_exception</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: syzbot <span class="email-sender">&lt;syzbot+1f6f096afda6f4f8f565@syzkaller.appspotmail.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>GIT PULL</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[GIT PULL] KVM/arm64 fixes for 6.16, take #4</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-06-26</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM/arm64 的修复补丁，旨在为 6.16 版本提供更新。历史讨论中，Marc Zyngier 提到此次补丁主要包括三个方面的修复：允许 pKVM 初始化失败而不影响主机运行、确保主机 S2 不会映射过多内容，以及修复嵌套 GICv3 模拟中的一个小错误。<br><br>在本周的新讨论中，Paolo Bonzini 确认了补丁的合并，并提到 git:// 协议在某些情况下无法使用，建议使用 https://。Marc Zyngier 对此表示疑惑，并确认他能够正常使用 git:// 协议进行克隆。随后，Paolo 也确认问题已解决，推测可能是 git.kernel.org 服务器的临时故障。<br><br>总体来看，本周的讨论主要集中在补丁合并的确认及与 Git 协议相关的问题上，未涉及新的技术讨论或补丁内容。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">[GIT PULL] KVM/arm64 fixes for 6.16, take #4</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [GIT PULL] KVM/arm64 fixes for 6.16, take #4</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Paolo Bonzini <span class="email-sender">&lt;pbonzini@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [GIT PULL] KVM/arm64 fixes for 6.16, take #4</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-10]</span> <span class="email-subject">Re: [GIT PULL] KVM/arm64 fixes for 6.16, take #4</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Paolo Bonzini <span class="email-sender">&lt;pbonzini@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[GIT PULL] KVM/arm64 fixes for 6.16, take #5</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-07-03</span>
                </div>

                <div class="ai-summary">
                    在本次邮件讨论中，Marc Zyngier 提出了针对 KVM/arm64 的修复补丁，旨在解决一些历史遗留问题。该补丁主要包括移除主机 FPSIMD 状态的 EL1 S1 映射，并停止向客户机报告错误的 S2 基粒度大小。这些修复是为了提高系统的稳定性和准确性。<br><br>在之前的讨论中，Marc 提到这种每周发布一个修复的趋势正在持续，且修复的严重性逐渐降低。他希望将这次的修复与上周的 kvmarm-fixes-6.16-4 合并。<br><br>在本周的新讨论中，Paolo Bonzini 确认该补丁将在 KVM 社区会议后提交给 Linus，表明修复工作正在按计划进行，且没有新的争议或问题出现。这表明该补丁的接受度较高，预计将顺利合并到主线代码中。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-03]</span> <span class="email-subject">[GIT PULL] KVM/arm64 fixes for 6.16, take #5</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [GIT PULL] KVM/arm64 fixes for 6.16, take #5</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Paolo Bonzini <span class="email-sender">&lt;pbonzini@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[GIT PULL] KVM/arm64 fixes for 6.16, take #6</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-11</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论主题为 KVM/arm64 在 6.16 版本的修复，主要由 Marc Zyngier 提出。邮件中提到的补丁（patch）旨在解决在嵌套虚拟化中处理 PMU 寄存器数量时的一个问题，Marc 将其形容为“脑筋急转弯”。<br><br>在历史讨论中没有相关的背景信息，因此本周的讨论成为了主要内容。Marc 提到这是针对 6.16 版本的最后一次修复，具体修复了在调整客体对 MDCR_EL2.HPMN 的视图时，使用 u64_replace_bits() 函数的错误。补丁的具体内容包括在 `arch/arm64/kvm/sys_regs.c` 文件中进行了一处修改，增加了一行代码并删除了一行代码。<br><br>本周的进展表明，Marc 提交了这一修复，并请求 Paolo 进行合并。这一补丁的成功合并将有助于提升 KVM/arm64 的稳定性和性能。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">[GIT PULL] KVM/arm64 fixes for 6.16, take #6</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Other</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH 0/2] riscv: Add kvmtool support</h3>
                </div>

                <div class="thread-meta">
                    <span>9 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-07-04</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 RISC-V 架构的 KVM 工具支持的补丁，主要分为两个部分：历史讨论和本周新讨论。<br><br>1. **原始补丁内容**：补丁包括两个部分，第一部分是针对 ARM 架构的脚本更新，增加了一项检查以确保在非 ARM 主机上运行 KVM 工具的正确性；第二部分则是为 RISC-V 架构添加对 KVM 工具的支持，使其能够作为一类公民运行测试。<br><br>2. **之前讨论要点**：在历史讨论中，Andrew Jones 提出了补丁的背景，强调了 KVM 工具在不同架构上的兼容性问题，并指出了 ARM 架构的 KVM 已被弃用，建议清理相关代码。<br><br>3. **本周的新讨论与进展**：本周的讨论主要集中在补丁的审查和合并上。Jesse Taube 和 Nutty Liu 对两个补丁进行了审核并表示支持。Jesse 还提出了是否计划为 i386 和 x86_64 添加支持的疑问，Andrew 表示目前没有计划，但欢迎其他人提出补丁。同时，Andrew 还提到应删除与 ARM 相关的过时引用。最终，Andrew 宣布已将补丁合并，标志着 RISC-V 对 KVM 工具的支持正式加入。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-04]</span> <span class="email-subject">[kvm-unit-tests PATCH 0/2] riscv: Add kvmtool support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-04]</span> <span class="email-subject">[kvm-unit-tests PATCH 1/2] arm/arm64: Ensure proper host arch with kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-07-04]</span> <span class="email-subject">[kvm-unit-tests PATCH 2/2] riscv: Add kvmtool support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH 1/2] arm/arm64: Ensure proper host arch
 with kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jesse Taube <span class="email-sender">&lt;jesse@rivosinc.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH 2/2] riscv: Add kvmtool support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jesse Taube <span class="email-sender">&lt;jesse@rivosinc.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH 2/2] riscv: Add kvmtool support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH 1/2] arm/arm64: Ensure proper host arch with kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Nutty Liu <span class="email-sender">&lt;liujingqi@lanxincomputing.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH 2/2] riscv: Add kvmtool support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Nutty Liu <span class="email-sender">&lt;liujingqi@lanxincomputing.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-08]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH 0/2] riscv: Add kvmtool support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH v4 00/13] arm/arm64: Add kvmtool to the runner script</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-06-25</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于在 KVM 单元测试中添加 kvmtool 的补丁系列。补丁的目标是通过修改运行脚本，使得用户能够轻松地使用 kvmtool 运行所有测试，从而提高测试的自动化和可靠性。kvmtool 相比于 qemu 更小且易于修改，适合开发者在 KVM 中添加或原型化新特性。<br><br>在历史讨论中，Alexandru Elisei 提到 kvmtool 的默认参数可能会对某些测试造成干扰，因为这些测试会解析内核命令行，而 kvmtool 会自动添加一些参数。为了解决这个问题，kvmtool 引入了 `--nodefaults` 参数，避免了不必要的默认选项。<br><br>在本周的新讨论中，Thomas Huth 提出了在 s390x 平台上出现的一个问题，提示 `vmm_defaults_opts` 命令未找到。Andrew Jones 随后确认这个问题已经通过他之前提交的补丁修复，并感谢 Thomas 的反馈。讨论显示出开发者之间的协作与问题解决的进展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-25]</span> <span class="email-subject">[kvm-unit-tests PATCH v4 00/13] arm/arm64: Add kvmtool to the runner script</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-25]</span> <span class="email-subject">[kvm-unit-tests PATCH v4 07/13] scripts: Add default arguments for kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v4 07/13] scripts: Add default arguments
 for kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Thomas Huth <span class="email-sender">&lt;thuth@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v4 07/13] scripts: Add default arguments
 for kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-11]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v4 07/13] scripts: Add default arguments
 for kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Thomas Huth <span class="email-sender">&lt;thuth@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[syzbot] [kvmarm?] WARNING in pend_sync_exception</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-12</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 KVM ARM 虚拟化环境中出现的一个警告信息，具体是 `pend_sync_exception` 函数中的问题。此问题由 syzbot 自动检测到，发生在 Linux 内核的一个特定提交（15724a984643）上。<br><br>在历史讨论中，并没有提供具体的背景信息或之前的讨论内容，因此我们无法获取更多的上下文。<br><br>在本周的新讨论中，syzbot 提供了详细的错误报告，包括相关的内核配置、控制台输出和重现步骤。这一警告提示在执行 `pend_sync_exception` 函数时出现了问题，涉及到 ARM64 架构的 KVM 模块。报告中附带了相关的调试信息和可下载的资源，如非可启动的磁盘映像和内核映像，以帮助开发者定位和修复该问题。<br><br>目前尚未有针对该问题的修复进展或讨论，syzbot 继续跟踪该问题，并鼓励开发者在修复后添加相应的标签以便记录。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-12]</span> <span class="email-subject">[syzbot] [kvmarm?] WARNING in pend_sync_exception</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: syzbot <span class="email-sender">&lt;syzbot+4e09b1432de3774b86ae@syzkaller.appspotmail.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[QUESTION] KVM: arm64: Handle FFA_MEM_LEND calls from the host</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-12</span>
                </div>

                <div class="ai-summary">
                    本邮件主题为“[QUESTION] KVM: arm64: Handle FFA_MEM_LEND calls from the host”，主要讨论了在 KVM（Kernel-based Virtual Machine）环境下，如何处理来自主机的 FFA_MEM_LEND 调用。<br><br>在本周的新讨论中，参与者 daeroro 向 Will 提出了一个问题，询问将 FFA_MEM_LEND 视为与 FFA_MEM_SHARE 相同的处理方式，是否意味着即使在内存被“借出”后，主机仍然可以访问该内存。这表明对内存管理和访问权限的理解存在疑问，涉及到虚拟化环境中主机与虚拟机之间的内存共享和安全性问题。<br><br>目前尚未有历史讨论的内容提供背景信息，因此无法总结之前的讨论要点。整体来看，本周的讨论集中在对内存借用机制的理解和其对主机访问权限的影响上，显示出对 KVM 在 arm64 架构下内存管理的深入探讨。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-12]</span> <span class="email-subject">[QUESTION] KVM: arm64: Handle FFA_MEM_LEND calls from the host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: daeroro <span class="email-sender">&lt;skseofh@gmail.com&gt;</span></div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
