<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVMARM 邮件列表 AI 总结报告</title>
    <style>
        body {
            font-family: 'Courier New', 'Courier', monospace;
            line-height: 1.5;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 40px;
            background-color: #ffffff;
            color: #222;
        }
        .container {
            background: #ffffff;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
            color: #000;
            margin-bottom: 0.3em;
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 15px;
        }
        h2 {
            font-size: 1.6em;
            font-weight: bold;
            color: #000;
            margin-top: 2em;
            margin-bottom: 0.6em;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 1.2em;
            font-weight: bold;
            color: #111;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h4 {
            font-size: 1.05em;
            font-weight: bold;
            color: #333;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
        }
        .meta-info {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px 20px;
            margin: 20px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        .meta-info p {
            margin: 6px 0;
            color: #444;
        }
        .meta-info strong {
            color: #000;
            font-weight: bold;
        }
        .stats {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid #000;
        }
        .stat-card {
            display: table-cell;
            border: 1px solid #000;
            padding: 12px 15px;
            text-align: center;
            background: #fafafa;
        }
        .stat-card h3 {
            margin: 0;
            color: #000;
            font-size: 1.8em;
            font-weight: bold;
            border: none;
            padding: 0;
        }
        .stat-card p {
            margin: 5px 0 0 0;
            color: #444;
            font-size: 0.9em;
            font-weight: normal;
        }
        .category {
            margin: 30px 0;
        }
        .thread {
            margin: 25px 0;
            padding: 15px;
            background: #fafafa;
            border: 1px solid #ccc;
            page-break-inside: avoid;
        }
        .thread-header {
            margin-bottom: 12px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .thread-header h3 {
            font-size: 1.15em;
            font-weight: bold;
            color: #000;
            margin: 0;
        }
        .thread-meta {
            display: block;
            margin: 8px 0 12px 0;
            font-size: 0.9em;
            color: #555;
            font-style: italic;
        }
        .thread-meta span {
            margin-right: 15px;
        }
        .ai-summary {
            background: #fff;
            border-left: 3px solid #666;
            padding: 12px 15px;
            margin: 15px 0;
            line-height: 1.6;
            color: #222;
            font-style: italic;
        }
        .email-list {
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px 15px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.88em;
            line-height: 1.5;
            overflow-x: auto;
            margin: 10px 0;
        }
        .email-item {
            margin: 4px 0;
            padding: 2px 0;
            color: #222;
        }
        .email-item.historical {
            background: #f5f5f5;
            border-left: 3px solid #999;
            padding-left: 8px;
            opacity: 0.8;
        }
        .email-item.new {
            background: #fffef0;
            border-left: 3px solid #0066cc;
            padding-left: 8px;
        }
        .email-date {
            color: #0066cc;
            font-weight: bold;
        }
        .email-date.historical {
            color: #666;
        }
        .email-sender {
            color: #c30;
            font-weight: normal;
        }
        .email-subject {
            color: #000;
        }
        .historical-marker {
            color: #999;
            font-size: 0.85em;
            font-style: italic;
        }
        .new-marker {
            color: #0066cc;
            font-size: 0.85em;
            font-weight: bold;
        }
        .archive-link {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            background: #333;
            color: #fff;
            text-decoration: none;
            border: 2px solid #000;
            font-weight: bold;
            transition: all 0.2s;
        }
        .archive-link:hover {
            background: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KVMARM Mailing List Analysis Report</h1>

        <div class="meta-info">
            <p><strong>Generated:</strong> 2025-10-27 09:32</p>
            <p><strong>Time Period:</strong> 2025年3月 第10周 (03/03 - 03/09)</p>
            <p><strong>Total Messages:</strong> 220 | <strong>Total Threads:</strong> 28</p>
            <p style="text-align: center;"><a href="archive.html" class="archive-link">📚 历史归档 Archive</a></p>
        </div>


        <div class="category">
            <h2>PATCH</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7 01/45] KVM: Prepare for handling only shared mappings
 in mmu_notifier events</h3>
                </div>

                <div class="thread-meta">
                    <span>36 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-03-03</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（内核虚拟机）的补丁系列，特别是第一个补丁“[PATCH v7 01/45] KVM: Prepare for handling only shared mappings in mmu_notifier events”。该补丁旨在为处理仅共享映射的 mmu_notifier 事件做准备。<br><br>在历史讨论中，Gavin Shan 指出补丁中新增的成员（only_private 和 only_shared）与 attr_filter 中的成员存在重复，且该问题在之前的讨论中未被注意到。Steven Price 也承认了这一点，并表示会在后续补丁中使用 attr_filter。<br><br>在本周的新讨论中，Gavin Shan 和 Steven Price 针对多个补丁进行了审查和反馈，主要集中在代码的清晰性和一致性上。例如，Gavin 指出需要在补丁描述中更准确地说明某些功能的限制，并建议在代码中添加注释以解释设计选择。此外，讨论中还提到了一些代码改进建议，如合并冗余的 WARN_ON() 语句和重命名变量以提高可读性。<br><br>总体来看，本周的讨论主要集中在对补丁的细节审查和改进建议上，参与者们积极交流，确保补丁的质量和可维护性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 01/45] KVM: Prepare for handling only shared mappings
 in mmu_notifier events</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 05/45] arm64: RME: Add wrappers for RMI calls</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 06/45] arm64: RME: Check for RME support at KVM init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 07/45] arm64: RME: Define the user ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 08/45] arm64: RME: ioctls to create and configure
 realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 09/45] kvm: arm64: Expose debug HW register numbers for
 Realm</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 10/45] arm64: kvm: Allow passing machine type in KVM
 creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 11/45] arm64: RME: RTT tear down</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 12/45] arm64: RME: Allocate/free RECs to match vCPUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 01/45] KVM: Prepare for handling only shared mappings
 in mmu_notifier events</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 05/45] arm64: RME: Add wrappers for RMI calls</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 14/45] arm64: RME: Support for the VGIC in realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 16/45] arm64: RME: Allow VMM to set RIPAS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 17/45] arm64: RME: Handle realm enter/exit</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 18/45] arm64: RME: Handle RMI_EXIT_RIPAS_CHANGE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 19/45] KVM: arm64: Handle realm MMIO emulation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 20/45] arm64: RME: Allow populating initial contents</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 22/45] KVM: arm64: Handle realm VCPU load</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 23/45] KVM: arm64: Validate register access for a Realm
 VM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 24/45] KVM: arm64: Handle Realm PSCI requests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 25/45] KVM: arm64: WARN on injected undef exceptions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 26/45] arm64: Don't expose stolen time for realm guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 27/45] arm64: rme: allow userspace to inject aborts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 28/45] arm64: rme: support RSI_HOST_CALL</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 29/45] arm64: rme: Allow checking SVE on VM instance</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 30/45] arm64: RME: Always use 4k pages for realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 31/45] arm64: rme: Prevent Device mappings for Realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 34/45] kvm: rme: Hide KVM_CAP_READONLY_MEM for realm
 guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v7 15/45] KVM: arm64: Support timers in realm RECs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v7 35/45] arm64: RME: Propagate number of breakpoints and
 watchpoints to userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v7 36/45] arm64: RME: Set breakpoint parameters through
 SET_ONE_REG</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v7 05/45] arm64: RME: Add wrappers for RMI calls</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v7 00/45] arm64: Support for Arm CCA in KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v7 09/45] kvm: arm64: Expose debug HW register numbers for
 Realm</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [PATCH v7 09/45] kvm: arm64: Expose debug HW register numbers for
 Realm</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">Re: [PATCH v7 12/45] arm64: RME: Allocate/free RECs to match vCPUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/4] KVM: arm64: Fix initializing HCRX_EL2 and other traps
 in pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>31 messages</span>
                    <span>6 participants</span>
                    <span>Started: 2025-02-26</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁系列，主要集中在修复 HCRX_EL2 的初始化和其他陷阱处理。<br><br>**原始补丁内容**：<br>Fuad Tabba 提出的补丁系列（[PATCH v2 0/4]）旨在修复 pKVM 中 HCRX_EL2 的初始化问题，并将相关逻辑分离到独立函数中，以便在保护模式和非保护模式之间共享。<br><br>**之前讨论要点**：<br>在历史讨论中，参与者们探讨了补丁的设计思路，包括将 FF-A 缓冲区的初始化与主机调用路径分离，以避免在保护模式下出现问题。此外，关于如何处理 hypervisor 的版本锁和错误映射的讨论也引起了关注。<br><br>**本周新讨论与进展**：<br>本周的讨论中，参与者们对补丁的细节进行了深入分析。Fuad 和 Will Deacon 讨论了如何避免潜在的竞争条件，特别是在 MMU 通知器中使用 _ONCE 访问器的必要性。Sebastian Ene 提出了一些对补丁的修改建议，并确认这些补丁可以作为 v6.15 的候选项。最终，参与者们达成共识，认为需要进一步审查补丁以确保其在实现中的有效性和安全性。整体来看，本周的讨论推动了补丁的完善，并为将来的版本发布奠定了基础。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-26]</span> <span class="email-subject">[PATCH v2 0/4] KVM: arm64: Fix initializing HCRX_EL2 and other traps
 in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-26]</span> <span class="email-subject">[PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH v2 0/4] KVM: arm64: Separate the hyp FF-A buffers init from
 the host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH v2 1/4] KVM: arm64: Use the static initializer for the vesion lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH v2 2/4] KVM: arm64: Move the ffa_to_linux definition to the
 ffa header</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH v2 4/4] KVM: arm64: Release the ownership of the hyp rx buffer
 to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v2 2/4] KVM: arm64: Move the ffa_to_linux definition to
 the ffa header</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sudeep Holla <span class="email-sender">&lt;sudeep.holla@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v2 2/4] KVM: arm64: Move the ffa_to_linux definition to
 the ffa header</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-28]</span> <span class="email-subject">Re: [PATCH v2 2/4] KVM: arm64: Move the ffa_to_linux definition to the ffa header</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-28]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on
 ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v2 2/4] KVM: arm64: Move the ffa_to_linux definition to
 the ffa header</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v2 2/4] KVM: arm64: Move the ffa_to_linux definition to
 the ffa header</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on
 ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on
 ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v2 2/4] KVM: arm64: Move the ffa_to_linux definition to
 the ffa header</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sudeep Holla <span class="email-sender">&lt;sudeep.holla@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v2 2/4] KVM: arm64: Move the ffa_to_linux definition to
 the ffa header</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sudeep Holla <span class="email-sender">&lt;sudeep.holla@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on
 ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on
 ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v2 1/4] KVM: arm64: Use the static initializer for the
 vesion lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v2 4/4] KVM: arm64: Release the ownership of the hyp rx
 buffer to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v2 4/4] KVM: arm64: Release the ownership of the hyp rx
 buffer to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sudeep Holla <span class="email-sender">&lt;sudeep.holla@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on
 ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v2 4/4] KVM: arm64: Release the ownership of the hyp rx
 buffer to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [PATCH v2 4/4] KVM: arm64: Release the ownership of the hyp rx
 buffer to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sudeep Holla <span class="email-sender">&lt;sudeep.holla@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH hyperv-next v5 00/11] arm64: hyperv: Support Virtual Trust Level Boot</h3>
                </div>

                <div class="thread-meta">
                    <span>15 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-07</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于支持在 ARM64 上的 Hyper-V 中引导虚拟信任级别（VTL）的补丁集。该补丁集的主要目的是使 Hyper-V 代码能够在 ARM64 架构中以 VTL 模式启动，相关的 VTL 级别是虚拟安全模式的一部分。<br><br>在历史讨论中，补丁集的多个版本逐步完善，修复了代码中的一些问题，增强了对 Hyper-V 的支持，并引入了基于 SMCCC 的 API 来检测 Hyper-V 的存在。补丁集还进行了多次重构，以确保代码的可读性和功能性。<br><br>本周的新讨论中，Roman Kisel 提交了补丁集的第 5 版，包含 11 个补丁，主要包括：<br>1. 引入了用于检测 Hyper-V 存在的 SMCCC API。<br>2. 更新了 Kconfig 依赖关系，以便在 ARM64 上启用 VTL 模式。<br>3. 提供了一个架构中立的实现来获取系统的 VTL。<br>4. 初始化 VTL 字段，以便在 VTL 模式下启动。<br>5. 更新了 VMBus 驱动程序，以支持从设备树获取 IRQ 配置。<br><br>参与者 Arnd Bergmann 对部分补丁表示认可，并提出了一些建议以提高代码的可读性和结构性。整体来看，本周的讨论集中在补丁的细节和代码优化上，推动了 ARM64 上 Hyper-V 的进一步发展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 00/11] arm64: hyperv: Support Virtual Trust Level Boot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 01/11] arm64: kvm, smccc: Introduce and use API for detectting hypervisor presence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 02/11] arm64: hyperv: Use SMCCC to detect hypervisor presence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 04/11] Drivers: hv: Provide arch-neutral implementation of get_vtl()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 05/11] arm64: hyperv: Initialize the Virtual Trust Level field</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 06/11] arm64, x86: hyperv: Report the VTL the system boots in</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 07/11] dt-bindings: microsoft,vmbus: Add interrupts and DMA coherence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 08/11] Drivers: hv: vmbus: Get the IRQ number from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 09/11] Drivers: hv: vmbus: Introduce hv_get_vmbus_root_device()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 10/11] ACPI: irq: Introduce acpi_get_gsi_dispatcher()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 11/11] PCI: hv: Get vPCI MSI IRQ domain from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-08]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Arnd Bergmann <span class="email-sender">&lt;arnd@arndb.de&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-08]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 01/11] arm64: kvm, smccc: Introduce and use API for
 detectting hypervisor presence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Arnd Bergmann <span class="email-sender">&lt;arnd@arndb.de&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-08]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 08/11] Drivers: hv: vmbus: Get the IRQ number from
 DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Arnd Bergmann <span class="email-sender">&lt;arnd@arndb.de&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 00/14] KVM: arm64: FEAT_PMUv3 on Apple hardware</h3>
                </div>

                <div class="thread-meta">
                    <span>15 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-03-05</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 Apple 硬件上实现 KVM 的 PMUv3 特性，具体为「[PATCH v3 00/14] KVM: arm64: FEAT_PMUv3 on Apple hardware」。该补丁系列旨在支持 Apple M 系列处理器的性能监控单元（PMU）虚拟化。<br><br>历史讨论方面，之前的版本（v1 和 v2）已经引入了对 PMUv3 的基本支持，并在 v2 中对 Marc 的评论进行了回应。主要的修改包括对补丁的重组和结构调整、禁止无效的 PMUv3 事件映射等。<br><br>在本周的新讨论中，Oliver Upton 提出了 v3 版本的补丁，包含了 14 个具体的补丁内容。主要进展包括：<br>1. **事件过滤和配置**：重构了事件选择和过滤的配置，支持主机和来宾的事件过滤。<br>2. **PMCEID 计算**：从 arm_pmu 的事件位图计算 PMCEID，确保在虚拟化 PMUv3 时的兼容性。<br>3. **SW_INCR 事件支持**：无条件支持 SW_INCR PMU 事件。<br>4. **CPUCAP 检测**：通过 cpucap 确定系统是否支持 FEAT_PMUv3。<br>5. **IMPDEF 处理**：为 Apple M 系列 CPU 启用 IMPDEF PMUv3 陷阱，确保 KVM 能够正确处理这些特殊情况。<br><br>整体来看，这些补丁的目标是增强 KVM 在 Apple 硬件上的性能监控能力，确保虚拟机能够有效利用 PMU 特性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 00/14] KVM: arm64: FEAT_PMUv3 on Apple hardware</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 01/14] drivers/perf: apple_m1: Refactor event select/filter configuration</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 02/14] drivers/perf: apple_m1: Support host/guest event filtering</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 03/14] KVM: arm64: Compute PMCEID from arm_pmu's event bitmaps</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 04/14] KVM: arm64: Always support SW_INCR PMU event</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 05/14] KVM: arm64: Use a cpucap to determine if system supports FEAT_PMUv3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 06/14] KVM: arm64: Drop kvm_arm_pmu_available static key</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 07/14] KVM: arm64: Use guard() to cleanup usage of arm_pmus_lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 08/14] KVM: arm64: Move PMUVer filtering into KVM code</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 09/14] KVM: arm64: Compute synthetic sysreg ESR for Apple PMUv3 traps</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 10/14] KVM: arm64: Advertise PMUv3 if IMPDEF traps are present</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 11/14] KVM: arm64: Remap PMUv3 events onto hardware</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 12/14] drivers/perf: apple_m1: Provide helper for mapping PMUv3 events</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 13/14] KVM: arm64: Provide 1 event counter on IMPDEF hardware</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v3 14/14] arm64: Enable IMP DEF PMUv3 traps on Apple M*</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 00/14] arm: rework id register storage</h3>
                </div>

                <div class="thread-meta">
                    <span>15 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-03-05</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是对 ARM 架构的 ID 寄存器存储进行重构，主要通过一系列补丁（PATCH v2 00/14）来实现。以下是对讨论内容的总结：<br><br>1. **原始补丁内容**：该补丁系列旨在重构 ARM 架构的 ID 寄存器存储方式，主要通过将寄存器定义从结构体转移到数组中，以便更好地支持 CPU 模型的构建。<br><br>2. **历史讨论要点**：之前的讨论集中在如何优化寄存器的存储和访问方式，提出了使用枚举类型来索引寄存器，并对现有代码进行了多次修改以提高代码的可维护性和可读性。补丁中还提到希望能从 Linux 的 sysregs 文件生成寄存器定义，以确保定义的一致性和准确性。<br><br>3. **本周的新讨论与进展**：本周的邮件中，参与者 Cornelia Huck 提到已经对补丁进行了多次更新，修复了重复定义和宏的健壮性问题，并添加了新的脚本来自动生成寄存器定义。此外，补丁还包括对 ID 寄存器的访问器函数的添加，确保在 KVM 环境下能够正确读取和存储这些寄存器的值。<br><br>总的来说，本周的讨论主要集中在补丁的更新和生成寄存器定义的自动化脚本的引入，这将为后续的 CPU 模型支持打下基础。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 00/14] arm: rework id register storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 01/14] arm/cpu: Add sysreg definitions in cpu-sysregs.h</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 02/14] arm/kvm: add accessors for storing host features into idregs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 03/14] arm/cpu: Store aa64isar0/aa64zfr0 into the idregs arrays</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 04/14] arm/cpu: Store aa64isar1/2 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 05/14] arm/cpu: Store aa64pfr0/1 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 06/14] arm/cpu: Store aa64mmfr0-3 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 07/14] arm/cpu: Store aa64dfr0/1 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 08/14] arm/cpu: Store aa64smfr0 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 09/14] arm/cpu: Store id_isar0-7 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 10/14] arm/cpu: Store id_pfr0/1/2 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 11/14] arm/cpu: Store id_dfr0/1 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 12/14] arm/cpu: Store id_mmfr0-5 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 13/14] arm/cpu: Add sysreg generation scripts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH v2 14/14] arm/cpu: Add generated files</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/3] Count pKVM stage-2 usage in secondary pagetable stat</h3>
                </div>

                <div class="thread-meta">
                    <span>13 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-03-04</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 pKVM 的补丁系列，主要目的是在使用 pKVM 时统计与 stage-2 相关的内存使用情况。这些统计信息将显示在 `/proc/meminfo` 的 `SecPageTables` 字段中。<br><br>**原始补丁内容**：<br>补丁系列包括三个主要部分：<br>1. 为 `kvm_hyp_memcache` 添加标志位，以便后续根据内存缓存配置进行内存统计。<br>2. 在 VM 拆除时使用独立的内存缓存来统计 stage-2 页表的内存使用。<br>3. 在次级页表统计中计入 pKVM 的 stage-2 使用情况。<br><br>**之前讨论要点**：<br>在历史讨论中，参与者们关注了如何有效地管理和统计 pKVM 的内存使用，确保在拆除 VM 时能够准确追踪和释放相关内存。<br><br>**本周新讨论与进展**：<br>本周的讨论主要集中在补丁的细节和实现上。Vincent Donnefort 提出了补丁的具体实现，并对之前版本进行了修改，增加了标志位的使用。Oliver Upton 提出了一些小的改进建议，表示可以在应用补丁时进行调整。Akihiko Odaki 则在讨论中提出了一些关于 PMU（性能监控单元）相关补丁的背景和必要性，强调了在用户修改 PMU 寄存器时需要重新加载配置的必要性。整体上，讨论气氛积极，参与者们对补丁的方向表示支持，并提出了建设性的反馈。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">[PATCH v2 0/3] Count pKVM stage-2 usage in secondary pagetable stat</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">[PATCH v2 1/3] KVM: arm64: Add flags to kvm_hyp_memcache</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">[PATCH v2 2/3] KVM: arm64: Distinct pKVM teardown memcache for stage-2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">[PATCH v2 3/3] KVM: arm64: Count pKVM stage-2 usage in secondary
 pagetable stats</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [PATCH v2 1/3] KVM: arm64: Add flags to kvm_hyp_memcache</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH v2 0/3] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH v2 1/3] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH v2 2/3] KVM: arm64: PMU: Reload when user modifies
 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH v2 3/3] KVM: arm64: PMU: Set raw values from user to
 PM{C,I}NTEN{SET,CLR}, PMOVS{SET,CLR}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">Re: [PATCH v2 1/3] KVM: arm64: Add flags to kvm_hyp_memcache</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-09]</span> <span class="email-subject">Re: [PATCH v2 1/3] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-09]</span> <span class="email-subject">Re: [PATCH v2 2/3] KVM: arm64: PMU: Reload when user modifies registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-09]</span> <span class="email-subject">Re: [PATCH v2 3/3] KVM: arm64: PMU: Set raw values from user to PM{C,I}NTEN{SET,CLR}, PMOVS{SET,CLR}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/9] Stage-2 huge mappings for pKVM np-guests</h3>
                </div>

                <div class="thread-meta">
                    <span>10 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-03-06</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于为 pKVM 非特权虚拟机（np-guests）添加二级大页映射的补丁系列（PATCH v2 0/9）。该补丁旨在支持在 Stage-2 中安装 PMD 级别的映射，特别是在 Stage-1 由 Hugetlbfs 或透明大页（THPs）支持时。<br><br>在历史讨论中，之前的版本（v1）已经提出了类似的功能，但在实现细节上存在一些问题，例如对页面大小的警告处理和内存范围检查。参与者 Vincent Donnefort 和 Quentin Perret 对补丁进行了修改，增加了对大页映射的处理和相关的内存管理功能。<br><br>本周的新讨论中，Vincent Donnefort 提出了多个补丁，主要包括：<br>1. 处理 np-guest 的大页映射。<br>2. 为 `__pkvm_host_share_guest` 和 `__pkvm_host_unshare_guest` 等超调用添加 `nr_pages` 参数，以支持大页映射。<br>3. 引入共享 PMD_SIZE fixmap，以提高在安装大页映射时的性能，显著减少延迟。<br>4. 将 pgt.pkvm_mappings 转换为区间树，以优化映射管理。<br><br>这些补丁的目标是提高 pKVM 的性能和可扩展性，特别是在处理大页映射时。整体来看，讨论集中在如何有效地实现和优化这些功能，以满足虚拟化环境的需求。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">[PATCH v2 0/9] Stage-2 huge mappings for pKVM np-guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">[PATCH v2 1/9] KVM: arm64: Handle huge mappings for np-guest CMOs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">[PATCH v2 2/9] KVM: arm64: Add a range to __pkvm_host_share_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">[PATCH v2 3/9] KVM: arm64: Add a range to __pkvm_host_unshare_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">[PATCH v2 4/9] KVM: arm64: Add a range to __pkvm_host_wrprotect_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">[PATCH v2 5/9] KVM: arm64: Add a range to __pkvm_host_test_clear_young_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">[PATCH v2 6/9] KVM: arm64: Convert pkvm_mappings to interval tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">[PATCH v2 7/9] KVM: arm64: Add a range to pkvm_mappings</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">[PATCH v2 8/9] KVM: arm64: Stage-2 huge mappings for np-guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">[PATCH v2 9/9] KVM: arm64: np-guest CMOs with PMD_SIZE fixmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4] arm64: Add basic MTE test</h3>
                </div>

                <div class="thread-meta">
                    <span>8 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-02-27</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 ARM64 的基本 MTE（内存标签扩展）测试的补丁（PATCH v4），由 Vladimir Murzin 提出。该补丁旨在测试不同 MTE 模式下的标签存储访问和标签不匹配，涉及对多个文件的修改，包括新增和调整了 361 行代码。<br><br>在之前的讨论中，参与者对补丁的初步内容表示认可，Alexandru Elisei 和 Andrew Jones 给予了积极的反馈，认为补丁看起来不错。然而，Andrew Jones 提出在使用 Clang 编译时出现了构建失败的问题，主要是由于汇编约束与变量类型不匹配。<br><br>在本周的新讨论中，Alexandru Elisei 和 Andrew Jones 针对 Clang 的问题进行了深入探讨，提出了修改建议以解决编译错误，并讨论了如何在构建过程中启用 MTE 支持。最终，Andrew Jones 表示已修复了内联汇编约束的问题，并将补丁应用到 arm/queue 分支中，进一步推动了该补丁的进展。整体来看，讨论积极，补丁逐步完善，向最终合并迈出了重要一步。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH v4] arm64: Add basic MTE test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vladimir Murzin <span class="email-sender">&lt;vladimir.murzin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [PATCH v4] arm64: Add basic MTE test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [PATCH v4] arm64: Add basic MTE test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vladimir Murzin <span class="email-sender">&lt;vladimir.murzin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [PATCH v4] arm64: Add basic MTE test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [PATCH v4] arm64: Add basic MTE test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [PATCH v4] arm64: Add basic MTE test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">Re: [PATCH v4] arm64: Add basic MTE test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">Re: [PATCH v4] arm64: Add basic MTE test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/3] KVM: arm64: Fixes for 'writable' ID registers in protected mode</h3>
                </div>

                <div class="thread-meta">
                    <span>8 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-03-05</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的可写 ID 寄存器在保护模式中的处理问题，主要涉及三个补丁（patch）。<br><br>1. **原始补丁内容**：<br>   本次补丁旨在修复在保护模式下 ID 寄存器处理中的几个问题，包括：CTR_EL0 在 FEAT_EVT 系统中未被捕获、VPIDR_EL2 在用户空间启用可写的实现 ID 寄存器时被设置为 0，以及能力文档的修正。<br><br>2. **之前讨论要点**：<br>   在历史讨论中，未提及具体的补丁内容，但可以推测之前可能存在对 KVM 在保护模式下处理 ID 寄存器的讨论，尤其是如何确保用户空间的配置能够正确反映在虚拟机中。<br><br>3. **本周的新讨论与进展**：<br>   本周的讨论中，Oliver Upton 提出了三个补丁，分别是将 guest 的 CTR_EL0 和 MIDR_EL1 值复制到 hyp VM 中，并修正 KVM_CAP_ARM_WRITABLE_IMP_ID_REGS 的文档。Marc Zyngier 对前两个补丁提供了审查意见，并建议将相关功能整合到 pkvm_init_features_from_host() 中。最终，Oliver 确认已将补丁应用到下一个版本中，表示感谢。整体来看，本周的讨论集中在补丁的实现细节和文档修正上，且得到了积极的反馈和确认。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH 0/3] KVM: arm64: Fixes for 'writable' ID registers in protected mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH 1/3] KVM: arm64: Copy guest CTR_EL0 into hyp VM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH 2/3] KVM: arm64: Copy MIDR_EL1 into hyp VM when it is writable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">[PATCH 3/3] KVM: arm64: Fix documentation for KVM_CAP_ARM_WRITABLE_IMP_ID_REGS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [PATCH 1/3] KVM: arm64: Copy guest CTR_EL0 into hyp VM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [PATCH 0/3] KVM: arm64: Fixes for 'writable' ID registers in protected mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">Re: [PATCH 0/3] KVM: arm64: Fixes for 'writable' ID registers in protected mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [PATCH 2/3] KVM: arm64: Copy MIDR_EL1 into hyp VM when it is
 writable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/9] Stage-2 huge mappings for pKVM np-guests</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-28</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 pKVM 非特权虚拟机（np-guests）支持的二级大页映射的补丁系列，共包含九个补丁。历史讨论中，Vincent Donnefort 提出了这一补丁系列，旨在为 pKVM np-guests 安装 PMD 级别的二级映射，特别是在 stage-1 使用 Hugetlbfs 或 THPs 时。补丁的最后一部分是针对共享 PMD_SIZE fixmap 的优化。<br><br>在之前的讨论中，Quentin Perret 对补丁提出了一些担忧，主要集中在代码的健壮性上，特别是关于页面对齐的问题。他指出，当前的实现可能在处理非页面对齐的地址时存在潜在风险。<br><br>本周的新讨论中，Vincent Donnefort 和 Quentin Perret 继续探讨了补丁的细节。Quentin 认可了 Vincent 的观点，表示可能不需要使用 __host_check_page_state_range() 函数进行双重检查。此外，Quentin 还提到 fixmap 不支持非对齐地址，并考虑在处理不对齐大小时仅使用 WARN_ON() 进行警告。<br><br>总体来看，讨论围绕补丁的实现细节及其潜在问题展开，参与者在寻求确保代码的健壮性和安全性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-28]</span> <span class="email-subject">[PATCH 0/9] Stage-2 huge mappings for pKVM np-guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-28]</span> <span class="email-subject">[PATCH 1/9] KVM: arm64: Handle huge mappings for np-guest CMOs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-28]</span> <span class="email-subject">[PATCH 2/9] KVM: arm64: Add a range to __pkvm_host_share_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-28]</span> <span class="email-subject">Re: [PATCH 1/9] KVM: arm64: Handle huge mappings for np-guest CMOs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-28]</span> <span class="email-subject">Re: [PATCH 2/9] KVM: arm64: Add a range to __pkvm_host_share_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH 2/9] KVM: arm64: Add a range to __pkvm_host_share_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH 1/9] KVM: arm64: Handle huge mappings for np-guest CMOs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v20 00/11] arm64/perf: Enable branch stack sampling</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-02-18</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于在 arm64 架构上启用分支栈采样的补丁（PATCH v20 00/11）。该补丁系列旨在通过一种名为分支记录缓冲扩展（BRBE）的 v9.2 架构特性来实现性能监控。补丁的前七个部分主要是清理和准备工作，之前已在邮件列表中发布。<br><br>在历史讨论中，Rob Herring 提到他从 Anshuman 接手了这个补丁系列，并与 Mark 一起对 v19 和 v20 版本进行了大量重构。Will Deacon 在后续邮件中确认已将清理补丁应用到相关分支。<br><br>在本周的新讨论中，Rob Herring 指出没有对补丁进行任何更改，暗示可能会有新的版本。Catalin Marinas 提到 Will Deacon 正在等待 Mark Rutland 对整个系列的审查。Mark Rutland 表达了对补丁结构的满意，但对过滤逻辑提出了担忧，认为其复杂性可能导致不适当的事件调度。他表示会尽快处理这个问题，但总体上对补丁系列持积极态度。<br><br>总结而言，补丁旨在增强 arm64 的性能监控功能，当前讨论集中在补丁的审查和过滤逻辑的复杂性上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-18]</span> <span class="email-subject">[PATCH v20 00/11] arm64/perf: Enable branch stack sampling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring (Arm) <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-01]</span> <span class="email-subject">Re: [PATCH v20 00/11] arm64/perf: Enable branch stack sampling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v20 00/11] arm64/perf: Enable branch stack sampling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v20 00/11] arm64/perf: Enable branch stack sampling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v20 00/11] arm64/perf: Enable branch stack sampling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/3] Count pKVM stage-2 usage in secondary pagetable stat</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-03-07</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 pKVM 中统计 stage-2 使用情况的补丁（PATCH v3 0/3）。该系列补丁的主要目的是在使用 pKVM 时，能够统计与 stage-2 相关的内存使用情况，并将该信息展示在 `/proc/meminfo` 的 SecPageTables 字段中。<br><br>在历史讨论中，之前的版本（v1 和 v2）中提到了一些关键的修改，包括对 `kvm_hyp_memcache` 结构体添加标志位、分离 stage-2 的内存缓存以及对 PGD 的统计等。这些修改旨在更好地管理和统计内存使用情况。<br><br>在本周的新讨论中，Vincent Donnefort 提出了三个补丁的具体实现：<br>1. **补丁 1**：为 `kvm_hyp_memcache` 添加标志位，并在内存分配和释放回调中传播这些标志，以便根据 memcache 配置进行内存统计。<br>2. **补丁 2**：在拆除虚拟机时，使用独立的 memcache 来统计专用于 stage-2 页表的内存。<br>3. **补丁 3**：统计 pKVM 在次级页表中使用的页面数量，类似于 VHE 模式的实现。<br><br>这些补丁的实施将增强对 pKVM 内存使用情况的监控和管理，提升系统的性能和资源利用率。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH v3 0/3] Count pKVM stage-2 usage in secondary pagetable stat</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH v3 1/3] KVM: arm64: Add flags to kvm_hyp_memcache</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH v3 2/3] KVM: arm64: Distinct pKVM teardown memcache for stage-2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[PATCH v3 3/3] KVM: arm64: Count pKVM stage-2 usage in secondary
 pagetable stats</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 03/18] KVM: arm64: Handle trapping of FEAT_LS64* instructions</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-04</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（内核虚拟机）在 arm64 架构下处理 FEAT_LS64* 指令的陷阱。原始的 patch 提出了对这些指令的处理方式，以确保在虚拟化环境中正确响应相关指令。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测出该 patch 的目的是为了增强 KVM 对特定指令的支持，确保在不同的虚拟化状态下能够正确处理指令的转发和注入。<br><br>本周的新讨论中，参与者 Fuad Tabba 和 Marc Zyngier 进行了深入的技术交流。Fuad 提出了一个简化的代码实现建议，使用 switch 语句来处理指令的状态，并讨论了在没有 NV（Nested Virtualization）时 EL2 寄存器初始化的清晰规则。Marc 也表达了对当前处理方式的担忧，指出在 L1 客户端运行于 EL2 时，HCRX_EL2 的适用性问题，并认为这种处理方式可能存在脆弱性。两位参与者均表示会继续思考如何重构代码，以提高其健壮性和可维护性。<br><br>总体来看，本周的讨论集中在如何优化和简化 patch 的实现上，同时也关注了在不同虚拟化状态下的寄存器管理问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH 03/18] KVM: arm64: Handle trapping of FEAT_LS64* instructions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH 03/18] KVM: arm64: Handle trapping of FEAT_LS64* instructions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH 03/18] KVM: arm64: Handle trapping of FEAT_LS64* instructions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH 07/18] KVM: arm64: Compute FGT masks from KVM's own FGT tables</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V2 0/8] arm64/mm: Drop PXD_TABLE_BIT</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-21</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于移除 ARM64 架构中的 PXD_TABLE_BIT 的补丁（PATCH V2 0/8）。该补丁旨在去除 PXX_TABLE_BIT 定义，转而依赖更抽象的 PXX_TYPE_MASK、PXX_TYPE_SECT 和 PXX_TYPE_TABLE。这一变更为即将支持的 D128 页表提供了便利，因为 D128 页表没有单一的页表位来区分表和块，而是通过跳过级别（SKL）字段来判断。<br><br>在历史讨论中，参与者 Ryan Roberts 表达了对补丁逻辑的认可，但建议将所有相关的变更合并为一个补丁，以便于审查和编写提交日志。他认为这样可以更清晰地展示移除 PXX_TABLE_BIT 的意图。<br><br>在本周的新讨论中，Anshuman Khandual 和 Ryan Roberts 继续探讨了补丁的结构。Khandual 表示，逐步移除 PXX_TABLE_BIT 的方法在逻辑上是合理的，每个补丁都可以独立证明其有效性，同时保持功能不变并提高代码可读性。尽管 Roberts 建议将补丁合并，Khandual 最终决定暂时保留当前的补丁系列，等待其他人的意见。<br><br>总体来看，讨论围绕如何有效地移除 PXX_TABLE_BIT 进行，参与者们在补丁的结构和审查便利性上存在不同看法。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-21]</span> <span class="email-subject">[PATCH V2 0/8] arm64/mm: Drop PXD_TABLE_BIT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-28]</span> <span class="email-subject">Re: [PATCH V2 0/8] arm64/mm: Drop PXD_TABLE_BIT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ryan Roberts <span class="email-sender">&lt;ryan.roberts@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH V2 0/8] arm64/mm: Drop PXD_TABLE_BIT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH V2 0/8] arm64/mm: Drop PXD_TABLE_BIT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ryan Roberts <span class="email-sender">&lt;ryan.roberts@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 00/11] Tracefs support for pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-24</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 pKVM 的 Tracefs 支持的补丁系列，主要由 Vincent Donnefort 提出。补丁的核心目的是为保护模式下的虚拟化提供调试和分析工具，Tracefs 被认为是一个理想的选择，因为它易于使用且支持多种工具。<br><br>在历史讨论中，Vincent 提出了一个补丁（PATCH 02/11），该补丁旨在将环形缓冲区的相关数据结构和时间戳编码函数移至公共的 `ring_buffer.h` 头文件中，以便于在 `ring_buffer.c` 之外进行写入。这一改动为后续的功能扩展奠定了基础。<br><br>本周的新讨论中，Steven Rostedt 对补丁提出了建议，指出在将内容移动到 `include/linux` 目录时，需要添加前缀以防止命名空间冲突，具体提到的前缀包括 `RB_TS_SHIFT`、`RB_TS_MASK` 和 `RB_TS_DELTA_TEST`。这一反馈表明，补丁在命名管理方面需要进一步的调整，以确保代码的可维护性和稳定性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-24]</span> <span class="email-subject">[PATCH 00/11] Tracefs support for pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-24]</span> <span class="email-subject">[PATCH 02/11] ring-buffer: Expose buffer_data_page material</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [PATCH 02/11] ring-buffer: Expose buffer_data_page material</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Count pKVM stage-2 usage in secondary pagetable stats</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-28</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，旨在统计 pKVM（Paravirtualized Kernel-based Virtual Machine）在次级页表统计中的使用情况。该补丁由 Vincent Donnefort 提出，主要目的是将 pKVM 在内存统计中的使用情况与 VHE（Virtualization Host Extensions）模式相一致，以便更好地管理和监控内存资源。<br><br>在历史讨论中，Vincent 提出了补丁的具体内容，并进行了代码修改，目的是增强对 pKVM 使用情况的统计。该补丁的核心在于准确计数 pKVM 使用的页数，以便在次级页表统计中反映出更全面的内存使用情况。<br><br>在本周的新讨论中，Oliver Upton 提出了一个问题，询问在清理过程中是否会清理除了次级页表之外的其他结构（如 vcpu 结构）。Vincent 随后确认确实如此，并表示他在 Android 分支中留下了一些未处理的更改，计划重新提交一个更完善的版本。整体来看，本周的讨论集中在补丁的细节和后续改进上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-28]</span> <span class="email-subject">[PATCH] KVM: arm64: Count pKVM stage-2 usage in secondary pagetable stats</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Count pKVM stage-2 usage in secondary
 pagetable stats</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Count pKVM stage-2 usage in secondary
 pagetable stats</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/6] Move pKVM ownership state to hyp_vmemmap</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-27</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是将 pKVM 所有权状态迁移到 hyp_vmemmap 的补丁系列（PATCH 0/6）。该补丁的主要目的是提高超管的状态查找效率，避免在查找过程中进行页表遍历，同时将超管状态与线性映射的存在解耦，这将简化现有代码并为未来功能（如 hyp 跟踪）引入铺平道路。<br><br>在历史讨论中，Quentin Perret 提到，将超管的所有权状态追踪到 struct hyp_page 中可以实现更高效的查找，并且可以减少对映射存在的依赖，这对于安全性和未来的页面状态跟踪至关重要。<br><br>在本周的新讨论中，Vincent Donnefort 提出了一个问题，询问在引入“不要在 EL2 映射 'kvm_vgic_global_state' 的补丁”后，SHARED_OWNED 和 SHARED_BORROWED 状态是否仍然相关。他指出，在设置过程中，似乎 hyp 中没有任何 !OWNED 页面，这表明可能需要重新审视这些状态的必要性。<br><br>总体来看，补丁的目标是优化超管状态管理，而本周的讨论则集中在对补丁影响的进一步理解和相关状态的有效性上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH 0/6] Move pKVM ownership state to hyp_vmemmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH 4/6] KVM: arm64: Move hyp state to hyp_vmemmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH 4/6] KVM: arm64: Move hyp state to hyp_vmemmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Writable TGRAN*_2</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-06</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，旨在允许用户空间写入 ID_AA64MMFR0_EL1 寄存器中的 TGRAN*_2 字段。补丁的核心内容是对这些字段的写入进行控制，确保在非虚拟化（NV）环境下，KVM 提供的视图是经过清理的，基于 PAGE_SIZE 的。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测出该补丁是对 KVM 中寄存器访问控制的一次重要改进，旨在增强系统的安全性和稳定性。<br><br>本周的新讨论中，Sebastian Ott 提交了补丁，并详细描述了补丁的实现细节，包括对相关代码的修改和自测的增强。Marc Zyngier 对该补丁表示认可，给予了“已确认（Acked-by）”的反馈，表明他支持这个补丁的合并。<br><br>总体来看，本次讨论集中在增强 KVM 对 arm64 架构的支持上，通过补丁实现了更安全的寄存器访问控制，并得到了社区成员的积极响应。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">[PATCH] KVM: arm64: Writable TGRAN*_2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-09]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Writable TGRAN*_2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v8 0/6] KVM: arm64: Errata management for VM Live migration</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-21</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的错误管理，以支持虚拟机的实时迁移。历史讨论中，Shameer Kolothum 提出了一个补丁系列（PATCH v8 0/6），主要修复了由于 CONFIG_CORESIGHT_SOURCE_ETM4X 配置引起的编译错误，并添加了 R-by 标签。补丁的内容包括对 MIDR（主ID寄存器）相关函数的修改、引入超调用支持以检索目标实现、以及为实现 CPU 启用基于错误的支持等。<br><br>在本周的新讨论中，Oliver Upton 确认了补丁已被应用到下一个版本，并提供了补丁的具体链接。补丁系列的内容涵盖了对 MIDR/REVIDR 的内部读取、超调用支持、以及 KVM 自测的新增测试等。这表明该补丁系列在功能上得到了认可，并将继续推进。整体来看，本周的讨论主要集中在补丁的应用和后续测试的准备上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-21]</span> <span class="email-subject">[PATCH v8 0/6] KVM: arm64: Errata management for VM Live migration</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Shameer Kolothum <span class="email-sender">&lt;shameerali.kolothum.thodi@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v8 0/6] KVM: arm64: Errata management for VM Live migration</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 00/16] KVM: arm64: Add NV GICv3 support</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-25</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是为 KVM（Kernel-based Virtual Machine）在 arm64 架构上添加 NV GICv3 支持的补丁（PATCH v4 00/16）。该补丁旨在改进对 GICv3 的支持，以增强虚拟化性能。<br><br>在历史讨论中，Marc Zyngier 提出了该补丁的最新版本，指出补丁经过多次重整，现已在 6.14-rc3 基础上进行更新，并修复了一些问题，如 IRQ 处理的优先级和默认值的设置。补丁的各个部分（共16个）涵盖了 GICv3 的多个方面，包括寄存器布局、定时器加载、嵌套 GICv3 模拟等。<br><br>在本周的新讨论中，Oliver Upton 对补丁进行了简要的审查，确认整体质量良好，并表示已将其应用到下一步工作中。这表明补丁已获得认可，并将继续推进，期待在未来的版本中实现更全面的功能。<br><br>总结而言，该补丁的提出和讨论标志着 KVM 在 arm64 架构上对 GICv3 支持的进一步完善，且已进入实际应用阶段。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-25]</span> <span class="email-subject">[PATCH v4 00/16] KVM: arm64: Add NV GICv3 support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v4 00/16] KVM: arm64: Add NV GICv3 support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-02</span>
                </div>

                <div class="ai-summary">
                    在本次邮件讨论中，主题为“[PATCH] KVM: arm64: PMU: 修复 vPMC 寄存器的 SET_ONE_REG”，由 Akihiko Odaki 提出。该补丁旨在重置当前性能事件，以便在设置虚拟性能监控单元（vPMU）计数器寄存器（如 PMCCNTR_EL0 和 PMEVCNTR<n>_EL0）时，确保寄存器的当前值与实际事件相符。此补丁是对之前提交的相关修复的补充，旨在解决在保存的 sysreg 文件中，vPMC 寄存器的值可能不代表当前值的问题。<br><br>在历史讨论中，Akihiko 提出了补丁的背景和目的，但并未深入探讨其他参与者的反馈。<br><br>在本周的新讨论中，Oliver Upton 对补丁提出了疑虑，指出在虚拟机启动后更改性能计数器（PMC）可能会导致虚拟机的保存/恢复出现异常。他强调 PMU 配置在 KVM_RUN 之前可能会发生变化，可能导致错误的性能事件分配。此外，他建议在 vCPU 首次运行后再调用 kvm_pmu_set_counter_value()，以确保性能事件与 vPMU 的最终配置匹配，从而解决当前补丁可能引发的问题。<br><br>总结而言，本周的讨论集中在补丁的潜在问题及其对虚拟机性能监控的影响上，Oliver 提出了改进建议，以确保系统的稳定性和准确性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-02]</span> <span class="email-subject">[PATCH] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>RFC</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[RFC kvm-unit-tests PATCH] lib: Use __ASSEMBLER__ instead of __ASSEMBLY__</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-21</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM 单元测试库的补丁提案，主题为将代码中的 `__ASSEMBLY__` 替换为 `__ASSEMBLER__`。该补丁的主要目的是简化代码，避免手动定义 `__ASSEMBLY__`，因为这个宏需要通过构建规则或显式定义在汇编代码中进行手动设置。而 `__ASSEMBLER__` 是由编译器在预处理汇编时自动定义的，使用起来更加方便。<br><br>在历史讨论中，Sean Christopherson 提出了这个补丁，并指出 `__ASSEMBLY__` 是从 Linux 内核中继承而来，使用上存在一些不便之处。邮件中提到，x86 架构不在此次补丁的考虑范围内。<br><br>在本周的新讨论中，Thomas Huth 对补丁表示感谢，并询问了内核为何使用 `__ASSEMBLY__` 而非 `__ASSEMBLER__` 的原因。Sean Christopherson 回复称，这一选择纯属历史原因，并没有其他实质性的理由。整体来看，本周的讨论主要集中在补丁的应用和对历史选择的反思上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-21]</span> <span class="email-subject">[RFC kvm-unit-tests PATCH] lib: Use __ASSEMBLER__ instead of __ASSEMBLY__</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [RFC kvm-unit-tests PATCH] lib: Use __ASSEMBLER__ instead of
 __ASSEMBLY__</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Thomas Huth <span class="email-sender">&lt;thuth@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [RFC kvm-unit-tests PATCH] lib: Use __ASSEMBLER__ instead of __ASSEMBLY__</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>GIT PULL</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[GIT PULL] KVM/arm64 fixes for 6.14, take #4</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-07</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM/arm64 的修复补丁，主要集中在 6.14 版本的最后一组修复上。<br><br>1. **原始补丁内容**：本次补丁包含两个修复，旨在解决 pKVM 的 PSCI 中继在 hVHE 模式下未能正确设置 CPU 的问题。这导致主机进入时 MMU 状态未知，EL2 模式错误。<br><br>2. **之前讨论要点**：在此之前的讨论中，Marc Zyngier 提到这些修复是针对同一漏洞的不同方面，感谢 Ahmed 和 Mark 的贡献。补丁确保在编程 VTTBR_EL2 之前分配 VMID，并初始化 SCTLR_EL1。<br><br>3. **本周的新讨论与进展**：本周的邮件中，Marc Zyngier 提交了补丁请求，并表示希望这是 6.14 的最后一组修复。Paolo Bonzini 对此进行了确认，表示已处理完毕。整体来看，本周讨论主要集中在补丁的提交和确认上，未涉及新的技术问题或争议。<br><br>总结而言，本次讨论有效推动了 KVM/arm64 的修复进程，确保了系统在特定模式下的稳定性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[GIT PULL] KVM/arm64 fixes for 6.14, take #4</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-09]</span> <span class="email-subject">Re: [GIT PULL] KVM/arm64 fixes for 6.14, take #4</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Paolo Bonzini <span class="email-sender">&lt;pbonzini@redhat.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Other</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH v1 0/7] arm64: support EL2</h3>
                </div>

                <div class="thread-meta">
                    <span>13 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-20</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 ARM64 架构的 KVM 单元测试的补丁系列，主要目的是为 EL2（异常级别 2）提供支持。历史讨论中，Joey Gouly 提出了七个补丁，涵盖了从 EL2 降级到 EL1 的处理、使用 EL2 时的定时器配置，以及在 EL2 计数周期的 PMU（性能监控单元）测试。补丁经过了初步测试，但一些功能（如 EFI/ACPI 和 PMU 测试）尚未完全验证。<br><br>在之前的讨论中，参与者 Alexandru Elisei 对补丁提出了一些建议和疑问，主要集中在 EL2 寄存器的初始化和定时器的实现细节上。他对补丁的部分实现表示认可，并提出了改进意见。<br><br>本周的新讨论中，Joey 和 Alexandru 继续交流，Joey 表示将对补丁进行进一步的测试和修改，特别是关于 PMU 的 NSH 位设置问题。Alexandru 建议在缺乏 KVM ABI 的情况下，补丁应避免依赖特定实现的寄存器初始值。此外，Joey 也承认在定时器补丁中存在一些错误，并表示会进行修正。整体来看，讨论推动了补丁的完善，确保了对 EL2 的支持更加稳健。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-20]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 0/7] arm64: support EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-20]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 1/7] arm64: drop to EL1 if booted at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-20]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 2/7] arm64: timer: use hypervisor timers when at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-20]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 6/7] arm64: pmu: count EL2 cycles</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 1/7] arm64: drop to EL1 if booted at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 2/7] arm64: timer: use hypervisor
 timers when at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 6/7] arm64: pmu: count EL2 cycles</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 6/7] arm64: pmu: count EL2 cycles</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 1/7] arm64: drop to EL1 if booted at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 2/7] arm64: timer: use hypervisor
 timers when at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 1/7] arm64: drop to EL1 if booted at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 2/7] arm64: timer: use hypervisor
 timers when at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-06]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 6/7] arm64: pmu: count EL2 cycles</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH 0/2] riscv: Run with other QEMU models</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-02-21</span>
                </div>

                <div class="ai-summary">
                    在本次邮件讨论中，主题为“[kvm-unit-tests PATCH 0/2] riscv: Run with other QEMU models”，主要涉及对 RISC-V 架构在 QEMU 模型中运行的补丁。<br><br>**原始 patch/问题的内容**：<br>Andrew Jones 提出了两个补丁，目的是允许使用除“virt”之外的其他 QEMU 机器模型，并能够在命令行中覆盖“virt”。此外，补丁还允许为早期输出指定不同的 UART 地址。<br><br>**之前讨论要点**：<br>在历史讨论中，Andrew Jones 详细介绍了补丁的内容，包括对配置文件的修改，以便所有架构都能使用 earlycon 功能，并立即应用于 RISC-V。这一修改旨在提升 RISC-V 的兼容性和灵活性。<br><br>**本周的新讨论、进展或结论**：<br>在本周的讨论中，Andrew Jones 对补丁进行了更新，明确指出目前只有 arm/arm64 和 riscv32/riscv64 架构在关注该参数。最终，他宣布补丁已被合并，标志着这一功能的实现和推广。<br><br>总体来看，本次讨论围绕 RISC-V 在 QEMU 中的适配性展开，补丁的合并将有助于增强该架构的测试和开发能力。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-21]</span> <span class="email-subject">[kvm-unit-tests PATCH 0/2] riscv: Run with other QEMU models</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-21]</span> <span class="email-subject">[kvm-unit-tests PATCH 1/2] configure: Allow earlycon for all architectures</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH 1/2] configure: Allow earlycon for all
 architectures</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-04]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH 0/2] riscv: Run with other QEMU models</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH] Makefile: Use CFLAGS in cc-option</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-07</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是针对 kvm-unit-tests 的 Makefile 进行的补丁修改，主要内容是使 `cc-option` 支持在交叉编译时使用 `CFLAGS`。<br><br>在历史讨论中没有相关的背景信息，但本周的讨论中，Andrew Jones 提出了一个补丁，目的是在 `cc-option` 的调用中加入 `CFLAGS`，以便在使用 clang 进行交叉编译时，能够正确识别目标特定的选项。补丁的具体修改是对 Makefile 中 `cc-option` 的实现进行了调整。<br><br>在本周的新讨论中，Thomas Huth 对该补丁进行了审查并表示认可。然而，Andrew Jones 随后发现该补丁存在问题，导致 x86 构建失败，出现了递归变量引用的错误。他表示会对此进行修复，并计划提交一个新的版本（v2）以解决该问题。<br><br>总结来看，本周的讨论集中在补丁的提出、审查及其后发现的问题上，显示出开发过程中对代码质量的重视和对问题的快速响应。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[kvm-unit-tests PATCH] Makefile: Use CFLAGS in cc-option</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH] Makefile: Use CFLAGS in cc-option</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Thomas Huth <span class="email-sender">&lt;thuth@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH] Makefile: Use CFLAGS in cc-option</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>writable ID_AA64MMFR0_EL1.TGRAN*_2 ?</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-28</span>
                </div>

                <div class="ai-summary">
                    在本邮件线程中，讨论的主题是关于可写的 ID_AA64MMFR0_EL1.TGRAN*_2 寄存器。历史讨论中，Sebastian Ott 提出了在两个 Graviton 主机之间迁移时，TGRAN*_2 寄存器的可写性问题。他指出，两个主机支持相同的 S2 大小，但表达方式不同（2 表示支持，0 表示“查看 TGRAN*”）。他建议可以将这些寄存器的客视图设置为 NI（非嵌套）或允许在两者之间转换，并可能允许写入 NI。<br><br>在本周的新讨论中，Marc Zyngier 对此进行了回应，表示可以在非 NV（非虚拟化）上下文中允许对 TGRAN*_2 寄存器写入任何值。然而，对于 NV 上下文，必须严格限制，确保 NI 是特性写入的最低限制，不能允许写入 0。此讨论表明，参与者在寄存器的可写性和虚拟化上下文的处理上达成了一定的共识。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-28]</span> <span class="email-subject">writable ID_AA64MMFR0_EL1.TGRAN*_2 ?</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: writable ID_AA64MMFR0_EL1.TGRAN*_2 ?</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH v2] Makefile: Use CFLAGS in cc-option</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-03-07</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM 单元测试的 Makefile 修改，主要由 Andrew Jones 提出。原始的 patch 旨在改进 Makefile 中的 cc-option 函数，以便在使用 Clang 进行交叉编译时能够正确识别目标特定选项。具体来说，patch 增加了 CFLAGS 到 CC 调用中，以解决在编译 x86 时可能出现的构建失败问题。<br><br>在之前的讨论中，虽然没有明确的历史邮件记录，但可以推测出该问题与编译环境的兼容性和构建过程中的变量引用有关。Andrew Jones 提到引入 realmode_bits 变量是为了避免 CFLAGS 自我引用导致的构建失败。<br><br>在本周的新讨论中，Andrew Jones 提交了 patch 的 v2 版本，修复了与 x86 构建相关的问题，确保在使用 realmode_bits 变量时能够正确处理编译选项。此次修改涉及两个文件的更新，主要是对 Makefile 和 x86/Makefile.common 的调整，以提高编译的稳定性和兼容性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v2] Makefile: Use CFLAGS in cc-option</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
