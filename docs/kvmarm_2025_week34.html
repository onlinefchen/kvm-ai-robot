<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVMARM 邮件列表 AI 总结报告</title>
    <style>
        body {
            font-family: 'Courier New', 'Courier', monospace;
            line-height: 1.5;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 40px;
            background-color: #ffffff;
            color: #222;
        }
        .container {
            background: #ffffff;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
            color: #000;
            margin-bottom: 0.3em;
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 15px;
        }
        h2 {
            font-size: 1.6em;
            font-weight: bold;
            color: #000;
            margin-top: 2em;
            margin-bottom: 0.6em;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 1.2em;
            font-weight: bold;
            color: #111;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h4 {
            font-size: 1.05em;
            font-weight: bold;
            color: #333;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
        }
        .meta-info {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px 20px;
            margin: 20px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        .meta-info p {
            margin: 6px 0;
            color: #444;
        }
        .meta-info strong {
            color: #000;
            font-weight: bold;
        }
        .stats {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid #000;
        }
        .stat-card {
            display: table-cell;
            border: 1px solid #000;
            padding: 12px 15px;
            text-align: center;
            background: #fafafa;
        }
        .stat-card h3 {
            margin: 0;
            color: #000;
            font-size: 1.8em;
            font-weight: bold;
            border: none;
            padding: 0;
        }
        .stat-card p {
            margin: 5px 0 0 0;
            color: #444;
            font-size: 0.9em;
            font-weight: normal;
        }
        .category {
            margin: 30px 0;
        }
        .thread {
            margin: 25px 0;
            padding: 15px;
            background: #fafafa;
            border: 1px solid #ccc;
            page-break-inside: avoid;
        }
        .thread-header {
            margin-bottom: 12px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .thread-header h3 {
            font-size: 1.15em;
            font-weight: bold;
            color: #000;
            margin: 0;
        }
        .thread-meta {
            display: block;
            margin: 8px 0 12px 0;
            font-size: 0.9em;
            color: #555;
            font-style: italic;
        }
        .thread-meta span {
            margin-right: 15px;
        }
        .ai-summary {
            background: #fff;
            border-left: 3px solid #666;
            padding: 12px 15px;
            margin: 15px 0;
            line-height: 1.6;
            color: #222;
            font-style: italic;
        }
        .email-list {
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px 15px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.88em;
            line-height: 1.5;
            overflow-x: auto;
            margin: 10px 0;
        }
        .email-item {
            margin: 4px 0;
            padding: 2px 0;
            color: #222;
        }
        .email-item.historical {
            background: #f5f5f5;
            border-left: 3px solid #999;
            padding-left: 8px;
            opacity: 0.8;
        }
        .email-item.new {
            background: #fffef0;
            border-left: 3px solid #0066cc;
            padding-left: 8px;
        }
        .email-date {
            color: #0066cc;
            font-weight: bold;
        }
        .email-date.historical {
            color: #666;
        }
        .email-sender {
            color: #c30;
            font-weight: normal;
        }
        .email-subject {
            color: #000;
        }
        .historical-marker {
            color: #999;
            font-size: 0.85em;
            font-style: italic;
        }
        .new-marker {
            color: #0066cc;
            font-size: 0.85em;
            font-weight: bold;
        }
        .archive-link {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            background: #333;
            color: #fff;
            text-decoration: none;
            border: 2px solid #000;
            font-weight: bold;
            transition: all 0.2s;
        }
        .archive-link:hover {
            background: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KVMARM Mailing List Analysis Report</h1>

        <div class="meta-info">
            <p><strong>Generated:</strong> 2025-10-27 12:08</p>
            <p><strong>Time Period:</strong> 2025年8月 第34周 (08/18 - 08/24)</p>
            <p><strong>Total Messages:</strong> 292 | <strong>Total Threads:</strong> 24</p>
            <p style="text-align: center;"><a href="archive.html" class="archive-link">📚 历史归档 Archive</a></p>
        </div>


        <div class="category">
            <h2>PATCH</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v10 00/43] arm64: Support for Arm CCA in KVM</h3>
                </div>

                <div class="thread-meta">
                    <span>44 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-08-20</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 ARM CCA（保密计算架构）在 KVM 中的支持，主要集中在一系列补丁的提交与更新。以下是讨论的要点总结：<br><br>1. **原始补丁内容**：补丁系列（[PATCH v10 00/43]）旨在为 KVM 添加对 ARM CCA 的支持，以便能够运行受保护的虚拟机。补丁中涉及的功能包括对虚拟机的内存管理、状态跟踪及与 RMM（Realm Management Monitor）的交互。<br><br>2. **历史讨论要点**：之前的讨论主要集中在如何处理虚拟机的内存分配、保护状态及如何在 KVM 中实现 RMM 的功能。补丁的设计考虑了 RMM 的限制，例如不允许直接注入未定义异常，且对 MMIO（内存映射I/O）操作的处理也有所不同。<br><br>3. **本周新讨论与进展**：本周的讨论中，Steven Price 提交了多个补丁，涵盖了以下内容：<br>   - 增加了对 Realm 的支持，包括如何创建、配置和激活 Realm。<br>   - 讨论了如何处理 RMM 中的计时器、PMU（性能监控单元）及 SVE（可扩展向量扩展）相关的功能。<br>   - 提出了对 Realm 中的内存访问、RIPAS 状态变化的处理机制。<br>   - 讨论了如何在用户空间与 KVM 之间进行有效的交互，确保 Realm 的安全性与性能。<br><br>总体而言，本周的讨论和补丁更新为 KVM 在 ARM CCA 下的实现提供了更为全面的支持，确保了虚拟机的安全性与性能。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 00/43] arm64: Support for Arm CCA in KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 01/43] kvm: arm64: Include kvm_emulate.h in kvm/arm_psci.h</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 02/43] arm64: RME: Handle Granule Protection Faults (GPFs)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 03/43] arm64: RME: Add SMC definitions for calling the RMM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 04/43] arm64: RME: Add wrappers for RMI calls</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 05/43] arm64: RME: Check for RME support at KVM init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 06/43] arm64: RME: Define the user ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 07/43] arm64: RME: ioctls to create and configure realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 08/43] kvm: arm64: Don't expose debug capabilities for realm guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 09/43] KVM: arm64: Allow passing machine type in KVM creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 10/43] arm64: RME: RTT tear down</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 11/43] arm64: RME: Allocate/free RECs to match vCPUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 12/43] KVM: arm64: vgic: Provide helper for number of list registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 13/43] arm64: RME: Support for the VGIC in realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 14/43] KVM: arm64: Support timers in realm RECs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 15/43] arm64: RME: Allow VMM to set RIPAS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 16/43] arm64: RME: Handle realm enter/exit</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 17/43] arm64: RME: Handle RMI_EXIT_RIPAS_CHANGE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 18/43] KVM: arm64: Handle realm MMIO emulation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 19/43] arm64: RME: Allow populating initial contents</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 20/43] arm64: RME: Runtime faulting of memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 21/43] KVM: arm64: Handle realm VCPU load</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 22/43] KVM: arm64: Validate register access for a Realm VM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 23/43] KVM: arm64: Handle Realm PSCI requests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 24/43] KVM: arm64: WARN on injected undef exceptions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 25/43] arm64: Don't expose stolen time for realm guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 26/43] arm64: RME: allow userspace to inject aborts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 27/43] arm64: RME: support RSI_HOST_CALL</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 28/43] arm64: RME: Allow checking SVE on VM instance</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 29/43] arm64: RME: Always use 4k pages for realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 30/43] arm64: RME: Prevent Device mappings for Realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 31/43] arm_pmu: Provide a mechanism for disabling the physical IRQ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 32/43] arm64: RME: Enable PMU support with a realm guest</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 33/43] arm64: RME: Hide KVM_CAP_READONLY_MEM for realm guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 34/43] arm64: RME: Propagate number of breakpoints and watchpoints to userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 35/43] arm64: RME: Set breakpoint parameters through SET_ONE_REG</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 36/43] arm64: RME: Initialize PMCR.N with number counter supported by RMM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 37/43] arm64: RME: Propagate max SVE vector length from RMM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 38/43] arm64: RME: Configure max SVE vector length for a Realm</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 39/43] arm64: RME: Provide register list for unfinalized RME RECs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 40/43] arm64: RME: Provide accurate register list</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 41/43] KVM: arm64: Expose support for private memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 42/43] KVM: arm64: Expose KVM_ARM_VCPU_REC to user space</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v10 43/43] KVM: arm64: Allow activating realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7 00/29] KVM: arm64: Implement support for SME</h3>
                </div>

                <div class="thread-meta">
                    <span>31 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-22</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 ARM64 架构上实现对 SME（Scalable Matrix Extension）的支持，主要围绕一系列补丁（patch）进行。<br><br>1. **原始 patch/问题的内容**：<br>   本次补丁系列（PATCH v7 00/29）旨在为 KVM 实现对 SME 的支持，特别是在非保护的 KVM 客户机中。SME 引入了新的向量长度和控制寄存器，允许在用户空间和虚拟机中配置和访问这些寄存器。<br><br>2. **之前讨论要点**：<br>   之前的讨论集中在如何处理 SME 和 SVE（Scalable Vector Extension）之间的交互，特别是它们的向量长度配置和寄存器访问。补丁中提到，SME 的实现与 SVE 类似，但在某些方面（如向量长度的可用性和寄存器访问）存在差异。<br><br>3. **本周的新讨论、进展或结论**：<br>   本周的讨论主要集中在补丁的细节上，包括对 SME 控制寄存器的支持、上下文切换的实现、以及如何在 KVM 中处理 SME 异常。补丁还增加了对 SME 特定状态的用户空间访问支持，并确保在 KVM 嵌套客户机中也能正确处理 SME。邮件中提到的补丁还包括对 SME 相关寄存器的测试用例，以确保新功能的正确性和稳定性。<br><br>总体而言，本次补丁系列为 KVM 在 ARM64 上的 SME 支持奠定了基础，解决了许多与寄存器访问和状态管理相关的复杂性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 00/29] KVM: arm64: Implement support for SME</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 01/29] arm64/sysreg: Update SMIDR_EL1 to DDI0601 2025-06</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 02/29] arm64/fpsimd: Update FA64 and ZT0 enables when
 loading SME state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 03/29] arm64/fpsimd: Decide to save ZT0 and streaming
 mode FFR at bind time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 04/29] arm64/fpsimd: Check enable bit for FA64 when
 saving EFI state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 05/29] arm64/fpsimd: Determine maximum virtualisable SME
 vector length</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 06/29] KVM: arm64: Introduce non-UNDEF FGT control</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 07/29] KVM: arm64: Pay attention to FFR parameter in SVE
 save and load</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 08/29] KVM: arm64: Pull ctxt_has_ helpers to start of
 sysreg-sr.h</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 09/29] KVM: arm64: Move SVE state access macros after
 feature test macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 10/29] KVM: arm64: Rename SVE finalization constants to
 be more general</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 11/29] KVM: arm64: Document the KVM ABI for SME</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 12/29] KVM: arm64: Define internal features for SME</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 13/29] KVM: arm64: Rename sve_state_reg_region</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 14/29] KVM: arm64: Store vector lengths in an array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 15/29] KVM: arm64: Implement SME vector length
 configuration</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 16/29] KVM: arm64: Support SME control registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 17/29] KVM: arm64: Support TPIDR2_EL0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 18/29] KVM: arm64: Support SME identification registers
 for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 19/29] KVM: arm64: Support SME priority registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 20/29] KVM: arm64: Provide assembly for SME register
 access</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 21/29] KVM: arm64: Support userspace access to streaming
 mode Z and P registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 22/29] KVM: arm64: Flush register state on writes to
 SVCR.SM and SVCR.ZA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 23/29] KVM: arm64: Expose SME specific state to
 userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 24/29] KVM: arm64: Context switch SME state for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 25/29] KVM: arm64: Handle SME exceptions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 26/29] KVM: arm64: Expose SME to nested guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 27/29] KVM: arm64: Provide interface for configuring and
 enabling SME for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 28/29] KVM: arm64: selftests: Add SME system registers
 to get-reg-list</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH v7 29/29] KVM: arm64: selftests: Add SME to set_id_regs
 test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [PATCH v7 11/29] KVM: arm64: Document the KVM ABI for SME</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Randy Dunlap <span class="email-sender">&lt;rdunlap@infradead.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 00/28] KVM: arm64: SMMUv3 driver for pKVM (trap and emulate)</h3>
                </div>

                <div class="thread-meta">
                    <span>29 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-08-19</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM 的 ARM SMMUv3 驱动的多个补丁，主要集中在嵌套虚拟化和 IOMMU 的实现上。<br><br>1. **原始补丁内容**：补丁系列的目标是为 KVM 提供 ARM SMMUv3 支持，具体实现了通过捕获和模拟的方式来处理嵌套 SMMUv3。补丁包括对命令队列（CMDQ）和流表（STE）的模拟，以及对 IOMMU 的支持。<br><br>2. **之前讨论要点**：早期版本的补丁（v1-v3）主要集中在实现 PV 接口和 DMA 隔离。开发者 Mostafa Saleh 提到，基于对 v3 的反馈，决定采用更简化的设计，直接在现有驱动中集成 KVM 实现，而不是维护一个独立的驱动。<br><br>3. **本周新讨论与进展**：本周的讨论中，补丁 v4 版本被提交，包含了多个关键功能的实现：<br>   - **CMDQ 和 STE 的模拟**：实现了对命令队列和流表的模拟，确保在虚拟机和宿主机之间的安全性。<br>   - **内存池的支持**：为 IOMMU 驱动提供了内存分配功能，以支持影子页表的创建。<br>   - **DABT 处理**：添加了对 DABT 的处理，以便在发生页面错误时进行适当的模拟。<br>   - **流表和命令队列的共享**：实现了在 SMMU 启用和禁用时对流表和命令队列的共享与取消共享。<br><br>整体来看，本周的进展为实现完整的 SMMUv3 驱动奠定了基础，确保了在 KVM 环境下的安全性和性能。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 00/28] KVM: arm64: SMMUv3 driver for pKVM (trap and emulate)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 01/28] KVM: arm64: Add a new function to donate memory with prot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 02/28] KVM: arm64: Donate MMIO to the hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 03/28] KVM: arm64: pkvm: Add pkvm_time_get()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 04/28] iommu/io-pgtable-arm: Move selftests to a separate file</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 05/28] iommu/io-pgtable-arm: Factor kernel specific code out</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 06/28] iommu/arm-smmu-v3: Split code with hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 07/28] iommu/arm-smmu-v3: Move TLB range invalidation into
 a macro</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 08/28] iommu/arm-smmu-v3: Move IDR parsing to common functions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 09/28] KVM: arm64: iommu: Introduce IOMMU driver infrastructure</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 10/28] KVM: arm64: iommu: Shadow host stage-2 page table</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 11/28] KVM: arm64: iommu: Add memory pool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 12/28] KVM: arm64: iommu: Support DABT for IOMMU</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 13/28] iommu/arm-smmu-v3-kvm: Add SMMUv3 driver</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 14/28] iommu/arm-smmu-v3: Add KVM mode in the driver</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 15/28] iommu/arm-smmu-v3: Load the driver later in KVM mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 16/28] iommu/arm-smmu-v3-kvm: Create array for hyp SMMUv3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 17/28] iommu/arm-smmu-v3-kvm: Take over SMMUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 18/28] iommu/arm-smmu-v3-kvm: Probe SMMU HW</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 19/28] iommu/arm-smmu-v3-kvm: Add MMIO emulation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 20/28] iommu/arm-smmu-v3-kvm: Shadow the command queue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 21/28] iommu/arm-smmu-v3-kvm: Add CMDQ functions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 22/28] iommu/arm-smmu-v3-kvm: Emulate CMDQ for host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 23/28] iommu/arm-smmu-v3-kvm: Shadow stream table</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 24/28] iommu/arm-smmu-v3-kvm: Shadow STEs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 25/28] iommu/arm-smmu-v3-kvm: Emulate GBPA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 26/28] iommu/arm-smmu-v3-kvm: Support io-pgtable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 27/28] iommu/arm-smmu-v3-kvm: Shadow the CPU stage-2 page table</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">[PATCH v4 28/28] iommu/arm-smmu-v3-kvm: Enable nesting</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v6 00/24] Tracefs support for pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>25 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-08-21</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了关于为 pKVM（保护模式下的 KVM）添加 Tracefs 支持的补丁系列（PATCH v6 00/24）。该补丁旨在增强 hypervisor 的调试和分析能力，具体内容如下：<br><br>1. **原始补丁内容**：补丁系列引入了 Tracefs 支持，允许 hypervisor 生成事件并将其写入 Tracefs 兼容的环形缓冲区。补丁包括创建远程事件和缓冲区的通用方法，并为 pKVM hypervisor 添加支持。<br><br>2. **历史讨论要点**：之前的讨论集中在如何实现远程环形缓冲区和事件的创建，强调了环形缓冲区的结构和 Tracefs 接口的设计。补丁还解决了环形缓冲区的读写同步问题，并引入了新的事件宏以简化事件的定义。<br><br>3. **本周新讨论与进展**：本周的讨论主要集中在补丁的具体实现上，包括：<br>   - 添加了对 pKVM hypervisor 的时钟支持和事件支持。<br>   - 引入了用于跟踪的简单环形缓冲区实现，确保其不依赖于复杂的内核功能。<br>   - 讨论了如何通过 Tracefs 接口进行事件的加载、卸载和重置。<br>   - 提供了自测试模块，确保新功能的可靠性。<br><br>本次补丁的最终目标是提升 pKVM 的可调试性和可分析性，使得开发者能够更好地理解和优化 hypervisor 的行为。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 00/24] Tracefs support for pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 01/24] ring-buffer: Add page statistics to the meta-page</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 02/24] ring-buffer: Introduce ring-buffer remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 03/24] tracing: Introduce trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 04/24] tracing: Add reset to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 05/24] tracing: Add init callback to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 06/24] tracing: Add events to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 07/24] tracing: Add events/ root files to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 08/24] tracing: Add helpers to create trace remote events</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 09/24] ring-buffer: Export buffer_data_page and macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 10/24] tracing: Introduce simple_ring_buffer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 11/24] tracing: Add a trace remote module for testing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 12/24] tracing: selftests: Add trace remote tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 13/24] tracing: load/unload page callbacks for simple_ring_buffer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 14/24] tracing: Check for undefined symbols in simple_ring_buffer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 15/24] KVM: arm64: Support unaligned fixmap in the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 16/24] KVM: arm64: Add clock support for the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 17/24] KVM: arm64: Add tracing capability for the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 18/24] KVM: arm64: Add trace remote for the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 19/24] KVM: arm64: Sync boot clock with the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 20/24] KVM: arm64: Add trace reset to the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 21/24] KVM: arm64: Add event support to the pKVM hyp and
 trace remote</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 22/24] KVM: arm64: Add hyp_enter/hyp_exit events to pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 23/24] KVM: arm64: Add selftest event support to pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v6 24/24] tracing: selftests: Add pKVM trace remote tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/6] KVM: arm64: FEAT_RASv1p1 support and RAS selection</h3>
                </div>

                <div class="thread-meta">
                    <span>18 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-08-17</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 arm64 架构上对 FEAT_RASv1p1 支持的补丁系列（共六个补丁）。历史讨论中，Marc Zyngier 提出了这一系列补丁，旨在填补 RAS（Reliability, Availability, and Serviceability）相关的漏洞，特别是对 FEAT_RASv1p1 的支持和选择。补丁的主要内容包括添加对 FEAT_RASv1p1 的能力标识、处理 RASv1p1 寄存器、忽略由 L1 客户机设置的 HCR_EL2.FIEN、使某些寄存器可写等。<br><br>在本周的新讨论中，多个参与者对补丁进行了审查并给予了认可，Cornelia Huck 和 Joey Gouly 等人确认了补丁的正确性。Ben Horgan 提出了对 RASv1p1 寄存器处理逻辑的疑问，并与 Marc Zyngier 进行了深入的讨论，最终确认了处理逻辑的正确性。此外，Marc Zyngier 表示已将这些补丁应用于修复分支，标志着这一系列补丁的成功集成。整体来看，本周的讨论主要集中在补丁的审查和细节确认上，进展顺利。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-17]</span> <span class="email-subject">[PATCH v3 0/6] KVM: arm64: FEAT_RASv1p1 support and RAS selection</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-17]</span> <span class="email-subject">[PATCH v3 1/6] arm64: Add capability denoting FEAT_RASv1p1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-17]</span> <span class="email-subject">[PATCH v3 2/6] KVM: arm64: Handle RASv1p1 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-17]</span> <span class="email-subject">[PATCH v3 3/6] KVM: arm64: Ignore HCR_EL2.FIEN set by L1 guest's EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-17]</span> <span class="email-subject">[PATCH v3 4/6] KVM: arm64: Make ID_AA64PFR0_EL1.RAS writable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-17]</span> <span class="email-subject">[PATCH v3 5/6] KVM: arm64: Make ID_AA64PFR1_EL1.RAS_frac writable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-17]</span> <span class="email-subject">[PATCH v3 6/6] KVM: arm64: Get rid of ARM64_FEATURE_MASK()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH v3 1/6] arm64: Add capability denoting FEAT_RASv1p1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH v3 2/6] KVM: arm64: Handle RASv1p1 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH v3 4/6] KVM: arm64: Make ID_AA64PFR0_EL1.RAS writable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH v3 5/6] KVM: arm64: Make ID_AA64PFR1_EL1.RAS_frac writable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH v3 3/6] KVM: arm64: Ignore HCR_EL2.FIEN set by L1 guest's
 EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [PATCH v3 6/6] KVM: arm64: Get rid of ARM64_FEATURE_MASK()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [PATCH v3 2/6] KVM: arm64: Handle RASv1p1 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [PATCH v3 2/6] KVM: arm64: Handle RASv1p1 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [PATCH v3 6/6] KVM: arm64: Get rid of ARM64_FEATURE_MASK()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [PATCH v3 2/6] KVM: arm64: Handle RASv1p1 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [PATCH v3 0/6] KVM: arm64: FEAT_RASv1p1 support and RAS selection</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/5] initialize SCTRL2_ELx</h3>
                </div>

                <div class="thread-meta">
                    <span>18 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-13</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论主题为“[PATCH v3 0/5] initialize SCTRL2_ELx”，主要涉及对 Linux 中 SCTLR2_ELx 寄存器的初步支持。该功能在 ARMv8.8/ARMv9.3 版本中为可选，从 ARMv8.9/ARMv9.4 开始变为强制性要求。历史讨论中，Yeoreum Yun 提出了五个补丁，分别涉及使 SCTLR2_EL1 可访问、在启动时初始化 SCTLR2_ELx 寄存器、在 CPU 休眠/恢复时保存和恢复 SCTLR2_EL1、在软重启时初始化 SCTLR2_EL1，以及为每个任务设置 SCTLR2_EL1。<br><br>在本周的新讨论中，Dave Martin 对补丁提出了一些具体的改进建议，包括代码风格、宏的使用、注释的清晰度等。他指出，补丁中存在一些重要的代码变更需要在提交时明确说明，并建议在代码中进行更好的错误处理。此外，他还强调了对 SCTLR2_EL1 和 SCTLR2_ELx 之间的混淆需要进行澄清。<br><br>总的来说，本周的讨论集中在对补丁的细节优化和代码可读性提升上，参与者们积极交流，推动补丁的完善。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-13]</span> <span class="email-subject">[PATCH v3 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-13]</span> <span class="email-subject">[PATCH v3 1/5] arm64: make SCTLR2_EL1 accessible</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-13]</span> <span class="email-subject">[PATCH v3 2/5] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-13]</span> <span class="email-subject">[PATCH v3 3/5] arm64: save/restore SCTLR2_EL1 when cpu_suspend()/resume()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-13]</span> <span class="email-subject">[PATCH v3 4/5] arm64: initialise SCTLR2_EL1 at cpu_soft_restart()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-13]</span> <span class="email-subject">[PATCH v3 5/5] arm64: make the per-task SCTLR2_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v3 1/5] arm64: make SCTLR2_EL1 accessible</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v3 2/5] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v3 3/5] arm64: save/restore SCTLR2_EL1 when
 cpu_suspend()/resume()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v3 4/5] arm64: initialise SCTLR2_EL1 at cpu_soft_restart()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v3 5/5] arm64: make the per-task SCTLR2_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v3 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v3 2/5] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v3 3/5] arm64: save/restore SCTLR2_EL1 when
 cpu_suspend()/resume()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v3 4/5] arm64: initialise SCTLR2_EL1 at cpu_soft_restart()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v3 5/5] arm64: make the per-task SCTLR2_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v3 1/5] arm64: make SCTLR2_EL1 accessible</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [PATCH v3 4/5] arm64: initialise SCTLR2_EL1 at cpu_soft_restart()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/4] arm64/sysreg: Clean up TCR_XXX field macros</h3>
                </div>

                <div class="thread-meta">
                    <span>18 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-08-18</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 ARM64 架构的 TCR（Translation Control Register）相关宏的清理和更新，主要集中在四个补丁上。<br><br>1. **原始补丁内容**：补丁旨在清理和更新 TCR_XXX 字段宏，具体包括更新 TCR_EL1 和 TCR_EL2 的寄存器定义，替换旧的宏定义，并添加新的 VTCR_EL2 寄存器字段。此过程不涉及功能性变化。<br><br>2. **之前的讨论要点**：在历史讨论中，参与者提到当前的宏定义分散在多个文件中，造成了代码的混乱和不一致。补丁的目标是通过集中管理这些宏来提高代码的可读性和维护性。<br><br>3. **本周的新讨论与进展**：本周的讨论主要集中在补丁的细节上。参与者 Mark Rutland 提出了一些关于宏定义顺序和使用 Enum 代替 UnsignedEnum 的建议。此外，Marc Zyngier 指出补丁中对 TCR_EL2 的描述需要更准确，并建议使用更可靠的工具来提取寄存器信息。Anshuman Khandual 表示将根据反馈进行相应的修改。<br><br>总体而言，本周的讨论强调了代码清理的重要性，并对补丁的实现细节提出了建设性的反馈，推动了 ARM64 架构下的代码质量提升。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH 0/4] arm64/sysreg: Clean up TCR_XXX field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH 1/4] arm64/sysreg: Update TCR_EL1 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH 2/4] arm64/sysreg: Replace TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH 3/4] arm64/sysreg: Add TCR_EL2 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH 4/4] arm64/sysreg: Add VTCR_EL2 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH 1/4] arm64/sysreg: Update TCR_EL1 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH 3/4] arm64/sysreg: Add TCR_EL2 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH 4/4] arm64/sysreg: Add VTCR_EL2 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH 3/4] arm64/sysreg: Add TCR_EL2 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH 2/4] arm64/sysreg: Replace TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH 1/4] arm64/sysreg: Update TCR_EL1 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH 3/4] arm64/sysreg: Add TCR_EL2 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH 4/4] arm64/sysreg: Add VTCR_EL2 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH 3/4] arm64/sysreg: Add TCR_EL2 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH 2/4] arm64/sysreg: Replace TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH 2/4] arm64/sysreg: Replace TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH 3/4] arm64/sysreg: Add TCR_EL2 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH 4/4] arm64/sysreg: Add VTCR_EL2 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v15 0/6] KVM: arm64: Provide guest support for GCS</h3>
                </div>

                <div class="thread-meta">
                    <span>17 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-20</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（内核虚拟机）在 arm64 架构上实现的 Guarded Control Stack（GCS）功能的支持。该功能旨在通过硬件保护返回地址栈，增强对返回导向编程（ROP）攻击的防护，并简化应用程序的调用栈收集。<br><br>**原始 patch/问题内容**：<br>Mark Brown 提出了一个包含六个补丁的系列（PATCH v15 0/6），以实现 KVM 对 GCS 的支持。GCS 通过维护一个受保护的栈，确保只有特定操作可以写入，从而提高安全性。<br><br>**之前讨论要点**：<br>在之前的版本中，讨论了 GCS 的实现细节，包括如何管理 GCS 的访问、异常处理以及与 KVM 的集成。补丁系列经过多次重构和优化，确保了 GCS 的指令和寄存器在虚拟机中的正确管理。<br><br>**本周的新讨论与进展**：<br>本周的讨论集中在补丁的具体实现上，包括：<br>1. 确保 GCS 指令的细粒度陷阱被禁用（邮件 1/17）。<br>2. 管理 GCS 寄存器的访问和上下文切换（邮件 2/17）。<br>3. 转发 GCS 异常到嵌套的虚拟机（邮件 3/17）。<br>4. 在进入异常时设置 PSTATE.EXLOCK（邮件 4/17）。<br>5. 允许为虚拟机启用 GCS（邮件 5/17）。<br>6. 将 GCS 寄存器添加到自测试中（邮件 6/17）。<br><br>参与者 Marc Zyngier 对补丁的实现提出了一些建议和问题，强调了对异常处理和寄存器访问的准确性要求。整体来看，讨论进展顺利，补丁逐步完善，朝着实现 GCS 的目标迈进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v15 0/6] KVM: arm64: Provide guest support for GCS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v15 1/6] arm64/gcs: Ensure FGTs for EL1 GCS instructions
 are disabled</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v15 2/6] KVM: arm64: Manage GCS access and registers for
 guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v15 3/6] KVM: arm64: Forward GCS exceptions to nested
 guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v15 4/6] KVM: arm64: Set PSTATE.EXLOCK when entering an
 exception</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v15 5/6] KVM: arm64: Allow GCS to be enabled for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v15 6/6] KVM: selftests: arm64: Add GCS registers to
 get-reg-list</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v15 2/6] KVM: arm64: Manage GCS access and registers for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v15 4/6] KVM: arm64: Set PSTATE.EXLOCK when entering an exception</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v15 2/6] KVM: arm64: Manage GCS access and registers for
 guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v15 3/6] KVM: arm64: Forward GCS exceptions to nested guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v15 5/6] KVM: arm64: Allow GCS to be enabled for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v15 1/6] arm64/gcs: Ensure FGTs for EL1 GCS instructions are disabled</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v15 1/6] arm64/gcs: Ensure FGTs for EL1 GCS instructions are disabled</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v15 0/6] KVM: arm64: Provide guest support for GCS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [PATCH v15 4/6] KVM: arm64: Set PSTATE.EXLOCK when entering an
 exception</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [PATCH v15 3/6] KVM: arm64: Forward GCS exceptions to nested
 guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v5 00/44] KVM: x86: Add support for mediated vPMUs</h3>
                </div>

                <div class="thread-meta">
                    <span>12 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-08-06</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于为 KVM（内核虚拟机）添加对中介 vPMUs（虚拟性能监控单元）的支持，具体内容为一系列补丁（PATCH v5 00/44）。补丁的主要目的是改进 KVM 在处理性能监控时的能力，特别是在虚拟化环境中。<br><br>在历史讨论中，Sean Christopherson 提出了补丁的背景，强调了与性能相关的改进，并讨论了如何在 KVM 中实现中介 vPMUs 的加载和上下文切换。讨论中提到了一些技术细节，例如如何在加载和卸载虚拟机上下文时切换 LVTPC（本地向量定时器的性能监控中断向量）。<br><br>本周的新讨论主要集中在补丁的实现细节和潜在问题上。Peter Zijlstra 和 Sean Christopherson 讨论了在处理 PMI（性能监控中断）时进行 VM-exit（虚拟机退出）的安全性，以及如何确保在执行期间不会导致性能监控状态的错误。讨论中还提到了一些具体的代码实现建议和对现有逻辑的优化。<br><br>此外，Hao Xudong 报告了在多种 Intel 平台上对补丁的测试结果，确认了中介 vPMU 和传统性能监控的兼容性，所有测试均未发现问题。最后，Anup Patel 对与 RISC-V 相关的补丁表示认可。<br><br>总体来看，本周的讨论进一步深化了对补丁实现的理解，并确认了其在实际测试中的有效性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-06]</span> <span class="email-subject">[PATCH v5 00/44] KVM: x86: Add support for mediated vPMUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-06]</span> <span class="email-subject">[PATCH v5 09/44] perf/x86: Switch LVTPC to/from mediated PMI vector
 on guest load/put context</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-06]</span> <span class="email-subject">[PATCH v5 16/44] KVM: Add a simplified wrapper for registering perf callbacks</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-15]</span> <span class="email-subject">Re: [PATCH v5 09/44] perf/x86: Switch LVTPC to/from mediated PMI
 vector on guest load/put context</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Peter Zijlstra <span class="email-sender">&lt;peterz@infradead.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-15]</span> <span class="email-subject">Re: [PATCH v5 09/44] perf/x86: Switch LVTPC to/from mediated PMI
 vector on guest load/put context</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-15]</span> <span class="email-subject">Re: [PATCH v5 09/44] perf/x86: Switch LVTPC to/from mediated PMI
 vector on guest load/put context</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH v5 09/44] perf/x86: Switch LVTPC to/from mediated PMI
 vector on guest load/put context</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Peter Zijlstra <span class="email-sender">&lt;peterz@infradead.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH v5 09/44] perf/x86: Switch LVTPC to/from mediated PMI
 vector on guest load/put context</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH v5 09/44] perf/x86: Switch LVTPC to/from mediated PMI
 vector on guest load/put context</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Peter Zijlstra <span class="email-sender">&lt;peterz@infradead.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH v5 09/44] perf/x86: Switch LVTPC to/from mediated PMI
 vector on guest load/put context</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Liang, Kan <span class="email-sender">&lt;kan.liang@linux.intel.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">Re: [PATCH v5 00/44] KVM: x86: Add support for mediated vPMUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Hao, Xudong <span class="email-sender">&lt;xudong.hao@intel.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">Re: [PATCH v5 16/44] KVM: Add a simplified wrapper for registering
 perf callbacks</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anup Patel <span class="email-sender">&lt;anup@brainfault.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v6 0/5] support FEAT_LSUI and apply it on futex atomic ops</h3>
                </div>

                <div class="thread-meta">
                    <span>11 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-11</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于支持 Armv9.6 的 FEAT_LSUI 特性的补丁集，该特性允许内核在不清除 PSTATE.PAN 位的情况下访问用户内存。补丁集的主要目的是在 futex 原子操作中应用 FEAT_LSUI，以简化操作并提高效率。<br><br>在历史讨论中，Yeoreum Yun 提出了补丁集的背景，解释了 FEAT_LSUI 如何替代传统的 ldxr/stlxr 指令对用户内存进行访问，并指出当前的 futex 原子操作需要清除 PSTATE.PAN 位，这在使用 FEAT_LSUI 时不再必要。Catalin Marinas 对补丁中的某些实现细节提出了质疑，特别是关于用户和内核在标签检查方面可能存在的不同设置。<br><br>在本周的新讨论中，Catalin 和 Yeoreum 继续探讨了在使用 LSUI 指令时是否需要启用 TCO（标签检查覆盖）。Catalin 强调，futex 使用 LSUI 时应启用 TCO，以确保一致性，而 Yeoreum 则表示当前的实现并未启用 TCO。双方对这一点进行了深入讨论，确认了在不同情况下对标签检查的处理方式。<br><br>总体而言，本周讨论的重点在于确保在使用 FEAT_LSUI 时对用户内存访问的安全性和一致性，特别是在标签检查方面的处理。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-11]</span> <span class="email-subject">[PATCH v6 0/5] support FEAT_LSUI and apply it on futex atomic ops</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-11]</span> <span class="email-subject">[PATCH v6 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-15]</span> <span class="email-subject">Re: [PATCH v6 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-16]</span> <span class="email-subject">Re: [PATCH v6 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-16]</span> <span class="email-subject">Re: [PATCH v6 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH v6 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH v6 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH v6 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH v6 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH v6 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH v6 5/5] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v5 0/7] Add support for FEAT_{LS64, LS64_V} and related tests</h3>
                </div>

                <div class="thread-meta">
                    <span>8 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-08-18</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了对 Armv8.7 架构中引入的 FEAT_{LS64, LS64_V} 特性的支持，主要涉及 64 字节原子加载和存储指令的实现。<br><br>**原始 patch/问题内容**：<br>Yicong Yang 提出了一个包含 7 个补丁的系列，旨在为 FEAT_{LS64, LS64_V} 提供支持。这些补丁包括在 CPU 特性列表中添加标识、向用户空间暴露这些特性、处理虚拟机中的内存访问异常等。<br><br>**之前讨论要点**：<br>在之前的讨论中，补丁的设计目标是确保用户空间驱动能够利用这些新指令来实现直接的工作队列条目（WQE）。此外，Marc Zyngier 提供了处理 LS64 相关异常的补丁，以确保在虚拟机中正确处理这些指令。<br><br>**本周的新讨论、进展或结论**：<br>本周的讨论集中在补丁的具体实现上，包括：<br>1. 向用户空间暴露 FEAT_{LS64, LS64_V} 的支持，并在 HWCAP3 和 cpuinfo 中进行标识。<br>2. 处理因访问不支持的内存而导致的数据异常（DABT），确保在虚拟机中能够正确注入异常。<br>3. 为相关指令添加自测试，确保在支持这些特性的系统上能够正确执行而不引发 SIGILL。<br>4. 通过文档更新，明确用户空间在处理 KVM_EXIT_ARM_LDST64B 时的期望行为。<br><br>整体而言，这些补丁的目标是增强 Linux 内核对 Armv8.7 新特性的支持，以提高虚拟化环境中的性能和兼容性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH v5 0/7] Add support for FEAT_{LS64, LS64_V} and related tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH v5 1/7] KVM: arm64: Add exit to userspace on {LD,ST}64B* outside of memslots</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH v5 2/7] KVM: arm64: Add documentation for KVM_EXIT_ARM_LDST64B</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH v5 3/7] KVM: arm64: Handle DABT caused by LS64* instructions on unsupported memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH v5 4/7] arm64: Provide basic EL2 setup for FEAT_{LS64, LS64_V} usage at EL0/1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH v5 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH v5 6/7] KVM: arm64: Enable FEAT_{LS64, LS64_V} in the supported guest</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH v5 7/7] kselftest/arm64: Add HWCAP test for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v11 0/6] KVM: arm64: Support FF-A 1.2</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-08-20</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 arm64 架构上支持 FF-A 1.2 规范的补丁集（PATCH v11 0/6）。FF-A 1.2 引入了新的 SEND_DIRECT2 ABI，允许使用 x4-x17 寄存器作为消息负载。补丁集的主要目的是确保主机不会使用低于已与虚拟机监控器（hypervisor）协商的 FF-A 版本，以避免兼容性问题。<br><br>在历史讨论中，补丁的版本更新记录了多个修正和改进，特别是对 SMCCC（Secure Monitor Call Convention）1.2 的支持，使得接口能够处理超过 8 个参数和返回超过 4 个值的情况。补丁集还更新了对 FF-A 1.2 的支持，作为将来实现 FFA_MSG_SEND_DIRECT_REQ2 消息接口的前提。<br><br>本周的新讨论中，Per Larsen 提出了六个补丁，主要包括：<br>1. 确保主机版本降级尝试时返回正确的值。<br>2. 在 FF-A 初始化和主机处理程序中使用 SMCCC 1.2。<br>3. 将 FFA_NOTIFICATION_* 接口标记为不支持，以防止其被传递到安全世界。<br>4. 将 FF-A 1.2 的可选接口标记为不支持。<br>5. 在处理 FFA_FEATURE 调用时掩码响应。<br>6. 将支持的 FF-A 版本提升至 1.2。<br><br>所有补丁均获得了 Will Deacon 的认可，显示出该系列补丁在社区中的积极反馈和支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v11 0/6] KVM: arm64: Support FF-A 1.2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v11 1/6] KVM: arm64: Correct return value on host version
 downgrade attempt</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v11 2/6] KVM: arm64: Use SMCCC 1.2 for FF-A initialization
 and in host handler</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v11 3/6] KVM: arm64: Mark FFA_NOTIFICATION_* calls as
 unsupported</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v11 4/6] KVM: arm64: Mark optional FF-A 1.2 interfaces as
 unsupported</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v11 5/6] KVM: arm64: Mask response to FFA_FEATURE call</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v11 6/6] KVM: arm64: Bump the supported version of FF-A to
 1.2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 0/5] initialize SCTRL2_ELx</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-08-21</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 Linux 内核的一个补丁系列，主要是初始化 ARM 架构中的 SCTLR2_ELx 寄存器。该补丁系列包含五个部分，旨在为 ARMv8.8/ARMv9.3 及以上版本提供对 SCTLR2_ELx 寄存器的初步支持。<br><br>**原始补丁/问题内容**：<br>补丁系列的核心是为 SCTLR2_ELx 寄存器提供初始化支持。虽然当前 Linux 对该寄存器没有严格的需求，但未来的架构特性（如 FEAT_PAuth_LR 和 FEAT_CPA2）将需要对这些寄存器进行配置。<br><br>**之前讨论要点**：<br>在补丁的历史版本中，开发者对补丁进行了多次重写和修改，主要集中在合并函数、修复寄存器设置错误以及在启动时初始化 SCTLR2_EL2 等方面。<br><br>**本周的新讨论、进展或结论**：<br>本周的讨论中，Yeoreum Yun 提出了五个具体的补丁，包括：<br>1. 使 SCTLR2_EL1 可访问。<br>2. 在启动时初始化 SCTLR2_ELx 寄存器。<br>3. 在 CPU 休眠和恢复时保存/恢复 SCTLR2_EL1 的值。<br>4. 在软重启时初始化 SCTLR2_EL1。<br>5. 支持每个任务的 SCTLR2_EL1 配置。<br><br>这些补丁的实施将确保在不同的操作状态下，SCTLR2_ELx 寄存器的值保持一致，从而提高系统的稳定性和可预测性。整体来看，这些补丁为未来的架构扩展奠定了基础。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v4 1/5] arm64: make SCTLR2_EL1 accessible</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v4 2/5] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v4 3/5] arm64: save/restore SCTLR2_EL1 when cpu_suspend()/resume()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v4 4/5] arm64: initialise SCTLR2_EL1 at cpu_soft_restart()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[PATCH v4 5/5] arm64: make the per-task SCTLR2_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[STABLE] [PATCH] KVM: arm64: Fix kernel BUG() due to bad backport of FPSIMD/SVE/SME fix</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-08-22</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于修复 KVM 在 arm64 架构下由于 FPSIMD/SVE/SME 修复的错误回溯导致的内核 BUG() 问题。原始的补丁（patch）由 Will Deacon 提出，主要是针对上游提交 fbc7e61195e2 的问题，该提交依赖于在 fpsimd_save_and_flush_cpu_state() 函数中禁用中断，以防止在保存主机浮点上下文时发生软中断。然而，在没有应用补丁 9b19700e623f 的稳定内核中，中断仍然处于启用状态，这导致在实际使用中触发了 BUG_ON(!may_use_simd())。<br><br>在之前的讨论中，Will 提到由于补丁 9b19700e623f 本身并不是一个独立的修复，且有复杂的依赖关系，因此选择了一个简单的解决方案，使用软中断安全的 {get,put}_cpu_fpsimd_context() 辅助函数来替代。<br><br>本周的新进展包括 Greg Kroah-Hartman 确认已将该补丁添加到 5.15、6.1 和 6.6 的稳定树中，表示该补丁已经被接受并将应用于相关版本的内核中。邮件中还提供了补丁在稳定队列中的位置，方便后续查阅。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[STABLE] [PATCH] KVM: arm64: Fix kernel BUG() due to bad backport of FPSIMD/SVE/SME fix</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">Re: [STABLE] [PATCH] KVM: arm64: Fix kernel BUG() due to bad
 backport of FPSIMD/SVE/SME fix</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Greg Kroah-Hartman <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">Patch "KVM: arm64: Fix kernel BUG() due to bad backport of FPSIMD/SVE/SME fix" has been added to the 5.15-stable tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: gregkh <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">Patch "KVM: arm64: Fix kernel BUG() due to bad backport of FPSIMD/SVE/SME fix" has been added to the 6.1-stable tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: gregkh <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">Patch "KVM: arm64: Fix kernel BUG() due to bad backport of FPSIMD/SVE/SME fix" has been added to the 6.6-stable tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: gregkh <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/2] KVM: arm64: Reschedule as needed when destroying the
 stage-2 page-tables</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-20</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在处理 ARM64 架构的 stage-2 页表销毁时的调度问题。原始的 patch 提出了在销毁大量页表时，可能会导致调度延迟的警告，特别是在配置为不强制抢占的内核（如 CONFIG_PREEMPT_NONE=y）中。<br><br>在历史讨论中，参与者 Raghavendra Rao Ananta 提出了两个补丁：第一个补丁将 kvm_pgtable_stage2_destroy() 函数拆分为两个部分，以便在销毁页表时可以分段处理；第二个补丁则在每个处理段之间调用 cond_resched()，以避免长时间占用 CPU。<br><br>本周的新讨论中，Raghavendra 提供了补丁的更新版本，进一步优化了代码并解决了潜在问题。Oliver Upton 参与讨论并确认这两个补丁已被应用到修复列表中，表示感谢。<br><br>总结而言，本次讨论主要集中在通过分段处理和调度机制优化 KVM 页表销毁过程，以提高系统的响应性和稳定性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v2 0/2] KVM: arm64: Reschedule as needed when destroying the
 stage-2 page-tables</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Raghavendra Rao Ananta <span class="email-sender">&lt;rananta@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v2 1/2] KVM: arm64: Split kvm_pgtable_stage2_destroy()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Raghavendra Rao Ananta <span class="email-sender">&lt;rananta@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-20]</span> <span class="email-subject">[PATCH v2 2/2] KVM: arm64: Reschedule as needed when destroying the
 stage-2 page-tables</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Raghavendra Rao Ananta <span class="email-sender">&lt;rananta@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [PATCH v2 0/2] KVM: arm64: Reschedule as needed when destroying the stage-2 page-tables</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/3] arm64: Support FEAT_LSFE (Large System Float
 Extension)</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-08-18</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于对 ARM64 架构的 FEAT_LSFE（大型系统浮点扩展）的支持，主要由 Mark Brown 提出并提交了三个补丁（PATCH v3 0/3）。<br><br>1. **原始补丁内容**：FEAT_LSFE 是从 ARMv9.5 开始可选的特性，旨在为浮点值的原子内存操作提供新指令。由于内核当前没有对该特性的直接需求，补丁的主要目的是提供一个硬件能力（hwcap），使用户空间能够识别该特性，并允许 KVM 客户端访问相关的 ID 寄存器字段。<br><br>2. **之前讨论要点**：在之前的讨论中，补丁经历了多个版本的修改，主要集中在修复 hwcap 测试中的问题和重新基于最新的内核版本。补丁的目标是确保用户空间能够发现 FEAT_LSFE 特性。<br><br>3. **本周的新讨论与进展**：本周的讨论中，Mark Brown 提交了三个具体的补丁：第一个补丁添加了 FEAT_LSFE 的 hwcap，第二个补丁使 KVM 能够将 FEAT_LSFE 暴露给客户机，第三个补丁则在自测中增加了对 LSFE 的测试。这些补丁的提交标志着对该特性的支持逐步完善，尽管该特性目前在内核中没有直接应用。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH v3 0/3] arm64: Support FEAT_LSFE (Large System Float
 Extension)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH v3 1/3] arm64/hwcap: Add hwcap for FEAT_LSFE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH v3 2/3] KVM: arm64: Expose FEAT_LSFE to guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH v3 3/3] kselftest/arm64: Add lsfe to the hwcaps test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: nv: Allow shadow stage 2 read fault</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-08-22</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下处理 shadow stage 2 读取权限故障的补丁。补丁的目的是允许在处理 shadow stage 2 故障时继续处理读取故障，而不是直接报错，因为在某些情况下，L1 可能会以不正确的权限映射 L2。<br><br>在之前的讨论中，Wei-Lin Chang 提到，尽管在正常情况下不应出现 stage-2 读取权限故障，但在特定情况下（如 L1 的异常行为）可能会发生。他提出了一个示例，说明如何触发此类故障，并讨论了与 TLB（Translation Lookaside Buffer）相关的潜在问题。<br><br>本周的讨论中，Oliver Upton 和 Marc Zyngier 对补丁进行了反馈。Oliver 指出，KVM 创建没有读取权限的 stage-2 PTE 的可能性较低，建议可以考虑删除相关检查。Marc 则强调了 KVM 管理的 TLB 的静态特性，担心放宽权限可能导致不一致的状态。他建议在处理权限故障时应提前进行检查，并考虑设计更为稳健的解决方案，而不是简单的修补。<br><br>总的来说，本周的讨论集中在补丁的合理性和潜在风险上，参与者们对如何更好地处理权限故障提出了不同的看法和建议。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">[PATCH] KVM: arm64: nv: Allow shadow stage 2 read fault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei-Lin Chang <span class="email-sender">&lt;r09922117@csie.ntu.edu.tw&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: Allow shadow stage 2 read fault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: Allow shadow stage 2 read fault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 3/6] KVM: arm64: vgic-v3: Allow access to GICD_IIDR
 prior to initialization</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-21</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于一个补丁（patch），其内容为“允许在初始化之前访问 GICD_IIDR”，这是针对 KVM 的 arm64 虚拟化中的 vgic-v3 组件的改进。<br><br>在历史讨论中，补丁的主要目的是解决在 vGIC 初始化之前对 GICD_IIDR 寄存器的访问问题。原本的逻辑是 ID 寄存器在初始化后不能被修改，而其他寄存器则应在初始化后进行修改。<br><br>本周的新讨论中，参与者 Zhou Wang 和 Oliver Upton 进行了深入的技术交流。Zhou 提出了对补丁逻辑的疑问，认为在特定条件下，寄存器的访问应被允许。Oliver 解释了补丁的意图，强调 GICD_IIDR 寄存器在初始化后是可写的，因此需要放宽对该寄存器的访问限制，以便在初始化前后均可访问。最终，Zhou 表达了对 Oliver 观点的理解和感谢。<br><br>总结而言，本周的讨论围绕补丁的逻辑和寄存器访问权限进行了澄清，双方达成了一定的共识，推动了补丁的进一步完善。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [PATCH v4 3/6] KVM: arm64: vgic-v3: Allow access to GICD_IIDR
 prior to initialization</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhou Wang <span class="email-sender">&lt;wangzhou1@hisilicon.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [PATCH v4 3/6] KVM: arm64: vgic-v3: Allow access to GICD_IIDR
 prior to initialization</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-22]</span> <span class="email-subject">Re: [PATCH v4 3/6] KVM: arm64: vgic-v3: Allow access to GICD_IIDR
 prior to initialization</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhou Wang <span class="email-sender">&lt;wangzhou1@hisilicon.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v10 0/6] KVM: arm64: Support FF-A 1.2</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-09</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 arm64 架构上支持 FF-A 1.2 规范的补丁集（PATCH v10 0/6）。该补丁集的主要内容是引入新的 SEND_DIRECT2 ABI，使得寄存器 x4-x17 可以用于消息负载，并防止主机使用低于已与虚拟机监控器协商的 FF-A 版本，以确保兼容性。<br><br>在历史讨论中，Per Larsen 提到 SMCCC 1.2 规范的引入，使得可以返回更多的寄存器结果，这为实现 FF-A 1.2 的功能提供了基础。此外，FF-A 1.2 明确要求使用 SMCCC 1.2，因此在实现时可以不必担心兼容性问题。<br><br>在本周的新讨论中，Will Deacon 对之前的补丁提出了一个小的拼写错误，并询问关于 FF-A 1.3 更新的可能内容，以便提前了解未来代码可能需要的调整。他还表示，去除 arm_smccc_1_1_smc() 宏中的零参数是一个积极的改进。<br><br>总体来看，讨论集中在 FF-A 1.2 的实现及其对未来版本的潜在影响上，参与者对补丁的方向表示认可，同时关注后续规范的变化。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-09]</span> <span class="email-subject">[PATCH v10 0/6] KVM: arm64: Support FF-A 1.2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-09]</span> <span class="email-subject">[PATCH v10 2/6] KVM: arm64: Use SMCCC 1.2 for FF-A initialization
 and in host handler</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-19]</span> <span class="email-subject">Re: [PATCH v10 2/6] KVM: arm64: Use SMCCC 1.2 for FF-A
 initialization and in host handler</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7 00/12] perf: arm_spe: Armv8.8 SPE features</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-14</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于支持 Armv8.8 SPE 特性的补丁（PATCH v7 00/12），主要涉及三个新特性：FEAT_SPEv1p4 过滤器、FEAT_SPE_EFT 扩展过滤和 SPE_FEAT_FDS 数据源过滤。这些特性可以独立应用，相关的补丁包括对系统寄存器的更改以及对性能工具的调整。<br><br>在历史讨论中，James Clark 提出了补丁的具体内容，并详细说明了每个特性的实现方式及其依赖关系。其中，FEAT_SPE_FDS 特性需要新增一个 `config4` 字段，以支持对数据源的过滤。该补丁得到了 Leo Yan 和 Ian Rogers 的审核和测试支持。<br><br>在本周的新讨论中，Ian Rogers 提出了一个与当前主题略有偏离的建议，认为应该推动另一个补丁的合并，以便通过 fdinfo 显示所有配置值，从而帮助工具更好地诊断 PMU 的忙碌状态。他指出，尽管该补丁尝试保持最小化，但仍然处于停滞状态。<br><br>总体来看，讨论围绕 Armv8.8 SPE 特性的补丁展开，并提出了对相关工具改进的建议。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-14]</span> <span class="email-subject">[PATCH v7 00/12] perf: arm_spe: Armv8.8 SPE features</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-14]</span> <span class="email-subject">[PATCH v7 08/12] perf: Add perf_event_attr::config4</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH v7 08/12] perf: Add perf_event_attr::config4</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ian Rogers <span class="email-sender">&lt;irogers@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Fix debug checking for np-guests using huge mappings</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-15</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下修复针对使用大页映射的非持久性虚拟机（np-guests）的调试检查问题。<br><br>**原始 patch/问题的内容**：<br>Ben Horgan 提出的补丁旨在解决在启用透明大页和 CONFIG_NVHE_EL2_DEBUG 时，`assert_host_shared_guest()` 函数中的调试检查失败的问题。该问题会导致系统崩溃，因为在 `__pkvm_host_relax_perms_guest()` 函数中，调试检查假设映射为单页，但实际上可能是块映射。补丁建议更新检查逻辑，使其不再检查大小，而是直接假设正确的大小，同时在 `__pkvm_host_mkyoung_guest()` 函数中做相同的修复。<br><br>**之前讨论要点**：<br>在历史讨论中，Ben 还提到这个修复与之前的提交 f28f1d02f4ea 相关，该提交引入了对映射大小的检查，尽管在当前情况下该检查并不会产生影响。<br><br>**本周的新讨论、进展或结论**：<br>在本周的讨论中，Vincent Donnefort 对 Ben 的修复表示感谢，并确认了补丁的有效性。他的回复中提到，这个修复是对之前引入的大小检查的必要修正，并且已被他审核通过。整体来看，讨论进展顺利，补丁得到了认可。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-15]</span> <span class="email-subject">[PATCH] KVM: arm64: Fix debug checking for np-guests using huge mappings</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix debug checking for np-guests using huge
 mappings</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: selftests: Sync ID_AA64MMFR3_EL1 in
 set_id_regs</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-08-18</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的自测试功能，特别是与 ID_AA64MMFR3_EL1 寄存器的同步问题。<br><br>1. **原始 patch/问题的内容**：本次 patch 的目的是在 KVM 的自测试代码中同步 ID_AA64MMFR3_EL1 寄存器的读取。该寄存器在之前的测试覆盖中未被包含，因此需要将其添加到读取寄存器的列表中。<br><br>2. **之前的讨论要点**：在历史讨论中提到，之前的 patch（0b593ef12afc）已经更新了 set_id_regs 函数以跟上内核的变化，但未能覆盖 ID_AA64MMFR3_EL1 寄存器的同步。<br><br>3. **本周的新讨论、进展或结论**：本周的邮件由 Mark Brown 提出，确认了需要在自测试代码中添加对 ID_AA64MMFR3_EL1 的支持，并提供了具体的代码修改。此次修改在文件 `set_id_regs.c` 中增加了一行代码，以确保该寄存器的同步被正确处理。<br><br>综上所述，本次讨论集中在提升 KVM arm64 自测试的完整性，确保所有相关寄存器都被正确读取和同步。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH] KVM: arm64: selftests: Sync ID_AA64MMFR3_EL1 in
 set_id_regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Fix whitespace inconsistency in cpu_reg assignments</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-08-18</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个代码格式修复补丁。补丁的主要内容是修复 `cpu_reg()` 函数赋值时等号周围的空格不一致问题，标准化为空格的使用，以提高代码的一致性和可读性。该补丁并不涉及功能上的改变，仅为格式修复。<br><br>在历史讨论中没有相关的背景信息或之前的讨论记录，因此本周的新讨论成为唯一的焦点。参与者 lingfuyi 提交了该补丁，并详细说明了修复的具体内容，包括修改的代码行和所做的插入与删除。补丁的签名也已附上，表明其作者身份。<br><br>本周的讨论没有其他回复或异议，补丁的内容被认为是必要的格式改进，预计将被接受并合并到代码库中。整体来看，此次讨论集中于代码风格的统一，体现了开发者对代码质量的重视。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-18]</span> <span class="email-subject">[PATCH] KVM: arm64: Fix whitespace inconsistency in cpu_reg assignments</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: lingfuyi@126.com <span class="email-sender">&lt;lingfuyi@126.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>RFC</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[RFC PATCH 00/16] KVM: arm64: Add "struct kvm_page_fault"</h3>
                </div>

                <div class="thread-meta">
                    <span>19 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-21</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 KVM 的 arm64 架构中添加一个新的结构体 `struct kvm_page_fault`，旨在改善处理页故障的代码结构。<br><br>1. **原始 patch/问题的内容**：该 patch 提议引入 `struct kvm_page_fault`，用于跟踪处理页故障时的状态，以简化代码并为未来的功能扩展（如 KVM Userfault）铺平道路。<br><br>2. **之前讨论要点**：在之前的讨论中，参与者们关注了如何通过引入新的结构体来减少函数参数的数量，并提高代码的可读性和可维护性。讨论还涉及到如何处理与页故障相关的各种信息，包括权限、地址等。<br><br>3. **本周的新讨论、进展或结论**：本周的讨论主要集中在对 `struct kvm_page_fault` 的具体实现细节上，包括如何将与 VMA（虚拟内存区域）相关的信息整合到该结构体中，以及如何在处理页故障时使用该结构体。此外，参与者 Oliver Upton 提出了对结构体字段命名的改进建议，以提高代码的清晰度。Sean Christopherson 对于代码的可读性和结构化表示赞同，并表示希望进一步明确该结构体在架构中如何被使用。整体来看，讨论的氛围积极，参与者们对改进代码结构的方向表示支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 00/16] KVM: arm64: Add "struct kvm_page_fault"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 01/16] KVM: arm64: Drop nested "esr" to eliminate variable shadowing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 02/16] KVM: arm64: Get iabt status on-demand</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 03/16] KVM: arm64: Move SRCU-protected region of
 kvm_handle_guest_abort() to helper</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 04/16] KVM: arm64: Use guard(srcu) in kvm_handle_guest_abort()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 05/16] KVM: arm64: Introduce "struct kvm_page_fault" for
 tracking abort state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 06/16] KVM: arm64: Pass kvm_page_fault pointer to transparent_hugepage_adjust()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 07/16] KVM: arm64: Pass @fault to fault_supports_stage2_huge_mapping()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 08/16] KVM: arm64: Add helper to get permission fault
 granule from ESR</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 09/16] KVM: arm64: Track perm fault granule in "struct kvm_page_fault"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 10/16] KVM: arm64: Drop local vfio_allow_any_uc, use
 vm_flags snapshot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 11/16] KVM: arm64: Drop local mte_allowed, use vm_flags snapshot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 12/16] KVM: arm64: Move VMA-related information into
 "struct kvm_page_fault"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 13/16] KVM: arm64: Stash "mmu_seq" in "struct kvm_page_fault"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 14/16] KVM: arm64: Track "forced" information in "struct kvm_page_fault"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 15/16] KVM: arm64: Extract mmap_lock-protected code to
 helper for user mem aborts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">[RFC PATCH 16/16] KVM: arm64: Don't bother nullifying "vma" in mem
 abort path</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [RFC PATCH 05/16] KVM: arm64: Introduce "struct kvm_page_fault"
 for tracking abort state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-08-21]</span> <span class="email-subject">Re: [RFC PATCH 00/16] KVM: arm64: Add "struct kvm_page_fault"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
