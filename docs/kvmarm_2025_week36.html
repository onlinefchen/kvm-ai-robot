<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVMARM 邮件列表 AI 总结报告</title>
    <style>
        body {
            font-family: 'Courier New', 'Courier', monospace;
            line-height: 1.5;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 40px;
            background-color: #ffffff;
            color: #222;
        }
        .container {
            background: #ffffff;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
            color: #000;
            margin-bottom: 0.3em;
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 15px;
        }
        h2 {
            font-size: 1.6em;
            font-weight: bold;
            color: #000;
            margin-top: 2em;
            margin-bottom: 0.6em;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 1.2em;
            font-weight: bold;
            color: #111;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h4 {
            font-size: 1.05em;
            font-weight: bold;
            color: #333;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
        }
        .meta-info {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px 20px;
            margin: 20px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        .meta-info p {
            margin: 6px 0;
            color: #444;
        }
        .meta-info strong {
            color: #000;
            font-weight: bold;
        }
        .stats {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid #000;
        }
        .stat-card {
            display: table-cell;
            border: 1px solid #000;
            padding: 12px 15px;
            text-align: center;
            background: #fafafa;
        }
        .stat-card h3 {
            margin: 0;
            color: #000;
            font-size: 1.8em;
            font-weight: bold;
            border: none;
            padding: 0;
        }
        .stat-card p {
            margin: 5px 0 0 0;
            color: #444;
            font-size: 0.9em;
            font-weight: normal;
        }
        .category {
            margin: 30px 0;
        }
        .thread {
            margin: 25px 0;
            padding: 15px;
            background: #fafafa;
            border: 1px solid #ccc;
            page-break-inside: avoid;
        }
        .thread-header {
            margin-bottom: 12px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .thread-header h3 {
            font-size: 1.15em;
            font-weight: bold;
            color: #000;
            margin: 0;
        }
        .thread-meta {
            display: block;
            margin: 8px 0 12px 0;
            font-size: 0.9em;
            color: #555;
            font-style: italic;
        }
        .thread-meta span {
            margin-right: 15px;
        }
        .ai-summary {
            background: #fff;
            border-left: 3px solid #666;
            padding: 12px 15px;
            margin: 15px 0;
            line-height: 1.6;
            color: #222;
            font-style: italic;
        }
        .email-list {
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px 15px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.88em;
            line-height: 1.5;
            overflow-x: auto;
            margin: 10px 0;
        }
        .email-item {
            margin: 4px 0;
            padding: 2px 0;
            color: #222;
        }
        .email-item.historical {
            background: #f5f5f5;
            border-left: 3px solid #999;
            padding-left: 8px;
            opacity: 0.8;
        }
        .email-item.new {
            background: #fffef0;
            border-left: 3px solid #0066cc;
            padding-left: 8px;
        }
        .email-date {
            color: #0066cc;
            font-weight: bold;
        }
        .email-date.historical {
            color: #666;
        }
        .email-sender {
            color: #c30;
            font-weight: normal;
        }
        .email-subject {
            color: #000;
        }
        .historical-marker {
            color: #999;
            font-size: 0.85em;
            font-style: italic;
        }
        .new-marker {
            color: #0066cc;
            font-size: 0.85em;
            font-weight: bold;
        }
        .archive-link {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            background: #333;
            color: #fff;
            text-decoration: none;
            border: 2px solid #000;
            font-weight: bold;
            transition: all 0.2s;
        }
        .archive-link:hover {
            background: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KVMARM Mailing List Analysis Report</h1>

        <div class="meta-info">
            <p><strong>Generated:</strong> 2025-10-27 12:19</p>
            <p><strong>Time Period:</strong> 2025年9月 第36周 (09/01 - 09/07)</p>
            <p><strong>Total Messages:</strong> 200 | <strong>Total Threads:</strong> 33</p>
            <p style="text-align: center;"><a href="archive.html" class="archive-link">📚 历史归档 Archive</a></p>
        </div>


        <div class="category">
            <h2>PATCH</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v8 00/29] KVM: arm64: Implement support for SME</h3>
                </div>

                <div class="thread-meta">
                    <span>30 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-02</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 ARM64 架构上实现对 SME（Scalable Matrix Extension）的支持，主要集中在一系列补丁的提交和讨论。<br><br>1. **原始补丁内容**：补丁系列的核心是实现对 SME 的支持，特别是在非保护的 KVM 客户端中。补丁中引入了新的控制寄存器和状态寄存器，允许在运行时配置向量长度，并处理与 SVE（Scalable Vector Extension）相关的状态。<br><br>2. **历史讨论要点**：之前的讨论主要集中在如何处理 SME 和 SVE 的寄存器访问、状态保存和恢复，以及如何在用户空间和虚拟机监控程序（VMM）之间正确配置这些寄存器。补丁还强调了在不同状态下（如流模式和非流模式）对寄存器的访问控制。<br><br>3. **本周的新讨论进展**：本周的讨论中，Mark Brown 提出了多个补丁，涵盖了对 SME 控制寄存器的支持、对 SME 状态的上下文切换、以及对新引入的 ZA 和 ZT0 寄存器的用户空间访问支持。此外，补丁还增加了对 SME 异常的处理和对嵌套客户机的支持，确保在上下文切换时正确处理 SME 状态。最后，补丁更新了自测代码，以验证新寄存器的可用性。<br><br>整体而言，本周的讨论和补丁提交为 KVM 在 ARM64 上实现对 SME 的支持奠定了基础，解决了多个技术细节问题，并确保了与现有 SVE 功能的兼容性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 00/29] KVM: arm64: Implement support for SME</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 01/29] arm64/sysreg: Update SMIDR_EL1 to DDI0601 2025-06</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 02/29] arm64/fpsimd: Update FA64 and ZT0 enables when
 loading SME state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 03/29] arm64/fpsimd: Decide to save ZT0 and streaming
 mode FFR at bind time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 04/29] arm64/fpsimd: Check enable bit for FA64 when
 saving EFI state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 05/29] arm64/fpsimd: Determine maximum virtualisable SME
 vector length</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 06/29] KVM: arm64: Introduce non-UNDEF FGT control</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 07/29] KVM: arm64: Pay attention to FFR parameter in SVE
 save and load</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 08/29] KVM: arm64: Pull ctxt_has_ helpers to start of
 sysreg-sr.h</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 09/29] KVM: arm64: Move SVE state access macros after
 feature test macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 10/29] KVM: arm64: Rename SVE finalization constants to
 be more general</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 11/29] KVM: arm64: Document the KVM ABI for SME</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 12/29] KVM: arm64: Define internal features for SME</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 13/29] KVM: arm64: Rename sve_state_reg_region</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 14/29] KVM: arm64: Store vector lengths in an array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 15/29] KVM: arm64: Implement SME vector length
 configuration</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 16/29] KVM: arm64: Support SME control registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 17/29] KVM: arm64: Support TPIDR2_EL0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 18/29] KVM: arm64: Support SME identification registers
 for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 19/29] KVM: arm64: Support SME priority registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 20/29] KVM: arm64: Provide assembly for SME register
 access</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 21/29] KVM: arm64: Support userspace access to streaming
 mode Z and P registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 22/29] KVM: arm64: Flush register state on writes to
 SVCR.SM and SVCR.ZA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 23/29] KVM: arm64: Expose SME specific state to
 userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 24/29] KVM: arm64: Context switch SME state for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 25/29] KVM: arm64: Handle SME exceptions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 26/29] KVM: arm64: Expose SME to nested guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 27/29] KVM: arm64: Provide interface for configuring and
 enabling SME for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 28/29] KVM: arm64: selftests: Add SME system registers
 to get-reg-list</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v8 29/29] KVM: arm64: selftests: Add SME to set_id_regs
 test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v5 02/12] arch: export set_direct_map_valid_noflush to KVM module</h3>
                </div>

                <div class="thread-meta">
                    <span>23 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-08-28</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 Linux 内核的补丁，主题为“[PATCH v5 02/12] arch: export set_direct_map_valid_noflush to KVM module”。该补丁的目的是将 `set_direct_map_valid_noflush` 函数导出到 KVM 模块，以便更好地支持内存管理。<br><br>在历史讨论中，参与者对补丁的实现细节进行了多次审查和修改建议，主要集中在函数参数的 const 修饰、补丁描述的完整性以及代码的清晰度等方面。Fuad Tabba 和其他参与者对补丁的内容表示认可，并提出了一些具体的改进意见。<br><br>在本周的新讨论中，Roy Patrick 对之前的反馈进行了回应，确认了补丁中的一些修改，并讨论了函数参数的 const 一致性问题。参与者们一致认为在函数调用中保持参数的 const 一致性是重要的，以避免未来的调试问题。此外，讨论中还提到了一些关于文档描述的细节，决定将某些补丁合并以简化提交记录。<br><br>总体来看，本周的讨论主要集中在补丁的细节完善和代码一致性上，参与者们积极交流，推动了补丁的进展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-28]</span> <span class="email-subject">Re: [PATCH v5 02/12] arch: export set_direct_map_valid_noflush to KVM module</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-28]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-28]</span> <span class="email-subject">Re: [PATCH v5 05/12] KVM: Documentation: describe
 GUEST_MEMFD_FLAG_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-28]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mike Rapoport <span class="email-sender">&lt;rppt@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-28]</span> <span class="email-subject">Re: [PATCH v5 04/12] KVM: guest_memfd: Add flag to remove from
 direct map</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mike Rapoport <span class="email-sender">&lt;rppt@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-28]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-31]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: kernel test robot <span class="email-sender">&lt;lkp@intel.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v5 02/12] arch: export set_direct_map_valid_noflush to KVM
 module</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v5 04/12] KVM: guest_memfd: Add flag to remove from direct
 map</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v5 04/12] KVM: guest_memfd: Add flag to remove from
 direct map</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mike Rapoport <span class="email-sender">&lt;rppt@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v5 05/12] KVM: Documentation: describe
 GUEST_MEMFD_FLAG_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v5 05/12] KVM: Documentation: describe
 GUEST_MEMFD_FLAG_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">Re: [PATCH v5 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/5] KVM: arm64: GICv5 legacy (GCIE_LEGACY) NV enablement and
 cleanup</h3>
                </div>

                <div class="thread-meta">
                    <span>19 messages</span>
                    <span>6 participants</span>
                    <span>Started: 2025-08-28</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM/arm64 的一系列补丁，主要集中在 GICv5 及其对嵌套虚拟化的支持上。<br><br>**原始补丁/问题内容**：<br>Sascha Bischoff 提出的补丁系列旨在为基于 GICv3 的虚拟机在 GICv5 主机上启用嵌套虚拟化，并修复 ICC_SRE_EL2 访问处理，以符合更新的规范。此外，补丁还添加了一个 CPU 能力标志，以跟踪所有 CPU 对 FEAT_GCIE_LEGACY 的支持。<br><br>**之前讨论要点**：<br>在历史讨论中，补丁的设计和实现得到了初步的认可，参与者讨论了如何确保在启动时正确设置 CPU 能力标志，并避免不匹配的配置导致 KVM 出现问题。<br><br>**本周的新讨论与进展**：<br>本周的讨论中，多个参与者对补丁进行了审查和确认，包括 Suzuki K Poulose 和 Thomas Gleixner 的认可。Oliver Upton 提出了针对 VGIC 的一系列补丁，解决了锁定顺序问题，并提出了将 LPI 释放操作与其他操作分开，以避免潜在的死锁。此外，他还指出了在处理 LPI 时的锁定策略需要进一步优化。整体来看，补丁系列得到了积极的反馈，预计将继续推进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-28]</span> <span class="email-subject">[PATCH 0/5] KVM: arm64: GICv5 legacy (GCIE_LEGACY) NV enablement and
 cleanup</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sascha Bischoff <span class="email-sender">&lt;Sascha.Bischoff@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-28]</span> <span class="email-subject">[PATCH 3/5] arm64: cpucaps: Add GICv5 Legacy vCPU interface
 (GCIE_LEGACY) capability</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sascha Bischoff <span class="email-sender">&lt;Sascha.Bischoff@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-28]</span> <span class="email-subject">[PATCH 5/5] irqchip/gic-v5: Drop has_gcie_v3_compat from gic_kvm_info</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sascha Bischoff <span class="email-sender">&lt;Sascha.Bischoff@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">Re: [PATCH 3/5] arm64: cpucaps: Add GICv5 Legacy vCPU interface
 (GCIE_LEGACY) capability</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">Re: [PATCH 5/5] irqchip/gic-v5: Drop has_gcie_v3_compat from
 gic_kvm_info</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Thomas Gleixner <span class="email-sender">&lt;tglx@linutronix.de&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">[PATCH 0/5] KVM: arm64: vgic-v3: Fix yet another lock ordering turd</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">[PATCH 1/5] KVM: arm64: vgic-v3: Use bare refcount for VGIC LPIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">[PATCH 2/5] KVM: arm64: Spin off release helper from vgic_put_irq()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">[PATCH 3/5] KVM: arm64: vgic-v3: Erase LPIs from xarray outside of raw spinlocks</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">[PATCH 4/5] KVM: arm64: vgic-v3: Don't require IRQs be disabled for LPI xarray lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">[PATCH 5/5] KVM: arm64: vgic-v3: Indicate vgic_put_irq() may take LPI xarray lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">Re: [PATCH 0/5] KVM: arm64: GICv5 legacy (GCIE_LEGACY) NV enablement
 and cleanup</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">Re: [PATCH 5/5] KVM: arm64: vgic-v3: Indicate vgic_put_irq() may
 take LPI xarray lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">Re: [PATCH 5/5] KVM: arm64: vgic-v3: Indicate vgic_put_irq() may take
 LPI xarray lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH 3/5] KVM: arm64: vgic-v3: Erase LPIs from xarray outside
 of raw spinlocks</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH 3/5] KVM: arm64: vgic-v3: Erase LPIs from xarray outside of raw spinlocks</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH 4/5] KVM: arm64: vgic-v3: Don't require IRQs be disabled for LPI xarray lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH 0/5] KVM: arm64: vgic-v3: Fix yet another lock ordering turd</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH 4/5] KVM: arm64: vgic-v3: Don't require IRQs be disabled
 for LPI xarray lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 0/5] initialize SCTRL2_ELx</h3>
                </div>

                <div class="thread-meta">
                    <span>16 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-21</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 Linux 中初始化 SCTLR2_ELx 寄存器的补丁（PATCH v4 0/5）。该补丁系列旨在为 ARM 架构的 SCTLR2_ELx 寄存器提供初步支持，尤其是在 ARMv8.8/ARMv9.3 版本中该功能为可选，而从 ARMv8.9/ARMv9.4 开始则变为强制要求。尽管当前 Linux 对 SCTLR2_ELx 的修改并非严格必要，但未来的一些架构特性将需要配置这些寄存器中的控制位。<br><br>在历史讨论中，Yeoreum Yun 提出了几个补丁，主要关注在 CPU 启动时初始化 SCTLR2_ELx 寄存器，以防止因固件未正确初始化而导致的系统异常行为。<br><br>本周的新讨论中，Dave Martin 对补丁提出了一些建议，包括在汇编宏中添加错误检查，并讨论了寄存器初始化的顺序问题。Yeoreum Yun 表示已经测试了与 pKVM、嵌套虚拟化和崩溃路径相关的代码路径，并确认了 SCTLR2_ELx 的值设置符合预期。尽管补丁目前看起来没有问题，但 Dave 提到在合并之前需要确保所有代码路径都经过测试，并建议在有依赖于 SCTLR2 的特性补丁之前，延迟合并该补丁。整体来看，讨论集中在确保寄存器初始化的正确性和未来功能的兼容性上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-21]</span> <span class="email-subject">[PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-21]</span> <span class="email-subject">[PATCH v4 2/5] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-21]</span> <span class="email-subject">[PATCH v4 4/5] arm64: initialise SCTLR2_EL1 at cpu_soft_restart()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v4 2/5] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v4 4/5] arm64: initialise SCTLR2_EL1 at cpu_soft_restart()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v4 2/5] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v4 4/5] arm64: initialise SCTLR2_EL1 at cpu_soft_restart()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">Re: [PATCH v4 2/5] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">Re: [PATCH v4 2/5] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">Re: [PATCH v4 2/5] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">Re: [PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">Re: [PATCH v4 2/5] arm64: initialise SCTLR2_ELx register at boot time</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">Re: [PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v8 00/12] perf: arm_spe: Armv8.8 SPE features</h3>
                </div>

                <div class="thread-meta">
                    <span>13 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-01</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 ARMv8.8 SPE（Statistical Profiling Extension）特性的补丁集，主要包括三个新特性：FEAT_SPEv1p4 过滤器、FEAT_SPE_EFT 扩展过滤和 FEAT_SPE_FDS 数据源过滤。<br><br>**原始补丁内容**：<br>补丁集的目标是支持这三个新特性，具体包括：<br>1. 对于 FEAT_SPEv1p4，补丁 2-3 实现了新的过滤器。<br>2. 对于 FEAT_SPE_EFT，补丁 4 实现了扩展过滤。<br>3. 对于 FEAT_SPE_FDS，补丁 5-9 实现了数据源过滤。<br><br>**之前讨论要点**：<br>在历史讨论中，补丁经历了多次版本迭代，主要集中在修复文档中的错误、解决与其他内核功能的冲突，以及对新特性的实现细节进行调整。<br><br>**本周新讨论与进展**：<br>本周的讨论主要集中在补丁的具体实现上，包括：<br>- 对新寄存器 PMSDSFR_EL1 的支持和配置。<br>- 增加了新的 `config4` 字段以支持数据源过滤。<br>- 详细描述了如何在用户空间使用新特性，包括如何配置过滤器和处理不同的事件类型。<br>- 还更新了文档，详细说明了新特性和使用方法。<br><br>整体来看，这一系列补丁旨在增强 ARM 架构下的性能监控能力，提供更灵活的事件过滤选项。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH v8 00/12] perf: arm_spe: Armv8.8 SPE features</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH v8 01/12] arm64: sysreg: Add new PMSFCR_EL1 fields and
 PMSDSFR_EL1 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH v8 02/12] perf: arm_spe: Support FEAT_SPEv1p4 filters</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH v8 03/12] perf: arm_spe: Expose event filter</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH v8 04/12] perf: arm_spe: Add support for FEAT_SPE_EFT
 extended filtering</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH v8 05/12] arm64/boot: Factor out a macro to check SPE
 version</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH v8 06/12] arm64/boot: Enable EL2 requirements for
 SPE_FEAT_FDS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH v8 07/12] KVM: arm64: Add trap configs for PMSDSFR_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH v8 08/12] perf: Add perf_event_attr::config4</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH v8 09/12] perf: arm_spe: Add support for filtering on data
 source</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH v8 10/12] tools headers UAPI: Sync linux/perf_event.h with
 the kernel sources</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH v8 11/12] perf tools: Add support for
 perf_event_attr::config4</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH v8 12/12] perf docs: arm-spe: Document new SPE filtering
 features</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/6] KVM: arm64: vgic-v3: Fix yet another lock ordering turd</h3>
                </div>

                <div class="thread-meta">
                    <span>8 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-05</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 VGIC（Virtual Generic Interrupt Controller）v3 的锁顺序问题，主要通过一系列补丁进行修复。<br><br>1. **原始 patch/问题的内容**：本次讨论的补丁（PATCH v2 0/6）旨在修复 VGIC v3 中的锁顺序问题，特别是与 LPI（Local Peripheral Interrupts）相关的锁管理。补丁包括对 IRQ 活动状态的注释更新、使用简单的引用计数管理 LPI、分离释放帮助函数、在不使用原始自旋锁的情况下从 xarray 中删除 LPI、放宽对 IRQ 禁用的要求以及指示 `vgic_put_irq()` 可能会获取 LPI xarray 锁。<br><br>2. **之前的讨论要点**：历史讨论中没有具体提及，但可以推测之前的讨论集中在锁的管理和潜在的死锁问题上。<br><br>3. **本周的新讨论、进展或结论**：在本周的讨论中，Oliver Upton 提交了六个补丁，逐步解决了锁顺序问题，并在邮件末尾确认这些补丁已被应用到修复分支中。补丁的主要改动包括：去除过时的注释、优化 LPI 的引用计数管理、改进锁的使用方式等。这些改动旨在提高代码的安全性和可维护性，避免潜在的锁竞争和死锁问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">[PATCH v2 0/6] KVM: arm64: vgic-v3: Fix yet another lock ordering turd</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">[PATCH v2 1/6] KVM: arm64: vgic: Drop stale comment on IRQ active state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">[PATCH v2 2/6] KVM: arm64: vgic-v3: Use bare refcount for VGIC LPIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">[PATCH v2 3/6] KVM: arm64: Spin off release helper from vgic_put_irq()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">[PATCH v2 4/6] KVM: arm64: vgic-v3: Erase LPIs from xarray outside of raw spinlocks</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">[PATCH v2 5/6] KVM: arm64: vgic-v3: Don't require IRQs be disabled for LPI xarray lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">[PATCH v2 6/6] KVM: arm64: vgic-v3: Indicate vgic_put_irq() may take LPI xarray lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH v2 0/6] KVM: arm64: vgic-v3: Fix yet another lock ordering turd</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/2] KVM: arm64: VHE: Debug fixes</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-02</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的是针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 VHE（Virtualization Host Extensions）模式的调试修复补丁。此次讨论的主要内容是两个补丁的提交和相关的代码改进。<br><br>第一个补丁（[PATCH v2 1/2]）旨在初始化 PMSCR_EL1 寄存器，以确保在 KVM 运行时不会意外地对来宾进行性能分析。之前的实现可能会因为 PMSCR_EL1 的未知重置值而导致不一致的行为。第二个补丁（[PATCH v2 2/2]）则修复了 MDCR_EL2 寄存器的保存与恢复逻辑，确保在 VCPU 加载和卸载时正确处理主机的 MDCR_EL2 值。<br><br>在历史讨论中，参与者对补丁的逻辑进行了评审，Oliver Upton 提出了代码组织方面的建议，认为 PMSCR_EL1 的初始化应当封装为一个独立的函数，以提高代码的可读性和维护性。<br><br>本周的进展包括补丁的最终确认和合并，Alexandru Elisei 采纳了 Oliver 的建议，并将其整合到第二个补丁中。最终，这两个补丁已被应用到修复分支中，标志着这一问题的解决。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v2 0/2] KVM: arm64: VHE: Debug fixes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v2 1/2] KVM: arm64: VHE: Initialize PMSCR_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v2 2/2] KVM: arm64: VHE: Save and restore host MDCR_EL2 value correctly</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">Re: [PATCH v2 1/2] KVM: arm64: VHE: Initialize PMSCR_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">Re: [PATCH v2 2/2] KVM: arm64: VHE: Save and restore host MDCR_EL2
 value correctly</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">Re: [PATCH v2 1/2] KVM: arm64: VHE: Initialize PMSCR_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH v2 0/2] KVM: arm64: VHE: Debug fixes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/7] Drivers: hv: Fix NEED_RESCHED_LAZY and use common APIs</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-08-27</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于修复 Hyper-V 驱动中的 `NEED_RESCHED_LAZY` 问题，并使用通用 API 的一系列补丁（PATCH v2 0/7）。原始补丁旨在解决 MSHV 根分区及上层 VTL 代码未能正确处理 `NEED_RESCHED_LAZY` 的错误，同时通过将 KVM 相关的 API 转换为更通用的虚拟化 API 来减少代码重复。<br><br>在历史讨论中，参与者主要关注了补丁的具体实现，包括将 KVM 的信号处理细节移入 KVM 本身，以及将 KVM 相关的代码命名更改为通用的“virt”命名，以便其他虚拟化平台也能复用这些代码。Sean Christopherson 提出了多个补丁，并得到了参与者的认可。<br><br>在本周的新讨论中，Thomas Gleixner 对补丁进行了审核并表示支持。同时，Wei Liu 通报已将大部分补丁应用到 `hyperv-next` 分支，但提到 `mshv_do_pre_guest_mode_work()` 函数的移除未被包含在内，建议将其合并到之前的补丁中。Sean Christopherson 也对此进行了回应，确认了这一点并提出了合并的建议。<br><br>总体而言，本周的讨论集中在补丁的审核和后续的代码整合上，显示出参与者对代码质量和一致性的重视。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-27]</span> <span class="email-subject">[PATCH v2 0/7] Drivers: hv: Fix NEED_RESCHED_LAZY and use common APIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-27]</span> <span class="email-subject">[PATCH v2 4/7] entry/kvm: KVM: Move KVM details related to
 signal/-EINTR into KVM proper</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-27]</span> <span class="email-subject">[PATCH v2 5/7] entry: Rename "kvm" entry code assets to "virt" to
 genericize APIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">Re: [PATCH v2 4/7] entry/kvm: KVM: Move KVM details related to
 signal/-EINTR into KVM proper</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Thomas Gleixner <span class="email-sender">&lt;tglx@linutronix.de&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">Re: [PATCH v2 5/7] entry: Rename "kvm" entry code assets to "virt"
 to genericize APIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Thomas Gleixner <span class="email-sender">&lt;tglx@linutronix.de&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">Re: [PATCH v2 0/7] Drivers: hv: Fix NEED_RESCHED_LAZY and use common
 APIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei Liu <span class="email-sender">&lt;wei.liu@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">Re: [PATCH v2 0/7] Drivers: hv: Fix NEED_RESCHED_LAZY and use common APIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Fix NULL pointer access issue</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-09-01</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构上修复 NULL 指针访问问题的补丁。补丁的核心内容是添加一个条件检查 `is_kvm_arm_initialised()`，以确保在访问每个 CPU 的数据指针之前，KVM 的初始化步骤已经完成，从而避免因未初始化而导致的 NULL 指针崩溃。<br><br>在之前的讨论中，参与者们关注到在 KVM 初始化未完成的情况下，调用某些函数可能会引发崩溃，而不仅仅是警告。James Clark 指出，如果 KVM 从未运行，相关函数可以直接跳过，而不需要发出警告。Marc Zyngier 进一步强调了在访问数据指针时必须确保 KVM 已经可用，以避免崩溃。<br><br>在本周的新讨论中，James 和 Marc 提出了对补丁的改进建议，认为警告的逻辑应当更清晰，并建议将警告移至条件检查的最后，以提高可读性。Yingchao Deng 表示将根据反馈更新补丁，并感谢大家的建议。整体来看，本周的讨论集中在补丁的逻辑清晰性和可读性上，推动了补丁的进一步完善。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH] KVM: arm64: Fix NULL pointer access issue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yingchao Deng <span class="email-sender">&lt;yingchao.deng@oss.qualcomm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix NULL pointer access issue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix NULL pointer access issue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix NULL pointer access issue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix NULL pointer access issue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix NULL pointer access issue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix NULL pointer access issue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yingchao Deng (Consultant) <span class="email-sender">&lt;quic_yingdeng@quicinc.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v10 00/43] arm64: Support for Arm CCA in KVM</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-20</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 Arm Confidential Compute Architecture (CCA) 在 KVM 中的支持，主要由 Steven Price 提出的补丁系列 [PATCH v10 00/43]。该补丁旨在实现受保护虚拟机的运行，相关的来宾支持已在 v6.14-rc1 中合并，补丁中修复了多个问题，并引入了新的功能。<br><br>在历史讨论中，Steven Price 提到了一些关键的补丁内容，包括在 KVM 初始化时检查 RME 支持、允许 VMM 设置 RIPAS 等。这些补丁经过了多位开发者的审查，显示出积极的反馈和改进建议。<br><br>在本周的新讨论中，Gavin Shan 对补丁提出了一些细微的修改建议，并分享了他在测试过程中遇到的问题，包括 virtio-iommu 不被 QEMU 支持、重启命令失效、以及在执行 'dump-guest-memory' 时导致 QEMU 异常退出等。这些问题的详细描述和解决思路也已与相关人员共享，显示出对补丁的深入测试和反馈。<br><br>总体来看，本周的讨论集中在补丁的细节优化和实际测试中遇到的挑战上，推动了对 Arm CCA 支持的进一步完善。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-20]</span> <span class="email-subject">[PATCH v10 00/43] arm64: Support for Arm CCA in KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-20]</span> <span class="email-subject">[PATCH v10 05/43] arm64: RME: Check for RME support at KVM init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-20]</span> <span class="email-subject">[PATCH v10 15/43] arm64: RME: Allow VMM to set RIPAS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">Re: [PATCH v10 05/43] arm64: RME: Check for RME support at KVM init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">Re: [PATCH v10 15/43] arm64: RME: Allow VMM to set RIPAS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">Re: [PATCH v10 00/43] arm64: Support for Arm CCA in KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V3 0/2] arm64/sysreg: Clean up TCR_EL1 field macros</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-01</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是对 ARM64 架构中的 TCR_EL1 寄存器字段宏的清理和更新，主要由 Anshuman Khandual 提出。原始的补丁（PATCH V3 0/2）旨在将分散在 ARM64 平台代码（包括 KVM 实现）中的 TCR_EL1 字段宏进行集中管理和更新，以便于维护和使用。补丁的更新不涉及功能性变化。<br><br>在之前的讨论中，Khandual 提到将 TCR_XXX 宏从 `asm/pgtable-hwdef.h` 移动到 KVM 头文件 `asm/kvm_arm.h` 中，以便在 KVM 中继续使用，同时更新了相关的寄存器字段定义。<br><br>本周的新讨论中，Khandual 提出了两个补丁的具体内容：第一个补丁更新了 TCR_EL1 寄存器字段以符合最新的 ARM 文档，并删除了冗余的 sysreg 定义；第二个补丁则将所有使用的 TCR_EL1 字段宏替换为工具 sysreg 变体，并将其从 `pgtable-hwdef.h` 中移除。Ben Horgan 对宏定义的变化提出了疑问，Khandual 认可了这些问题，并表示将进行必要的修改，确保宏定义的正确性和一致性。最终，Khandual 确认了一些宏可以被完全删除，简化了 KVM 中的宏定义。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH V3 0/2] arm64/sysreg: Clean up TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH V3 1/2] arm64/sysreg: Update TCR_EL1 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH V3 2/2] arm64/sysreg: Replace TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH V3 2/2] arm64/sysreg: Replace TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH V3 2/2] arm64/sysreg: Replace TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH V3 2/2] arm64/sysreg: Replace TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: nv: Allow shadow stage 2 read fault</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-22</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，主题为“允许阴影二级读取故障”。补丁的主要目的是处理在使用虚拟化时可能出现的二级读取权限故障，尤其是在涉及到网络虚拟化（NV）时。补丁建议在处理阴影二级故障时继续处理读取故障，而不是直接报错。<br><br>在历史讨论中，Wei-Lin Chang 提出了补丁，并解释了在 NV 的情况下，阴影映射的权限可能与 L1 的映射权限不一致，因此需要允许读取故障的处理。Marc Zyngier 对此表示支持，并提出了对 KVM 管理的 TLB（Translation Lookaside Buffer）持谨慎态度的看法。<br><br>在本周的新讨论中，Marc Zyngier 和 Wei-Lin Chang 进一步探讨了如何更好地利用来宾提供的权限信息，以避免在权限故障时重新遍历来宾的二级映射。Marc 提出可以将阴影 S2 视作更类似于 TLB 的结构，以便更有效地处理故障。Wei-Lin 对此表示理解，并感谢 Marc 的解释。<br><br>总体来看，本周的讨论深化了对补丁的理解，并推动了对阴影 S2 管理的进一步思考。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-22]</span> <span class="email-subject">[PATCH] KVM: arm64: nv: Allow shadow stage 2 read fault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei-Lin Chang <span class="email-sender">&lt;r09922117@csie.ntu.edu.tw&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-22]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: Allow shadow stage 2 read fault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-26]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: Allow shadow stage 2 read fault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei-Lin Chang <span class="email-sender">&lt;r09922117@csie.ntu.edu.tw&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: Allow shadow stage 2 read fault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-07]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: Allow shadow stage 2 read fault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei-Lin Chang <span class="email-sender">&lt;r09922117@csie.ntu.edu.tw&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7 05/12] arm64/boot: Factor out a macro to check SPE
 version</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-01</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 ARM64 启动代码的补丁，主题为“[PATCH v7 05/12] arm64/boot: Factor out a macro to check SPE version”。该补丁旨在将一个用于检查 SPE（可扩展性能监控）版本的宏提取出来，以提高代码的可读性和可维护性。<br><br>在之前的讨论中，参与者们并未详细记录，但可以推测出该补丁的提出是为了优化代码结构。邮件中提到的“宏”是指在代码中定义的一个常量或函数，用于简化特定操作的实现。<br><br>本周的新讨论主要集中在补丁的具体实现细节上。参与者 James Clark 提出，是否需要将该宏移动到文件的开头，以便在调用之前进行定义。Leo Yan 对此表示认同，并表示虽然不是强制要求，但为了保持一致性，确实可以考虑将宏移至文件开头。此外，关于其他补丁（如“[PATCH v7 06/12]”和“[PATCH v7 09/12]”）的讨论也得到了积极的反馈，Leo Yan 对这些补丁表示审核通过（Reviewed-by）。<br><br>总体来看，本周的讨论主要围绕补丁的细节优化和代码风格一致性展开，参与者们对补丁的方向表示支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v7 05/12] arm64/boot: Factor out a macro to check SPE
 version</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v7 06/12] arm64/boot: Enable EL2 requirements for
 SPE_FEAT_FDS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v7 09/12] perf: arm_spe: Add support for filtering on
 data source</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v7 06/12] arm64/boot: Enable EL2 requirements for
 SPE_FEAT_FDS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v7 05/12] arm64/boot: Factor out a macro to check SPE
 version</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Only free fully unmapped tables in stage2_free_walker()</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-04</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，旨在解决在 `stage2_free_walker()` 函数中错误释放未完全映射的页表的问题。<br><br>**原始补丁内容**：<br>补丁的核心是修复一个由 syzkaller 报告的使用后释放（use-after-free）问题，该问题源于对部分未映射页表的过早释放。补丁通过确保仅在页表引用计数为 1 时才释放页表，从而避免了潜在的内存安全问题。<br><br>**之前讨论要点**：<br>在历史讨论中，未提供具体的背景信息，但可以推测该问题与 KVM 页表的管理和释放策略有关，特别是在处理部分映射的页表时的复杂性。<br><br>**本周新讨论与进展**：<br>本周的讨论中，参与者对补丁进行了积极的反馈。Marc Zyngier 表示已审核通过，Alexander Potapenko 进行了测试并确认补丁有效。最终，Oliver Upton 宣布该补丁已被应用到修复分支中。这表明该补丁得到了社区的认可，并将改善 KVM 在 arm64 架构下的内存管理。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">[PATCH] KVM: arm64: Only free fully unmapped tables in stage2_free_walker()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Only free fully unmapped tables in stage2_free_walker()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Only free fully unmapped tables in stage2_free_walker()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexander Potapenko <span class="email-sender">&lt;glider@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Only free fully unmapped tables in stage2_free_walker()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] arm64: kvm: Fix incorrect VNCR invalidation range calculation</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-03</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是修复 arm64 KVM 中 VNCR 无效化范围计算的错误。原始的 patch 提出了在 `kvm_invalidate_vncr_ipa()` 和 `invalidate_vncr_va()` 函数中，使用位与运算符 `&` 与 `(size - 1)` 进行地址对齐的方式不正确，应该使用按位取反 `~(size - 1)`。该错误可能导致过时的 VNCR TLB 条目在 TLBI 或 MMU 通知后仍然有效，从而引发内存翻译错误和意外的来宾行为。<br><br>在之前的讨论中，未提及具体的历史背景，但本周的讨论中，Marc Zyngier 指出需要确保提交者的签名（SoB）格式正确，并对 patch 进行了初步审查，表示其看起来良好。Oliver Upton 也提出了建议，要求在发送新版本的 patch 时以新线程的形式发送，以便于组织和管理。<br><br>本周的进展包括 DongHa Lee 提交了 patch 的新版本（v2），修正了 SoB 的格式问题，并增加了更清晰的前缀。该版本得到了 Marc Zyngier 的审查确认，表示可以应用。整体来看，讨论围绕着代码修复的细节和提交格式的规范性展开，推动了 patch 的进一步完善和提交。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">[PATCH] arm64: kvm: Fix incorrect VNCR invalidation range calculation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: p@sswd.pw <span class="email-sender">&lt;p@sswd.pw&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">Re: [PATCH] arm64: kvm: Fix incorrect VNCR invalidation range calculation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: nv: Fix incorrect VNCR invalidation range
 calculation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">[PATCH v2] KVM: arm64: nv: Fix incorrect VNCR invalidation range calculation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: p@sswd.pw <span class="email-sender">&lt;p@sswd.pw&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: nested: Fix VA sign extension in VNCR/TLBI paths</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-01</span>
                </div>

                <div class="ai-summary">
                    本邮件主题为“[PATCH] KVM: arm64: nested: 修复 VNCR/TLBI 路径中的虚拟地址（VA）符号扩展问题”。该补丁旨在修正当前 VNCR/TLBI VA 重构过程中使用错误的符号位（48位），应使用47位，以避免在负半空间中错误地规范化地址，从而可能导致无效条目的遗漏和潜在的服务拒绝（DoS）问题。<br><br>在历史讨论中，补丁的背景和影响被详细阐述，包括错误的 VA 规范化、可能的过时 VNCR 伪TLB 条目，以及与其他问题结合时可能导致的错误翻译或权限问题。<br><br>本周的新讨论中，参与者对补丁内容进行了深入探讨。Marc Zyngier 对补丁中的某些论点提出质疑，要求更清晰的解释，并指出某些技术细节的误解。Greg KH 则对补丁的签名和使用的电子邮件地址提出了异议，强调了邮件地址的真实性。<br><br>总体来看，本周的讨论主要集中在补丁的技术细节和有效性上，尚未达成最终结论。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH] KVM: arm64: nested: Fix VA sign extension in VNCR/TLBI paths</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gyujeong Jin <span class="email-sender">&lt;wlsrbwjd7232@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nested: Fix VA sign extension in VNCR/TLBI paths</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nested: Fix VA sign extension in VNCR/TLBI
 paths</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Greg KH <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nested: Fix VA sign extension in VNCR/TLBI
 paths</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Greg KH <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V4 0/2] arm64/sysreg: Clean up TCR_EL1 field macros</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-07</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于对 ARM64 架构中 TCR_EL1 字段宏的清理和更新，主要涉及两个补丁（PATCH V4 0/2）。<br><br>**原始补丁内容**：<br>补丁的目的是清理分散在 ARM64 平台代码（包括 KVM 实现）中的 TCR_EL1 字段宏，通过更新所需的寄存器字段定义并进行必要的替换，最终将所有相关的 TCR_XXX 宏从 `asm/pgtable-hwdef.h` 移动到 KVM 头文件 `asm/kvm_arm.h`，以便在 KVM 中继续使用。<br><br>**之前的讨论要点**：<br>在之前的版本中，补丁经历了多次修改，包括删除未使用的 TCR_XXX 宏、修正 ARM ARM 版本号，以及将 KVM 中的 TCR_XXX 标志表达为 TCR_EL1_XXX 标志等。这些修改旨在确保代码的整洁性和一致性，同时不引入功能性变化。<br><br>**本周的新讨论与进展**：<br>本周的讨论主要集中在补丁的最终版本上，Anshuman Khandual 提出了两个补丁：第一个补丁更新了 TCR_EL1 寄存器字段以符合最新的 ARM 文档，并删除了冗余的 sysreg 定义；第二个补丁则将所有使用的 TCR_EL1 字段宏替换为工具 sysreg 变体，并将其从头文件中删除。所有这些改动都没有引入功能性变化，确保了代码的清晰和维护性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-07]</span> <span class="email-subject">[PATCH V4 0/2] arm64/sysreg: Clean up TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-07]</span> <span class="email-subject">[PATCH V4 1/2] arm64/sysreg: Update TCR_EL1 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-07]</span> <span class="email-subject">[PATCH V4 2/2] arm64/sysreg: Replace TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 00/15] KVM: Introduce KVM Userfault</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-04</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是“[PATCH v3 00/15] KVM: 引入 KVM Userfault”，该补丁旨在为 KVM（内核虚拟机）引入用户故障处理功能。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测该补丁的提出是为了增强 KVM 的功能，特别是与 Firecracker 等虚拟化解决方案的兼容性。<br><br>本周的新讨论中，Nikita Kalyazin 表达了对该补丁的需求，指出他们希望在 Firecracker 中利用 KVM Userfault 功能来从快照恢复基于 guest_memfd 的虚拟机。James Houghton 也表示将尽快提供 QEMU 补丁，以展示 KVM Userfault 的有效性，并提到当前的“阻碍”主要是 kvm_page_fault 相关的内容，KVM Userfault 将是该 API 的首个用户。Sean Christopherson 进一步指出，虽然他之前没有积极推动该系列补丁，但现在看到有需求后会加快进程，并表示需要与其他开发者对接口进行协调，以确保架构中立的代码实现。<br><br>总体来看，本周讨论集中在推动 KVM Userfault 的合并进程及其在实际应用中的示范，显示出开发者们对该功能的积极关注和支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">Re: [PATCH v3 00/15] KVM: Introduce KVM Userfault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Nikita Kalyazin <span class="email-sender">&lt;kalyazin@amazon.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">Re: [PATCH v3 00/15] KVM: Introduce KVM Userfault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH v3 00/15] KVM: Introduce KVM Userfault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: nested: fix VNCR TLB ASID match logic for non-Global entries</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-04</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，旨在修复 VNCR TLB（Translation Lookaside Buffer）ASID（Address Space Identifier）匹配逻辑的问题，特别是针对非全局条目的处理。<br><br>补丁的核心内容是修正 `kvm_vncr_tlb_lookup()` 函数的逻辑，使其在处理非全局条目时，只有当 ASID 匹配时才返回真。之前的实现逻辑是当 ASID 不匹配时返回真，这可能导致有效条目被忽略，从而影响性能，并可能错误地将过期的翻译视为有效。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测该问题已被关注并提出了修复建议。<br><br>在本周的新讨论中，Geonha Lee 提出了补丁并描述了潜在的安全漏洞，Marc Zyngier 对补丁表示认可，指出在宿主机上不立即看到漏洞，但在客机上确实存在。他还建议修改报告者的格式以符合规范。最终，Oliver Upton 确认补丁已被应用到修复列表中，标志着该问题的解决。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">[PATCH] KVM: arm64: nested: fix VNCR TLB ASID match logic for non-Global entries</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Geonha Lee <span class="email-sender">&lt;w1nsom3gna@korea.ac.kr&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nested: fix VNCR TLB ASID match logic for non-Global entries</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nested: fix VNCR TLB ASID match logic for non-Global entries</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v6 00/24] Tracefs support for pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-21</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 pKVM 的 Tracefs 支持的补丁系列，主要由 Vincent Donnefort 提出。补丁的核心内容是引入 Tracefs 作为调试和性能分析工具，以支持保护模式下的虚拟化特性。Tracefs 具有易于使用和脚本化的优点，并且与多种工具兼容，适合在内核和虚拟机监控程序之间共享。<br><br>在历史讨论中，Vincent 提出了多个补丁，其中包括 Tracefs 接口的自测功能，旨在验证加载/卸载、重置、缓冲区大小变化和事件完整性等功能。这些补丁为 Tracefs 的使用提供了必要的测试框架。<br><br>在本周的新讨论中，Masami Hiramatsu 针对补丁中的自测部分提出了一些建议。他指出测试需要依赖于 `remotes/`，并建议在测试中添加相应的依赖声明。此外，他还建议使用 `$TMPDIR` 代替 `/tmp` 作为临时工作目录，并指出补丁中存在的代码风格问题，建议使用 `printf` 来避免检查脚本中的不兼容性。<br><br>总体来看，本周的讨论集中在补丁的细节改进和代码质量提升上，推动了 Tracefs 支持 pKVM 的进一步完善。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-21]</span> <span class="email-subject">[PATCH v6 00/24] Tracefs support for pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-21]</span> <span class="email-subject">[PATCH v6 12/24] tracing: selftests: Add trace remote tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-03]</span> <span class="email-subject">Re: [PATCH v6 12/24] tracing: selftests: Add trace remote tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Masami Hiramatsu (Google) <span class="email-sender">&lt;mhiramat@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 4/5] arm64: initialise SCTLR2_EL1 at cpu_soft_restart()</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-20</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 `cpu_soft_restart()` 函数中初始化 `SCTLR2_EL1` 的补丁（PATCH v3 4/5），主要针对 ARM64 架构。历史讨论中，Yeoreum Yun 提出应基于 ID 寄存器来进行初始化，以确保新内核的清洁状态。Dave Martin 则指出，在某些情况下，`cpu_soft_restart()` 可能在能力未启用时被调用，因此需要考虑如何处理这一点。<br><br>本周的新讨论中，Dave Martin 强调即使 `ARM64_HAS_SCTLR2` 能力未设置，也应该重置 `SCTLR2_EL1`。他指出，`cpu_soft_restart()` 的职责类似于引导加载程序，应该将 CPU 置于已知状态，特别是在当前内核崩溃后启动崩溃内核时，避免对系统状态做过多假设。Dave 还表示将会查看 v4 版本的补丁，认为 Yeoreum 的重写看起来不错。<br><br>总结而言，讨论围绕如何确保在软重启过程中 CPU 状态的正确性，强调了在不同内核状态下的初始化重要性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v3 4/5] arm64: initialise SCTLR2_EL1 at cpu_soft_restart()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-20]</span> <span class="email-subject">Re: [PATCH v3 4/5] arm64: initialise SCTLR2_EL1 at cpu_soft_restart()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v3 4/5] arm64: initialise SCTLR2_EL1 at cpu_soft_restart()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3] KVM: arm64: nv: Fix incorrect VNCR invalidation range calculation</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-06</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于修复 KVM（内核虚拟机）在 arm64 架构下 VNCR（虚拟网络控制寄存器）无效化范围计算的错误。原始的 patch 提出了在 `kvm_invalidate_vncr_ipa()` 和 `invalidate_vncr_va()` 函数中，错误地使用了按位与运算符 `&` 与 `(size - 1)`，而应使用按位取反运算符 `~(size - 1)` 来对齐起始地址。这一错误可能导致 VNCR TLB（翻译后备缓冲区）条目在 TLBI（翻译无效指令）或 MMU（内存管理单元）通知后仍然有效，从而引发内存翻译错误和意外的访客行为。<br><br>在之前的讨论中，邮件中并未提及具体的历史讨论内容，但可以推测该问题的严重性引起了开发者的关注。<br><br>在本周的新讨论中，Dongha Lee 提交了修复的 patch，并得到了 Oliver Upton 的确认，表示该修复已被应用到修复补丁中。该 patch 的提交链接也被提供，确保了修复的透明性和可追溯性。整体来看，本周的进展表明该问题得到了及时的处理和解决。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-06]</span> <span class="email-subject">[PATCH v3] KVM: arm64: nv: Fix incorrect VNCR invalidation range calculation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: p@sswd.pw <span class="email-sender">&lt;p@sswd.pw&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH v3] KVM: arm64: nv: Fix incorrect VNCR invalidation range calculation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Mark freed S2 MMUs as invalid</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-05</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下处理 S2 MMU（内存管理单元）释放时的一个补丁。Marc Zyngier 提出的补丁旨在解决在释放 S2 MMU 时未将其标记为无效的问题，导致在调用 `kvm_nested_s2_unmap()` 时可能会尝试解除映射未分配的页表，从而引发警告。<br><br>在之前的讨论中，Marc 指出，当前实现中在释放 S2 MMU 关联的 pgd（页全局目录）时，未能将该结构标记为无效，这会导致后续操作出现问题。为了解决这一问题，补丁通过调用 `kvm_init_nested_s2_mmu()` 来确保在释放 pgd 时将 S2 MMU 标记为无效。<br><br>在本周的新讨论中，Oliver Upton 对该补丁表示感谢并确认已将其应用于修复列表中，表明该问题已得到解决并纳入了代码库的更新中。补丁的提交记录也已提供，确保了后续的追踪和管理。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">[PATCH] KVM: arm64: Mark freed S2 MMUs as invalid</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Mark freed S2 MMUs as invalid</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2] KVM: arm64: Fix NULL pointer access issue</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-02</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于修复 KVM（Kernel-based Virtual Machine）在 arm64 架构下的空指针访问问题。原始的 patch 提出了在 Linux 启动于 EL1 模式时，`host_data_ptr()` 宏可能导致空指针解引用的问题，因为在 KVM 初始化过程中，如果 Hyp 模式不可用，相关的每 CPU 基址指针将保持未初始化状态。为了解决这个问题，patch 中增加了对 `is_kvm_arm_initialised()` 的条件检查，以确保 KVM 初始化完成所有必要步骤，从而避免空指针访问。<br><br>在之前的讨论中，参与者并未提供详细的背景信息，但可以推测此问题与 KVM 的 trace 过滤功能有关。<br><br>本周的新讨论中，Yingchao Deng 提交了 patch 的 v2 版本，并对代码进行了小幅修改以提高可读性。Oliver Upton 对该 patch 提出了改进建议，认为短日志描述不够清晰，并建议更明确地描述功能变化。此外，他指出警告条件的顺序应调整，以确保在调用这些帮助函数时，能够优先检查系统配置是否正确。整体上，本周讨论集中在 patch 的描述和代码可读性上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-02]</span> <span class="email-subject">[PATCH v2] KVM: arm64: Fix NULL pointer access issue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yingchao Deng <span class="email-sender">&lt;yingchao.deng@oss.qualcomm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-04]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Fix NULL pointer access issue</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: nested: Fix VA sign extension in VNCR/TLBI paths</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-01</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（内核虚拟机）在 arm64 架构下的补丁，旨在修复 VNCR/TLBI 路径中的虚拟地址（VA）符号扩展问题。<br><br>1. **原始补丁内容**：补丁修改了 `arch/arm64/kvm/nested.c` 文件中的代码，具体是将 `sign_extend64` 函数的第二个参数由 48 改为 47，以修复虚拟地址的符号扩展问题。<br><br>2. **之前的讨论要点**：由于本邮件线程没有提供历史讨论的内容，因此无法总结之前的讨论要点。<br><br>3. **本周的新讨论及进展**：本周的讨论主要集中在补丁的合理性上。Marc Zyngier 对补丁提出质疑，指出代码并非为了虚拟地址的符号扩展，而是为了在 RESS 和 BADDR 中传播第 48 位的值。他提到，已经在建立翻译时检查了虚拟地址的规范性，并且在这种情况下不会安装 TLB。Marc 还请求补丁作者提供更多解释，以澄清其修改的必要性。<br><br>总的来说，本周的讨论强调了对补丁逻辑的质疑，表明在符号扩展的处理上可能存在误解。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">[PATCH] KVM: arm64: nested: Fix VA sign extension in VNCR/TLBI paths</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gyujeong Jin <span class="email-sender">&lt;wlsrbwjd7232@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nested: Fix VA sign extension in VNCR/TLBI paths</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7 00/29] KVM: arm64: Implement support for SME</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-22</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构上实现对 SME（Scalable Matrix Extension）的支持，相关的补丁为 PATCH v7 00/29。<br><br>在历史讨论中，Mark Brown 提出了该补丁的主要关注点，包括用户空间 ABI 的设计，特别是 SVE（Scalable Vector Extension）寄存器的向量长度、对 SVE 寄存器及 ZA 和 ZT0 的访问，以及如何在 PSTATE.{SM,ZA} 状态下进行控制。此外，他还提到了希望能够实现类似于 FGU 的细粒度陷阱控制。<br><br>在本周的新讨论中，Marc Zyngier 建议将 QEMU 开发者纳入讨论，因为他们是使用这些 API 的关键参与者，特别提到了 Peter Maydell 和 Eric Auger 作为潜在的联系对象。这一建议旨在确保补丁的设计能够满足 QEMU 的需求，从而促进更好的兼容性和功能实现。<br><br>总结而言，讨论围绕 KVM 对 SME 支持的补丁展开，历史讨论中明确了技术细节和关注点，而本周的进展则是建议扩大参与者范围，以增强补丁的实用性和适用性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-22]</span> <span class="email-subject">[PATCH v7 00/29] KVM: arm64: Implement support for SME</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v7 00/29] KVM: arm64: Implement support for SME</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/4] Add workaround for HIP10/HIP10C erratum 162200802</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-08-25</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是针对HIP10/HIP10C erratum 162200802的补丁（PATCH v2 0/4）。该补丁的主要内容是首先添加对GICD.num_LPIs的可写支持，然后针对HiSilicon的特定错误进行修复。在历史讨论中，Zhou Wang指出在V1版本中错误地标记了错误编号，因此在V2版本中进行了修正。<br><br>在本周的新讨论中，Zhou Wang重申了补丁的结构，强调该系列补丁首先实现了GICD.num_LPIs的可写支持，随后添加了针对该错误的补丁。他表示，如果该补丁系列得到认可，将会准备与QEMU相关的补丁。此外，他还提供了V1版本的链接以供参考。<br><br>总体来看，讨论围绕着对特定硬件错误的修复补丁展开，强调了补丁的必要性和后续工作计划。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-25]</span> <span class="email-subject">[PATCH v2 0/4] Add workaround for HIP10/HIP10C erratum 162200802</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhou Wang <span class="email-sender">&lt;wangzhou1@hisilicon.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v2 0/4] Add workaround for HIP10/HIP10C erratum 162200802</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhou Wang <span class="email-sender">&lt;wangzhou1@hisilicon.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v5 0/7] Add support for FEAT_{LS64, LS64_V} and related tests</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-08-18</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于添加对 Armv8.7 中 FEAT_{LS64, LS64_V} 特性的支持及相关测试的补丁（PATCH v5 0/7）。该补丁的主要内容包括：在 CPU 特性列表中识别和启用 FEAT_{LS64, LS64_V}，通过 HWCAP3 和 cpuinfo 向用户空间暴露这些特性的支持，添加相关的硬件能力测试，以及在虚拟机中处理对不支持的内存（正常/不可缓存）访问的陷阱。<br><br>在历史讨论中，Yicong Yang 提出了该补丁的背景，强调了 Armv8.7 引入的单副本原子 64 字节加载和存储指令的必要性，并指出了这些特性在实际场景中的应用。<br><br>本周的新讨论中，Yicong Yang 对之前的讨论进行了跟进，询问 Marc 和 Oliver 是否认为当前版本的补丁是合适的，可以继续推进。讨论的重点主要集中在 KVM/Hypervisor 对 LS64 故障处理的相关问题上。整体来看，补丁的推进依赖于对这些故障处理机制的进一步确认与讨论。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-18]</span> <span class="email-subject">[PATCH v5 0/7] Add support for FEAT_{LS64, LS64_V} and related tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v5 0/7] Add support for FEAT_{LS64, LS64_V} and related
 tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: vgic: fix incorrect spinlock API usage</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-07</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于修复 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 vgic（虚拟通用中断控制器）代码中不正确的自旋锁 API 使用问题。具体来说，原始的 patch 提出了在函数 vgic_flush_lr_state() 中，使用了低级 API _raw_spin_unlock()，而应使用更为合适的 raw_spin_unlock()。<br><br>在之前的讨论中，虽然没有具体的邮件记录，但可以推测出，开发者们关注到了自旋锁的正确使用，以确保在 vgic 代码中遵循内核的锁定语义和约定。此 patch 的目的是避免直接使用低级 API，提升代码的可维护性和一致性。<br><br>本周的讨论由 Alok Tiwari 提出，明确指出了这一问题并提交了修复 patch。该 patch 通过替换低级 API 的使用，确保了 vgic 代码的锁定语义符合内核标准。修复的具体内容是在 vgic.c 文件中进行了相应的代码修改，确保使用正确的 raw_spin_unlock() 函数。此 patch 的提交标志着对代码质量和稳定性的进一步提升。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-07]</span> <span class="email-subject">[PATCH] KVM: arm64: vgic: fix incorrect spinlock API usage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alok Tiwari <span class="email-sender">&lt;alok.a.tiwari@oracle.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: nv: Optimize unmapping of shadow S2-MMU
 tables</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-05</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于优化 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 S2-MMU（第二级内存管理单元）影像表的反映操作。该补丁旨在提高反映过程的效率，从而提升虚拟化性能。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测该补丁的提出是基于对现有 S2-MMU 反映机制的性能瓶颈的识别。参与者可能讨论了当前实现的不足之处，以及优化的必要性。<br><br>在本周的新讨论中，Ganapatrao Kulkarni 对补丁进行了回复，表示歉意并提到使用了旧的 kvmarm 邮件列表 ID。虽然没有具体的技术细节或反馈，但这一回复表明参与者对补丁的关注，并可能在后续讨论中继续深入探讨该优化的实现和效果。整体来看，本周的讨论尚处于初步阶段，尚未形成具体的结论或进一步的技术反馈。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: Optimize unmapping of shadow S2-MMU
 tables</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ganapatrao Kulkarni <span class="email-sender">&lt;gankulkarni@os.amperecomputing.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH RESEND v7 0/6] support FEAT_LSUI and apply it on futex
 atomic ops</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-01</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于支持 FEAT_LSUI 特性并将其应用于 futex 原子操作的补丁（patch）。该补丁旨在提升 Linux 内核在处理 futex 时的性能和效率。<br><br>在之前的讨论中，虽然没有具体的邮件记录，但可以推测该补丁的提出是基于对现有 futex 实现的性能分析，可能涉及到对原子操作的优化需求。FEAT_LSUI 是一种新的硬件特性，允许在特定条件下更高效地执行负载和存储操作，因此其支持将有助于提升系统的整体性能。<br><br>在本周的新讨论中，参与者 Yeoreum Yun 提出了对该补丁的温和提醒，表示希望能引起更多的关注，防止该补丁被遗忘。这表明该补丁仍在等待进一步的反馈或审查，尚未得到最终的确认或合并。<br><br>总体来看，该补丁的讨论进展缓慢，参与者希望能加速审查过程，以便尽快将其纳入内核主线。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-01]</span> <span class="email-subject">Re: [PATCH RESEND v7 0/6] support FEAT_LSUI and apply it on futex
 atomic ops</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Other</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>kvm-unit-tests hang on Arm FVP with protected mode</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-05</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论主题为“在 Arm FVP 上使用保护模式时，kvm-unit-tests 挂起”的问题。Naresh Kamboju 提出了一个问题，指出在使用 `kvm-arm.mode=protected` 启动时，kvm-unit-tests 在 Arm FVP 平台上始终挂起，而使用 `kvm-arm.mode=vhe` 则可以成功完成测试。他通过回归分析确定了第一个引入该问题的提交为 `066daa8d3bc2694c392e14091978043aed7b1f23`，该提交涉及在 pKVM 中初始化 HCRX_EL2 陷阱。<br><br>在本周的新讨论中，Marc Zyngier 对 Naresh 的报告提出质疑，指出 `kvm-arm.mode=vhe` 并不是一个有效的选项，并要求明确指出导致失败的具体测试。此外，Marc 还提到从日志来看，测试在尝试执行第一个测试时就已挂起，可能与 CPU 数量不匹配有关。Mark Brown 也支持这一观点，指出他们无法访问某些日志文件，并怀疑这个问题可能在主线版本和 -next 版本中都存在。<br><br>总结而言，本周的讨论围绕 kvm-unit-tests 在特定模式下的挂起问题展开，参与者们对问题的根源进行了分析，但仍需进一步确认具体的测试和日志信息。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">kvm-unit-tests hang on Arm FVP with protected mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Naresh Kamboju <span class="email-sender">&lt;naresh.kamboju@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: kvm-unit-tests hang on Arm FVP with protected mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">Re: kvm-unit-tests hang on Arm FVP with protected mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH] arm64: mte: Fix MTE granule mask</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-05</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 ARM64 架构下 MTE（Memory Tagging Extension）相关的一个补丁，旨在修复 MTE 的 granule mask 计算问题。<br><br>1. **原始 patch/问题的内容**：补丁的主要内容是修正 MTE_GRANULE_MASK 的定义，以确保在与 MTE_TAG_SHIFT 一起使用时能够生成正确的掩码。具体修改为将 MTE_GRANULE_MASK 的定义从 `(~(MTE_GRANULE_SIZE - 1))` 更改为 `(MTE_GRANULE_SIZE - 1)`。<br><br>2. **之前的讨论要点**：本邮件线程没有历史讨论，只有本周的新讨论。<br><br>3. **本周的新讨论、进展或结论**：本周的讨论由 Vladimir Murzin 提出，提交了上述补丁并进行了说明。补丁已完成，并包含了对代码的具体修改，确保了 MTE 功能的正确性。邮件中附带了修改后的代码片段，表明了具体的改动。<br><br>总的来说，本周的讨论集中在修复 MTE 相关的代码问题上，确保了 ARM64 架构下 MTE 功能的准确性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-05]</span> <span class="email-subject">[kvm-unit-tests PATCH] arm64: mte: Fix MTE granule mask</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vladimir Murzin <span class="email-sender">&lt;vladimir.murzin@arm.com&gt;</span></div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
