<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVMARM 邮件列表 AI 总结报告</title>
    <style>
        body {
            font-family: 'Courier New', 'Courier', monospace;
            line-height: 1.5;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 40px;
            background-color: #ffffff;
            color: #222;
        }
        .container {
            background: #ffffff;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
            color: #000;
            margin-bottom: 0.3em;
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 15px;
        }
        h2 {
            font-size: 1.6em;
            font-weight: bold;
            color: #000;
            margin-top: 2em;
            margin-bottom: 0.6em;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 1.2em;
            font-weight: bold;
            color: #111;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h4 {
            font-size: 1.05em;
            font-weight: bold;
            color: #333;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
        }
        .meta-info {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px 20px;
            margin: 20px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        .meta-info p {
            margin: 6px 0;
            color: #444;
        }
        .meta-info strong {
            color: #000;
            font-weight: bold;
        }
        .stats {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid #000;
        }
        .stat-card {
            display: table-cell;
            border: 1px solid #000;
            padding: 12px 15px;
            text-align: center;
            background: #fafafa;
        }
        .stat-card h3 {
            margin: 0;
            color: #000;
            font-size: 1.8em;
            font-weight: bold;
            border: none;
            padding: 0;
        }
        .stat-card p {
            margin: 5px 0 0 0;
            color: #444;
            font-size: 0.9em;
            font-weight: normal;
        }
        .category {
            margin: 30px 0;
        }
        .thread {
            margin: 25px 0;
            padding: 15px;
            background: #fafafa;
            border: 1px solid #ccc;
            page-break-inside: avoid;
        }
        .thread-header {
            margin-bottom: 12px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .thread-header h3 {
            font-size: 1.15em;
            font-weight: bold;
            color: #000;
            margin: 0;
        }
        .thread-meta {
            display: block;
            margin: 8px 0 12px 0;
            font-size: 0.9em;
            color: #555;
            font-style: italic;
        }
        .thread-meta span {
            margin-right: 15px;
        }
        .ai-summary {
            background: #fff;
            border-left: 3px solid #666;
            padding: 12px 15px;
            margin: 15px 0;
            line-height: 1.6;
            color: #222;
            font-style: italic;
        }
        .email-list {
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px 15px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.88em;
            line-height: 1.5;
            overflow-x: auto;
            margin: 10px 0;
        }
        .email-item {
            margin: 4px 0;
            padding: 2px 0;
            color: #222;
        }
        .email-item.historical {
            background: #f5f5f5;
            border-left: 3px solid #999;
            padding-left: 8px;
            opacity: 0.8;
        }
        .email-item.new {
            background: #fffef0;
            border-left: 3px solid #0066cc;
            padding-left: 8px;
        }
        .email-date {
            color: #0066cc;
            font-weight: bold;
        }
        .email-date.historical {
            color: #666;
        }
        .email-sender {
            color: #c30;
            font-weight: normal;
        }
        .email-subject {
            color: #000;
        }
        .historical-marker {
            color: #999;
            font-size: 0.85em;
            font-style: italic;
        }
        .new-marker {
            color: #0066cc;
            font-size: 0.85em;
            font-weight: bold;
        }
        .archive-link {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            background: #333;
            color: #fff;
            text-decoration: none;
            border: 2px solid #000;
            font-weight: bold;
            transition: all 0.2s;
        }
        .archive-link:hover {
            background: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KVMARM Mailing List Analysis Report</h1>

        <div class="meta-info">
            <p><strong>Generated:</strong> 2025-10-27 10:27</p>
            <p><strong>Time Period:</strong> 2025年5月 第19周 (05/05 - 05/11)</p>
            <p><strong>Total Messages:</strong> 278 | <strong>Total Threads:</strong> 31</p>
            <p style="text-align: center;"><a href="archive.html" class="archive-link">📚 历史归档 Archive</a></p>
        </div>


        <div class="category">
            <h2>PATCH</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 00/43] KVM: arm64: Revamp Fine Grained Trap handling</h3>
                </div>

                <div class="thread-meta">
                    <span>47 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-05-06</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的细粒度陷阱（Fine Grained Trap，FGT）处理的改进，特别是对 FEAT_FGT2 特性的支持。<br><br>1. **原始 patch/问题的内容**：<br>   本次讨论的补丁系列（PATCH v4 00/43）旨在重构 KVM 的细粒度陷阱处理，主要是为支持新引入的 FEAT_FGT2 特性而进行的改进。补丁中增加了对 FEAT_FGT2 寄存器的处理，包括注册、描述和陷阱路由等。<br><br>2. **之前的讨论要点**：<br>   在之前的讨论中，Marc Zyngier 提到该补丁系列的规模已大幅增加，急需合并或放弃。同时，补丁中修复了一些注释中的错误，清理了代码，确保了对新寄存器的全面支持。<br><br>3. **本周的新讨论、进展或结论**：<br>   本周的讨论主要集中在补丁的具体实现上，包括：<br>   - 增加了对 FEAT_FGT2 寄存器的描述和陷阱处理。<br>   - 引入了新的 FGT 措施以确保 KVM 在处理这些寄存器时的安全性。<br>   - 增加了对 FEAT_FGT2 寄存器的上下文切换支持，确保主机配置不会泄漏到客户机。<br>   - 讨论了如何使用表驱动的方式配置 FGU（Fine Grained Unit）行为，以简化代码并提高可维护性。<br>   - Joey Gouly 和 Marc Zyngier 之间的交流表明，尽管补丁复杂，但他们对改进的方向表示认可，并讨论了未来可能的优化。<br><br>总的来说，本次讨论的补丁系列在增强 KVM 对细粒度陷阱的支持方面取得了显著进展，确保了新特性的兼容性和安全性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 00/43] KVM: arm64: Revamp Fine Grained Trap handling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 01/43] arm64: sysreg: Add ID_AA64ISAR1_EL1.LS64 encoding for FEAT_LS64WB</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 02/43] arm64: sysreg: Update ID_AA64MMFR4_EL1 description</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 03/43] arm64: sysreg: Add layout for HCR_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 04/43] arm64: sysreg: Replace HFGxTR_EL2 with HFG{R,W}TR_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 05/43] arm64: sysreg: Update ID_AA64PFR0_EL1 description</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 06/43] arm64: sysreg: Update PMSIDR_EL1 description</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 07/43] arm64: sysreg: Update TRBIDR_EL1 description</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 08/43] arm64: sysreg: Update CPACR_EL1 description</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 09/43] arm64: sysreg: Add registers trapped by HFG{R,W}TR2_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 10/43] arm64: sysreg: Add registers trapped by HDFG{R,W}TR2_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 11/43] arm64: sysreg: Add system instructions trapped by HFGIRT2_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 12/43] arm64: Remove duplicated sysreg encodings</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 13/43] arm64: tools: Resync sysreg.h</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 14/43] arm64: Add syndrome information for trapped LD64B/ST64B{,V,V0}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 15/43] arm64: Add FEAT_FGT2 capability</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 16/43] KVM: arm64: Tighten handling of unknown FGT groups</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 17/43] KVM: arm64: Simplify handling of negative FGT bits</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 18/43] KVM: arm64: Handle trapping of FEAT_LS64* instructions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 19/43] KVM: arm64: Restrict ACCDATA_EL1 undef to FEAT_LS64_ACCDATA being disabled</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 20/43] KVM: arm64: Don't treat HCRX_EL2 as a FGT register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 21/43] KVM: arm64: Plug FEAT_GCS handling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 22/43] KVM: arm64: Compute FGT masks from KVM's own FGT tables</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 23/43] KVM: arm64: Add description of FGT bits leading to EC!=0x18</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 24/43] KVM: arm64: Use computed masks as sanitisers for FGT registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 25/43] KVM: arm64: Unconditionally configure fine-grain traps</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 26/43] KVM: arm64: Propagate FGT masks to the nVHE hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 27/43] KVM: arm64: Use computed FGT masks to setup FGT registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 28/43] KVM: arm64: Remove hand-crafted masks for FGT registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 29/43] KVM: arm64: Use KVM-specific HCRX_EL2 RES0 mask</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 30/43] KVM: arm64: Handle PSB CSYNC traps</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 31/43] KVM: arm64: Switch to table-driven FGU configuration</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 32/43] KVM: arm64: Validate FGT register descriptions against RES0 masks</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 33/43] KVM: arm64: Use FGT feature maps to drive RES0 bits</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 34/43] KVM: arm64: Allow kvm_has_feat() to take variable arguments</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 35/43] KVM: arm64: Use HCRX_EL2 feature map to drive fixed-value bits</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 36/43] KVM: arm64: Use HCR_EL2 feature map to drive fixed-value bits</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 37/43] KVM: arm64: Add FEAT_FGT2 registers to the VNCR page</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 38/43] KVM: arm64: Add sanitisation for FEAT_FGT2 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 39/43] KVM: arm64: Add trap routing for FEAT_FGT2 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 40/43] KVM: arm64: Add context-switch for FEAT_FGT2 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 41/43] KVM: arm64: Allow sysreg ranges for FGT descriptors</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 42/43] KVM: arm64: Add FGT descriptors for FEAT_FGT2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 43/43] KVM: arm64: Handle TSB CSYNC traps</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH v4 27/43] KVM: arm64: Use computed FGT masks to setup FGT
 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH v4 31/43] KVM: arm64: Switch to table-driven FGU
 configuration</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-10]</span> <span class="email-subject">Re: [PATCH v4 31/43] KVM: arm64: Switch to table-driven FGU configuration</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 00/24] Tracefs support for pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>32 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-05-06</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 pKVM 的 Tracefs 支持的补丁系列，主要内容如下：<br><br>1. **原始补丁内容**：该补丁系列（[PATCH v4 00/24]）旨在为 pKVM 超级管理程序引入 Tracefs 支持，以便于调试和性能分析。补丁中包括了创建远程事件和缓冲区的通用方法，并为 pKVM 超级管理程序添加了支持。<br><br>2. **历史讨论要点**：之前的讨论集中在如何实现远程环形缓冲区和 Tracefs 目录结构，以便于用户空间工具的访问。补丁中提到的环形缓冲区和 Tracefs 结构的设计旨在确保超管与内核之间的高效数据共享。<br><br>3. **本周的新讨论与进展**：<br>   - 本周的讨论中，Vincent Donnefort 提出了多个补丁，涵盖了环形缓冲区的实现、Tracefs 目录的创建、事件的支持等。特别是引入了 `REMOTE_EVENT()` 宏以简化事件的声明。<br>   - Steven Rostedt 对补丁提出了多项建议，包括代码注释、错误处理和内存泄漏的防范等，确保代码的可读性和健壮性。<br>   - 讨论中还提到需要确保 Tracefs 结构的一致性，并考虑到用户空间的使用情况。<br><br>总的来说，本周的讨论推动了 pKVM 超级管理程序的 Tracefs 支持的进一步实现，涉及到的补丁将为内核提供更好的调试和性能分析能力。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 00/24] Tracefs support for pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 01/24] ring-buffer: Introduce ring-buffer remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 02/24] tracing: Introduce trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 03/24] tracing: Add reset to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 04/24] tracing: Add init callback to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 05/24] tracing: Add events to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 06/24] tracing: Add events/ root files to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 07/24] tracing: Add helpers to create trace remote events</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 08/24] ring-buffer: Expose buffer_data_page material</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 09/24] tracing: Introduce simple_ring_buffer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 10/24] tracing: Add a trace remote module for testing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 11/24] tracing: selftests: Add trace remote tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 12/24] tracing: load/unload page callbacks for simple_ring_buffer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 13/24] tracing: Check for undefined symbols in simple_ring_buffer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 14/24] KVM: arm64: Support unaligned fixmap in the nVHE hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 15/24] KVM: arm64: Add .hyp.data section</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 16/24] KVM: arm64: Add clock support for the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 17/24] KVM: arm64: Add tracing capability for the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 18/24] KVM: arm64: Add trace remote for the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 19/24] KVM: arm64: Sync boot clock with the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 20/24] KVM: arm64: Add trace reset to the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 21/24] KVM: arm64: Add event support to the pKVM hyp and
 trace remote</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 22/24] KVM: arm64: Add hyp_enter/hyp_exit events to pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 23/24] KVM: arm64: Add selftest event support to pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v4 24/24] tracing: selftests: Add pKVM trace remote tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH v4 01/24] ring-buffer: Introduce ring-buffer remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH v4 02/24] tracing: Introduce trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH v4 01/24] ring-buffer: Introduce ring-buffer remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH v4 02/24] tracing: Introduce trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH v4 01/24] ring-buffer: Introduce ring-buffer remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">Re: [PATCH v4 05/24] tracing: Add events to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">Re: [PATCH v4 08/24] ring-buffer: Expose buffer_data_page material</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 1/3] KVM: arm64: Restrict FF-A host version renegotiation</h3>
                </div>

                <div class="thread-meta">
                    <span>19 messages</span>
                    <span>6 participants</span>
                    <span>Started: 2025-05-01</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下对 FF-A（Firmware Framework for Arm）版本重新协商的限制。原始的补丁（PATCH 1/3）旨在防止主机在与虚拟机监控器（hypervisor）协商后请求较低的 FF-A 版本，因为这可能导致兼容性问题。<br><br>在历史讨论中，Per Larsen 提出了补丁的背景，指出 FF-A 1.1 版本破坏了多个结构的 ABI（应用二进制接口），而 1.2 版本与 SMCCC（Secure Monitor Call Convention） 1.2 不向后兼容。Marc Zyngier 对补丁的格式和内容提出了批评，并质疑为何 hypervisor 需要处理规范中的问题。<br><br>本周的新讨论中，Per Larsen 表示将修正补丁格式，并讨论了补丁的必要性。他认为一旦版本协商成功，主机不应再请求降级版本，应该返回 NOT_SUPPORTED 以避免不必要的兼容性问题。Sebastian Ene 提出了简化补丁描述的建议，并讨论了锁定访问的必要性。其他参与者也对补丁的实现细节进行了讨论，强调了在特定情况下主机可能会尝试重新协商的技术可能性。<br><br>总体来看，讨论围绕如何确保 FF-A 版本的稳定性和兼容性展开，强调了在设计中遵循规范的重要性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-05-01]</span> <span class="email-subject">[PATCH 1/3] KVM: arm64: Restrict FF-A host version renegotiation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen <span class="email-sender">&lt;perl@immunant.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-05-02]</span> <span class="email-subject">Re: [PATCH 1/3] KVM: arm64: Restrict FF-A host version renegotiation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-05-02]</span> <span class="email-subject">[PATCH 0/3] KVM: arm64: Support FF-A 1.2 and SEND_DIRECT2 ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen <span class="email-sender">&lt;perl@immunant.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-05-02]</span> <span class="email-subject">[PATCH 1/3] KVM: arm64: Restrict FF-A host version renegotiation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen <span class="email-sender">&lt;perl@immunant.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-05-02]</span> <span class="email-subject">[PATCH 2/3] KVM: arm64: Bump the supported version of FF-A to 1.2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen <span class="email-sender">&lt;perl@immunant.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-05-02]</span> <span class="email-subject">[PATCH 3/3] KVM: arm64: Support FFA_MSG_SEND_DIRECT_REQ2 in host handler</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen <span class="email-sender">&lt;perl@immunant.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH 1/3] KVM: arm64: Restrict FF-A host version renegotiation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen <span class="email-sender">&lt;perl@immunant.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH 1/3] KVM: arm64: Restrict FF-A host version renegotiation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH 2/3] KVM: arm64: Bump the supported version of FF-A to 1.2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH 3/3] KVM: arm64: Support FFA_MSG_SEND_DIRECT_REQ2 in host
 handler</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH 1/3] KVM: arm64: Restrict FF-A host version renegotiation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH 1/3] KVM: arm64: Restrict FF-A host version renegotiation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sudeep Holla <span class="email-sender">&lt;sudeep.holla@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH 1/3] KVM: arm64: Restrict FF-A host version renegotiation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: =?UTF-8?B?QXJ2ZSBIasO4bm5ldsOlZw==?= <span class="email-sender">&lt;arve@android.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH 1/3] KVM: arm64: Restrict FF-A host version renegotiation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sudeep Holla <span class="email-sender">&lt;sudeep.holla@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH 0/3] KVM: arm64: selftests: arch_timer_edge_cases fixes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH 1/3] KVM: arm64: selftests: fix help text for arch_timer_edge_cases</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH 2/3] KVM: arm64: selftests: fix thread migration in arch_timer_edge_cases</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH 3/3] KVM: arm64: selftests: arch_timer_edge_cases - workaround for AC03_CPU_14</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-10]</span> <span class="email-subject">Re: [PATCH 3/3] KVM: arm64: selftests: arch_timer_edge_cases - workaround for AC03_CPU_14</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/8] stackleak: Support Clang stack depth tracking</h3>
                </div>

                <div class="thread-meta">
                    <span>15 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-05-07</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论主题为「stackleak: 支持 Clang 堆栈深度跟踪」，共包含 15 封邮件，所有邮件均为本周新讨论。Kees Cook 提出了一个包含 8 个补丁的系列，旨在将 Clang 的堆栈深度跟踪功能集成到 Linux 内核的 stackleak 特性中。<br><br>原始补丁的核心是利用 Clang 新增的堆栈深度跟踪回调，替代之前的 GCC 插件实现。补丁系列中，Kees 进行了多项修改，包括重命名配置选项、分离编译标志、更新 Kconfig 文件等，以确保 stackleak 特性能够在 Clang 环境下正常工作。<br><br>在之前的讨论中，参与者对补丁的命名提出了建议，认为应更明确地反映其功能，例如将 CONFIG_STACKLEAK 改为 KSTACK_ERASE，以避免误导。Kees 也对这些建议表示认可。<br><br>本周的进展包括补丁的逐步完善和对 Clang 支持的确认，参与者们对补丁的内容表示支持，并确认了对某些修改的安全性。整体来看，本周的讨论集中在补丁的细节调整和命名优化上，推动了 stackleak 特性在 Clang 环境下的实施。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[PATCH 0/8] stackleak: Support Clang stack depth tracking</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Kees Cook <span class="email-sender">&lt;kees@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[PATCH 1/8] nvme-pci: Make nvme_pci_npages_prp() __always_inline</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Kees Cook <span class="email-sender">&lt;kees@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[PATCH 2/8] init.h: Disable sanitizer coverage for __init and __head</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Kees Cook <span class="email-sender">&lt;kees@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[PATCH 3/8] stackleak: Rename CONFIG_GCC_PLUGIN_STACKLEAK to CONFIG_STACKLEAK</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Kees Cook <span class="email-sender">&lt;kees@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[PATCH 4/8] stackleak: Rename stackleak_track_stack to __sanitizer_cov_stack_depth</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Kees Cook <span class="email-sender">&lt;kees@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[PATCH 5/8] stackleak: Split STACKLEAK_CFLAGS from GCC_PLUGINS_CFLAGS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Kees Cook <span class="email-sender">&lt;kees@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[PATCH 6/8] stackleak: Support Clang stack depth tracking</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Kees Cook <span class="email-sender">&lt;kees@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[PATCH 7/8] configs/hardening: Enable CONFIG_STACKLEAK</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Kees Cook <span class="email-sender">&lt;kees@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[PATCH 8/8] configs/hardening: Enable CONFIG_INIT_ON_FREE_DEFAULT_ON</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Kees Cook <span class="email-sender">&lt;kees@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH 1/8] nvme-pci: Make nvme_pci_npages_prp() __always_inline</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Keith Busch <span class="email-sender">&lt;kbusch@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH 3/8] stackleak: Rename CONFIG_GCC_PLUGIN_STACKLEAK to
 CONFIG_STACKLEAK</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ingo Molnar <span class="email-sender">&lt;mingo@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH 3/8] stackleak: Rename CONFIG_GCC_PLUGIN_STACKLEAK to
 CONFIG_STACKLEAK</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Kees Cook <span class="email-sender">&lt;kees@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH 3/8] stackleak: Rename CONFIG_GCC_PLUGIN_STACKLEAK to
 CONFIG_STACKLEAK</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ingo Molnar <span class="email-sender">&lt;mingo@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH 2/8] init.h: Disable sanitizer coverage for __init and __head</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marco Elver <span class="email-sender">&lt;elver@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH 2/8] init.h: Disable sanitizer coverage for __init and __head</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dmitry Vyukov <span class="email-sender">&lt;dvyukov@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v6 00/14] arm: rework id register storage</h3>
                </div>

                <div class="thread-meta">
                    <span>15 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-05-06</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 ARM 架构的 ID 寄存器存储重构的补丁系列（[PATCH v6 00/14] arm: rework id register storage）。该补丁旨在改进 ARM 处理器的 ID 寄存器存储方式，主要通过将寄存器定义从结构体字段迁移到数组中，以便更好地支持 KVM 和其他功能。<br><br>在历史讨论中，补丁经历了多次迭代，逐步修复了之前版本中的问题，并引入了新的寄存器定义生成脚本，以便从 Linux 源代码自动生成寄存器定义文件。这些补丁的主要变化包括合并补丁、修复宏定义、以及更新寄存器描述生成脚本。<br><br>本周的新讨论中，补丁系列的每个补丁都得到了参与者的审查和确认。补丁的内容包括将多个 ID 寄存器（如 id_pfr、id_dfr、id_mmfr 等）存储到新的 idregs 数组中，并引入了新的脚本来自动生成寄存器定义。这些改动旨在提高代码的可维护性和可扩展性。<br><br>最后，补丁系列的最后两个补丁引入了新的寄存器生成脚本，并优化了 KVM 代码，使其使用更简洁的文件描述符。整体上，这些补丁为 ARM 架构的 ID 寄存器管理提供了更清晰和高效的实现。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 00/14] arm: rework id register storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 01/14] arm/cpu: Add sysreg definitions in cpu-sysregs.h</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 02/14] arm/cpu: Store aa64isar0/aa64zfr0 into the idregs arrays</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 03/14] arm/cpu: Store aa64isar1/2 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 04/14] arm/cpu: Store aa64pfr0/1 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 05/14] arm/cpu: Store aa64mmfr0-3 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 06/14] arm/cpu: Store aa64dfr0/1 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 07/14] arm/cpu: Store aa64smfr0 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 08/14] arm/cpu: Store id_isar0-7 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 09/14] arm/cpu: Store id_pfr0/1/2 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 10/14] arm/cpu: Store id_dfr0/1 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 11/14] arm/cpu: Store id_mmfr0-5 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 12/14] arm/cpu: Add sysreg generation scripts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 13/14] arm/cpu: switch to a generated cpu-sysregs.h.inc</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH v6 14/14] arm/kvm: use fd instead of fdarray[2]</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</h3>
                </div>

                <div class="thread-meta">
                    <span>13 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-04-23</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个补丁（PATCH v3 1/1），旨在允许在 KVM（Kernel-based Virtual Machine）中使用 VMA（虚拟内存区域）标志实现可缓存的二级映射。该补丁的提出是为了改善 ARM64 架构下的内存映射性能。<br><br>在历史讨论中，参与者们探讨了补丁的实现细节，特别是如何在没有 VMA 的情况下，通过文件描述符（fd）来传递映射属性。Jason Gunthorpe 提出，当前的 VFIO（虚拟功能 I/O）接口应保持非缓存，而引入新的缓存 I/O 映射接口。Catalin Marinas 认为，KVM 不应允许对可缓存对象创建非缓存映射，强调了设备属性的重要性。<br><br>本周的新讨论中，Ankit Agrawal 提出是否可以添加对 ARM64_HAS_CACHE_DIC 的检查，以确保补丁的安全性。同时，他建议引入一个通用的能力标志，以支持可执行的 PFNMAP（页框号映射）。Catalin Marinas 表示支持这一提议，只要不排除某些具备 FWB（写后读）但不支持 DIC 的硬件。<br><br>总体来看，讨论集中在补丁的实现细节和对不同硬件的兼容性上，参与者们对补丁的方向表示认可，并在细节上进行深入探讨。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-23]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-23]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-23]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-23]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-29]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ankit Agrawal <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-29]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-29]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-29]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-29]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-29]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-29]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ankit Agrawal <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 00/10] Stage-2 huge mappings for pKVM np-guests</h3>
                </div>

                <div class="thread-meta">
                    <span>11 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-05-09</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 pKVM 非特权客户机（np-guests）支持的阶段二（stage-2）大页映射的补丁系列（PATCH v4 00/10）。该补丁旨在实现 PMD_SIZE 大页映射，允许在阶段二中安装 PMD 级别的映射，前提是阶段一由 Hugetlbfs 或 THPs 支持。<br><br>在历史讨论中，补丁经过多次版本更新，主要改进包括修复了 PUD_SIZE 到 PMD_SIZE 的强制执行、优化了共享页面的处理函数，并引入了新的帮助函数以便于遍历超管虚拟内存映射。<br><br>本周的新讨论中，参与者 Vincent Donnefort 提出了多个补丁，主要包括：<br>1. **处理 np-guest 的大页映射**：对现有的缓存清理和无效化函数进行了修改，以支持大于 PAGE_SIZE 的大小。<br>2. **引入范围参数**：在多个超调用中添加了 nr_pages 参数，以支持大页映射。<br>3. **转换 pkvm_mappings 为区间树**：旨在提高映射的管理效率。<br>4. **实现阶段二大页映射**：补丁的最后一部分实现了在支持的情况下安装大页映射，显著提高了性能。<br><br>整体来看，这些补丁的实施将改善 pKVM 的性能，特别是在处理大页映射时，减少了延迟并提高了效率。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH v4 00/10] Stage-2 huge mappings for pKVM np-guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH v4 01/10] KVM: arm64: Handle huge mappings for np-guest CMOs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH v4 02/10] KVM: arm64: Introduce for_each_hyp_page</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH v4 03/10] KVM: arm64: Add a range to __pkvm_host_share_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH v4 04/10] KVM: arm64: Add a range to __pkvm_host_unshare_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH v4 05/10] KVM: arm64: Add a range to __pkvm_host_wrprotect_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH v4 06/10] KVM: arm64: Add a range to __pkvm_host_test_clear_young_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH v4 07/10] KVM: arm64: Convert pkvm_mappings to interval tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH v4 08/10] KVM: arm64: Add a range to pkvm_mappings</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH v4 09/10] KVM: arm64: Stage-2 huge mappings for np-guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH v4 10/10] KVM: arm64: np-guest CMOs with PMD_SIZE fixmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 00/10] perf: arm_spe: Armv8.8 SPE features</h3>
                </div>

                <div class="thread-meta">
                    <span>11 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-05-06</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 ARMv8.8 SPE（可扩展性能监控）特性的补丁集，共包含10个补丁，主要由 James Clark 提交。补丁的核心内容是支持三项新特性：FEAT_SPEv1p4 过滤器、FEAT_SPE_EFT 扩展过滤和 SPE_FEAT_FDS 数据源过滤。这些特性是独立的，可以单独应用。<br><br>在历史讨论中，补丁的背景涉及到对现有性能监控工具的增强，尤其是对新特性的支持和相关的系统寄存器的修改。之前的讨论主要集中在如何实现这些新特性以及它们对现有工具的影响。<br><br>本周的新讨论中，James Clark 提交了多个补丁，逐步实现了这些新特性，包括：<br>1. 新增系统寄存器字段以支持 FEAT_SPE_CRR、FEAT_SPE_EFT 和 FEAT_SPE_FDS。<br>2. 实现了 FEAT_SPEv1p4 和 FEAT_SPE_EFT 的过滤支持，允许更复杂的过滤操作。<br>3. 增加了数据源过滤的能力，使得用户可以根据数据源 ID 进行过滤。<br>4. 更新了性能监控工具的接口，新增了 config4 字段以支持新的过滤功能。<br>5. 更新文档以描述新特性和使用方法。<br><br>整体来看，这一系列补丁旨在增强 ARM 架构下性能监控的灵活性和功能性，推动其在更复杂场景下的应用。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH 00/10] perf: arm_spe: Armv8.8 SPE features</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH 01/10] arm64: sysreg: Add new PMSIDR_EL1 and PMSFCR_EL1
 fields</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH 02/10] perf: arm_spe: Support FEAT_SPEv1p4 filters</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH 03/10] perf: arm_spe: Add support for FEAT_SPE_EFT extended
 filtering</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH 04/10] arm64/boot: Enable EL2 requirements for SPE_FEAT_FDS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH 05/10] KVM: arm64: Add trap configs for PMSDSFR_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH 06/10] perf: Add perf_event_attr::config4</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH 07/10] perf: arm_spe: Add support for filtering on data
 source</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH 08/10] tools headers UAPI: Sync linux/perf_event.h with the
 kernel sources</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH 09/10] perf tools: Add support for perf_event_attr::config4</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">[PATCH 10/10] perf docs: arm-spe: Document new SPE filtering
 features</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/2] KVM: arm64: Make AArch64 support sticky</h3>
                </div>

                <div class="thread-meta">
                    <span>10 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-04-29</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了与 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 AArch64 支持相关的两个补丁及其进展。<br><br>**原始补丁内容**：<br>Marc Zyngier 提出了两个补丁，旨在使 AArch64 支持在虚拟化环境中保持“粘性”，即防止用户空间禁用 AArch64 支持。补丁还修复了测试套件中存在的问题，避免其错误地写入 ID_AA64PFR0_EL1 寄存器，导致虚拟机出现未定义行为。<br><br>**之前讨论要点**：<br>在历史讨论中，Marc 提到当前的测试套件存在缺陷，导致对 AArch64 的支持被错误地禁用。此外，Sean Christopherson 提出了自动生成默认测试用例的建议，以提高测试的可靠性和可维护性。<br><br>**本周新讨论及进展**：<br>本周的讨论主要集中在补丁的细节和自测工具的改进上。Vipin Sharma 和 Sean Christopherson 对自测工具的功能进行了多次讨论，提出了增加命令行选项、输出格式以及测试结果的可视化等建议。最终，Marc Zyngier 确认已将两个补丁应用于修复中，确保 AArch64 支持的稳定性和测试的有效性。<br><br>总的来说，本周的讨论推动了补丁的实施，并增强了 KVM 的自测能力，确保了更高的代码质量和稳定性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-29]</span> <span class="email-subject">[PATCH 0/2] KVM: arm64: Make AArch64 support sticky</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-30]</span> <span class="email-subject">[PATCH 0/2] KVM: arm64: Fix HCRX_EL2.GCSEn handling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-30]</span> <span class="email-subject">Re: [PATCH 1/2] KVM: selftests: Add default testfiles for KVM
 selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-30]</span> <span class="email-subject">Re: [PATCH 2/2] KVM: selftests: Create KVM selftest runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">Re: [PATCH 1/2] KVM: selftests: Add default testfiles for KVM
 selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">Re: [PATCH 2/2] KVM: selftests: Create KVM selftest runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">Re: [PATCH 1/2] KVM: selftests: Add default testfiles for KVM
 selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">Re: [PATCH 2/2] KVM: selftests: Create KVM selftest runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH 0/2] KVM: arm64: Fix HCRX_EL2.GCSEn handling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH 0/2] KVM: arm64: Make AArch64 support sticky</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v1 0/6] VMM can handle guest SEA via KVM_EXIT_ARM_SEA</h3>
                </div>

                <div class="thread-meta">
                    <span>8 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-05-05</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于KVM（Kernel-based Virtual Machine）处理ARM架构下的同步外部中止（SEA）的补丁集。补丁的主要目的是在主机APEI（ACPI Platform Error Interface）无法处理SEA时，允许KVM将SEA事件重定向到用户空间，从而避免直接注入异步错误（SError）导致的虚拟机崩溃。<br><br>**原始问题：**<br>当前，当主机APEI无法处理阶段2的SEA时，KVM会直接向VCPU注入异步SError，这通常会导致虚拟机内核崩溃。补丁提出了一种替代方案，即通过现有的KVM_SET_VCPU_EVENTS API，将SEA重放给故障的VCPU，从而限制错误传播范围。<br><br>**之前讨论要点：**<br>补丁集的设计考虑了多个方面，包括用户对内存错误的关注、VMM（虚拟机监控程序）在处理内存错误时的责任，以及与x86架构的行为一致性。补丁集还引入了新的用户空间API，以支持VMM控制SEA的处理。<br><br>**本周新讨论与进展：**<br>1. 提出了多个补丁，涵盖了用户空间处理SEA的能力（KVM_CAP_ARM_SEA_TO_USER）、新的退出原因（KVM_EXIT_ARM_SEA）、以及允许用户空间注入外部指令中止（KVM_CAP_ARM_INJECT_EXT_IABT）。<br>2. 进行了自测，确保KVM能够正确处理SEA并返回相关信息给用户空间。<br>3. 更新了文档，详细描述了新的用户空间API及其用法。<br><br>总的来说，该补丁集旨在提升KVM在处理内存错误时的灵活性和稳定性，允许用户空间更好地参与错误处理。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">[PATCH v1 0/6] VMM can handle guest SEA via KVM_EXIT_ARM_SEA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jiaqi Yan <span class="email-sender">&lt;jiaqiyan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">[PATCH v1 1/6] KVM: arm64: VM exit to userspace to handle SEA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jiaqi Yan <span class="email-sender">&lt;jiaqiyan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">[PATCH v1 2/6] KVM: arm64: Set FnV for VCPU when FAR_EL2 is invalid</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jiaqi Yan <span class="email-sender">&lt;jiaqiyan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">[PATCH v1 3/6] KVM: arm64: Allow userspace to inject external
 instruction aborts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jiaqi Yan <span class="email-sender">&lt;jiaqiyan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">[PATCH v1 4/6] KVM: selftests: Test for KVM_EXIT_ARM_SEA and KVM_CAP_ARM_SEA_TO_USER</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jiaqi Yan <span class="email-sender">&lt;jiaqiyan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">[PATCH v1 5/6] KVM: selftests: Test for KVM_CAP_INJECT_EXT_IABT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jiaqi Yan <span class="email-sender">&lt;jiaqiyan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">[PATCH v1 6/6] Documentation: kvm: new uAPI for handling SEA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jiaqi Yan <span class="email-sender">&lt;jiaqiyan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH v1 6/6] Documentation: kvm: new uAPI for handling SEA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ALOK TIWARI <span class="email-sender">&lt;alok.a.tiwari@oracle.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/4] KVM: arm64: UBSAN at EL2</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-04-30</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论主题为“[PATCH v2 0/4] KVM: arm64: UBSAN at EL2”，主要涉及在EL2模式下为KVM添加UBSAN（Undefined Behavior Sanitizer）支持。<br><br>**原始 patch/问题内容**：<br>该补丁集旨在为KVM的arm64架构在EL2模式下启用UBSAN。UBSAN可以在两种模式下运行，补丁的目标是增强内核的错误检测能力，尤其是在虚拟化环境中。<br><br>**之前讨论要点**：<br>在之前的讨论中，Mostafa Saleh提出了该补丁集的背景，指出在EL2模式下许多内核支持的sanitizers被禁用，UBSAN的集成将有助于提高系统的安全性。Kees Cook则表示支持将该补丁通过硬化树或arm64树合并，并希望能有一个稳定的分支以便处理潜在的合并冲突。<br><br>**本周的新讨论、进展或结论**：<br>本周的讨论中，Marc Zyngier确认已将补丁应用到“next”分支，并提供了稳定分支的链接，以便其他开发者拉取和解决可能的冲突。Kees Cook也表示已将该补丁纳入kvmarm/next分支，并感谢Marc的工作。整体来看，补丁的合并进展顺利，参与者对未来的合并和冲突处理表示乐观。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-30]</span> <span class="email-subject">[PATCH v2 0/4] KVM: arm64: UBSAN at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-30]</span> <span class="email-subject">Re: [PATCH v2 0/4] KVM: arm64: UBSAN at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Kees Cook <span class="email-sender">&lt;kees@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH v2 0/4] KVM: arm64: UBSAN at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH v2 0/4] KVM: arm64: UBSAN at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH v2 0/4] KVM: arm64: UBSAN at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH v2 0/4] KVM: arm64: UBSAN at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Kees Cook <span class="email-sender">&lt;kees@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 00/13] KVM: Introduce KVM Userfault</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-05-06</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个名为“KVM Userfault”的补丁系列（PATCH v2 00/13），旨在为KVM（Kernel-based Virtual Machine）引入用户故障处理功能。<br><br>在历史讨论中，补丁的具体内容并未详细列出，但可以推测该补丁系列涉及到KVM内存管理的用户故障处理机制，可能包括内存标志和位图的添加等。<br><br>本周的新讨论中，参与者James Houghton对补丁的细节提出了一些反馈。他认为补丁的粒度过细，建议将多个小补丁合并为一个，以简化代码结构。此外，他还建议在设计文档中详细说明添加该功能的设计目标和选择理由。他提出了使用一个通用的“struct kvm_page_fault”结构体的想法，以提高代码的可读性和维护性。<br><br>Houghton还对补丁中的一些具体实现提出了修改建议，包括对内存槽的处理和错误检查等。他表示对补丁系列的整体方向持积极态度，并认为这是支持后拷贝guest_memfd的最佳提案。<br><br>总体来看，本周的讨论集中在对补丁的细化和优化建议上，参与者们对补丁的潜在价值表示认可。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH v2 00/13] KVM: Introduce KVM Userfault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH v2 01/13] KVM: Add KVM_MEM_USERFAULT memslot flag and bitmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH v2 03/13] KVM: Allow late setting of KVM_MEM_USERFAULT on
 guest_memfd memslot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH v2 05/13] KVM: x86/mmu: Add support for KVM_MEM_USERFAULT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH v2 06/13] KVM: arm64: Add support for KVM_MEM_USERFAULT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH v2 00/13] KVM: Introduce KVM Userfault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 00/17] KVM: arm64: Recursive NV support</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-04-23</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下实现递归 NV（Nested Virtualization）支持的补丁。补丁的主要内容是为在 ARMv8.4-NV 能力系统上运行的 NV 客户端分配一个额外的 VNCR（Virtual Nested Context Register）页面，以便超管能够处理系统寄存器访问。<br><br>在历史讨论中，Marc Zyngier 提到，递归 NV 支持是 NV 项目中最有趣的部分，涉及到如何让客户机在访问系统寄存器时访问内存，超管需要在必要时处理寄存器的上下文切换。此外，补丁得到了 Ganapatrao Kulkarni 的审核。<br><br>在本周的新讨论中，Oliver Upton 提出了对补丁的改进建议，指出在分配 VNCR 页面时应使用 GFP_KERNEL_ACCOUNT 进行内存分配。Marc Zyngier 认可了这一建议，并表示将会将其纳入补丁中。这表明补丁正在朝着更完善的方向发展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-23]</span> <span class="email-subject">[PATCH v3 00/17] KVM: arm64: Recursive NV support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-23]</span> <span class="email-subject">[PATCH v3 02/17] KVM: arm64: nv: Allocate VNCR page when required</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">Re: [PATCH v3 02/17] KVM: arm64: nv: Allocate VNCR page when required</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">Re: [PATCH v3 02/17] KVM: arm64: nv: Allocate VNCR page when required</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V2] arm64/mm: Implement pte_po_index() for permission
 overlay index</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-04-29</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是针对 ARM64 架构的内存管理，具体是实现 `pte_po_index()` 函数以支持权限覆盖索引的补丁（PATCH V2）。该补丁旨在为即将添加的 D128 页表支持做准备。<br><br>在历史讨论中，Anshuman Khandual 提到他正在开发一个私有分支，计划为内核添加 D128 页表支持，但目前尚未为 KVM 提供相应的支持。Will Deacon 表示，当前的补丁主要是为了修复该分支中的一个错误，并指出在 D128 支持尚未准备好之前，存在许多未解答的问题。<br><br>在本周的新讨论中，Anshuman 强调了这些补丁的清理和重组工作是无害的，并不会影响现有的 64 位页表管理，反而有助于为 D128 的启用做准备。他提到在补丁的 V1 版本中，KVM 相关的更改被单独处理，因为 KVM 使用 `FIELD_GET()` 进行页表管理。对此，Will Deacon 反驳称，这种清理并非无害，因为移除辅助宏的做法可能导致代码的混乱，并建议应该让 `FIELD_GET()` 支持 128 位类型。<br><br>总体来看，讨论围绕着如何在不影响现有功能的情况下，为未来的 D128 页表支持做准备，同时也反映了对代码清理和宏使用的不同看法。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-29]</span> <span class="email-subject">Re: [PATCH V2] arm64/mm: Implement pte_po_index() for permission
 overlay index</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-29]</span> <span class="email-subject">Re: [PATCH V2] arm64/mm: Implement pte_po_index() for permission
 overlay index</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ryan Roberts <span class="email-sender">&lt;ryan.roberts@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">Re: [PATCH V2] arm64/mm: Implement pte_po_index() for permission
 overlay index</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">Re: [PATCH V2] arm64/mm: Implement pte_po_index() for permission
 overlay index</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/3] KVM: arm64: Support FF-A 1.2 and SEND_DIRECT2 ABI</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-05-08</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构上支持 FF-A 1.2 及其新的 SEND_DIRECT2 ABI 的补丁集。该补丁集包含三个主要部分，旨在增强虚拟机与宿主机之间的消息传递能力。<br><br>首先，补丁的核心内容是引入 FF-A 1.2 规范中的 SEND_DIRECT2 ABI，允许使用寄存器 x4-x17 来传递消息负载。补丁确保宿主机不会使用比与虚拟机协商的版本更低的 FF-A 版本，因为虚拟机不具备向较低版本转换的兼容路径。此外，补丁还为 FF-A 1.2 的实现做了准备，以便后续支持 FFA_MSG_SEND_DIRECT_REQ2 消息接口。<br><br>在之前的讨论中，补丁集的初版（v1）已经提交，参与者对补丁的结构和功能进行了初步反馈，提出了一些修改建议，如简化提交信息和修正注释等。<br><br>本周的新讨论中，开发者 Per Larsen 提交了补丁的第二版（v2），并详细说明了补丁的具体实现，包括对 FF-A 版本的限制、支持 FF-A 1.2 的必要性以及如何处理与 SMCCC 1.2 的兼容性。补丁经过测试，成功在 QEMU 上启动 Android 并加载 Trusty 虚拟机，验证了 SEND_DIRECT2 ABI 的有效性。整体上，讨论进展顺利，补丁集的功能和稳定性得到了进一步确认。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">[PATCH v2 0/3] KVM: arm64: Support FF-A 1.2 and SEND_DIRECT2 ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">[PATCH v2 1/3] KVM: arm64: Restrict FF-A host version
 renegotiation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">[PATCH v2 2/3] KVM: arm64: Bump the supported version of FF-A to
 1.2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">[PATCH v2 3/3] KVM: arm64: Support FFA_MSG_SEND_DIRECT_REQ2 in
 host handler</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Fix memory check in host_stage2_set_owner_locked()</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-05-01</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，旨在修复 `host_stage2_set_owner_locked()` 函数中的内存检查问题。最初的补丁由 Mostafa Saleh 提出，指出在为 pKVM 准备补丁时发现了一个简单的错误，可能导致内核崩溃，尽管在正常情况下这个错误并不明显。<br><br>在历史讨论中，Mostafa 提到该补丁修复了一个与内存地址和大小相关的假设，认为 `addr_is_memory()` 函数的行为是正确的。Marc Zyngier 在本周的讨论中提出了对这个假设的质疑，询问是否有变化，并指出在某些情况下，内存大小可能会超过单个页面的大小，例如在创建虚拟机时。<br><br>本周的讨论中，Mostafa 进一步确认了在特定情况下（如创建具有较大结构的虚拟机时），内存大小确实可能超过页面大小。最终，Oliver Upton 确认该补丁已被应用到修复列表中，标志着讨论的结束和补丁的实施。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-05-01]</span> <span class="email-subject">[PATCH] KVM: arm64: Fix memory check in host_stage2_set_owner_locked()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix memory check in host_stage2_set_owner_locked()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix memory check in
 host_stage2_set_owner_locked()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix memory check in host_stage2_set_owner_locked()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 1/4] arm64: KVM: use mutex_trylock_nest_lock when locking all vCPUs</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-04-30</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 ARM64 KVM 的一个补丁，旨在使用 `mutex_trylock_nest_lock` 替代 `mutex_trylock` 来锁定所有虚拟 CPU（vCPUs），以避免在 VM 配置超过最大锁深度时触发锁依赖警告。该补丁的背景是解决一个假锁依赖警告，具体表现为系统提示 "MAX_LOCK_DEPTH too low!"。<br><br>在历史讨论中，补丁的提出者 Maxim Levitsky 详细描述了问题的根源及其解决方案，强调了使用新锁定机制的重要性，以确保系统的稳定性和正确性。<br><br>在本周的新讨论中，Marc Zyngier 表示已将相关补丁应用于 `kvm-arm64/pkvm-selftest-6.16` 分支，并列出了多个提交的具体内容，显示出该补丁在自测方面的进展。同时，内核测试机器人报告了在构建过程中出现的错误，指出在 `kvm_trylock_all_vcpus` 函数中存在编译错误，提示需要修复该问题。参与者们对补丁的进一步完善和测试结果表示关注，期待后续的修复和更新。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-30]</span> <span class="email-subject">[PATCH v3 1/4] arm64: KVM: use mutex_trylock_nest_lock when locking all vCPUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Maxim Levitsky <span class="email-sender">&lt;mlevitsk@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH v3 0/4] Selftest for pKVM ownership transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH v3 1/4] arm64: KVM: use mutex_trylock_nest_lock when
 locking all vCPUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: kernel test robot <span class="email-sender">&lt;lkp@intel.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v8 15/43] arm64: RME: Allow VMM to set RIPAS</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-05-06</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的是一项针对 ARM64 架构的补丁（PATCH v8 15/43），旨在允许虚拟机监控器（VMM）设置 RIPAS（Realm Identifier Page Address Space）。该补丁的核心目的是增强 ARM64 的资源管理能力，特别是在虚拟化环境中。<br><br>在历史讨论中，未提供具体的背景信息，因此我们无法得知补丁的详细起源或之前的讨论要点。<br><br>在本周的新讨论中，参与者 Suzuki K Poulose 对补丁提出了一些技术性反馈和细节建议。他指出，补丁中可能存在的潜在问题包括：<br>1. 需要在实际使用补丁的地方延迟某些操作，以避免错误的资源计数。<br>2. 建议对某些变量进行对齐，以提高代码的一致性和安全性。<br>3. 提出在多线程环境中可能出现的竞争条件，建议在重试之前进行 RTT 读取确认。<br>4. 对于调试，建议添加一个新的警告包装器，以便在触发 WARN_ON 时能够输出 RTT 条目和相关操作的信息。<br><br>此外，Suzuki 还提到了一些小的代码改进建议，强调了在处理特定条件时的代码可读性和逻辑清晰性。总体来看，本周的讨论集中在补丁的细节优化和潜在问题的识别上，为后续的开发和测试提供了重要参考。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH v8 15/43] arm64: RME: Allow VMM to set RIPAS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH v8 16/43] arm64: RME: Handle realm enter/exit</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH v8 17/43] arm64: RME: Handle RMI_EXIT_RIPAS_CHANGE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Fix uninitialized memcache pointer in user_mem_abort()</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-05-05</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，旨在修复 `user_mem_abort()` 函数中未初始化的 `memcache` 指针问题。<br><br>**原始补丁内容**：补丁由 Sebastian Ott 提交，修复了在 commit fce886a60207 中引入的一个问题，该提交使得 `user_mem_abort()` 函数中的 `memcache` 变量初始化变为条件性，这导致在某些情况下该变量可能未被初始化而被使用，进而可能导致错误。补丁确保 `memcache` 始终有效，从而避免潜在的故障。<br><br>**之前的讨论要点**：在历史讨论中并没有相关的内容，但补丁的背景是基于之前的 commit，指出了该 commit 引入的具体问题。<br><br>**本周的新讨论与进展**：本周的讨论中，Vincent Donnefort 对补丁进行了审核并表示认可。Oliver Upton 则确认该补丁已被应用到修复列表中，表明该问题得到了及时的处理和解决。整体来看，补丁的提出和审核过程顺利，反映了社区对 KVM 代码质量的重视。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">[PATCH] KVM: arm64: Fix uninitialized memcache pointer in user_mem_abort()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix uninitialized memcache pointer in
 user_mem_abort()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix uninitialized memcache pointer in user_mem_abort()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2] KVM: arm64: Force HCR_EL2.xMO to 1 at all times in VHE mode</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-04-29</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，旨在强制在 VHE（Virtual Host Extensions）模式下将 HCR_EL2.xMO 设置为 1。Marc Zyngier 提出的补丁指出，当前的做法在处理物理中断时存在问题，尤其是在清除这些位时可能导致 IRQ 无法被处理，并且会触发 AmpereOne 硬件的错误。<br><br>在历史讨论中，Marc Zyngier 详细解释了补丁的必要性，强调了在 VHE 模式下保持 HCR_EL2.xMO 为 1 的重要性，以确保物理中断能够顺利传递到主机内核。<br><br>在本周的新讨论中，Marc Zyngier 确认该补丁已被应用到 kvm-arm64/misc-6.16 分支，并感谢参与者的贡献。此外，Oliver Upton 也表示该补丁已被应用到修复列表中，进一步确认了补丁的有效性和必要性。<br><br>总的来说，本周的讨论确认了补丁的应用进展，标志着对 KVM arm64 的改进向前迈出了重要一步。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-29]</span> <span class="email-subject">[PATCH v2] KVM: arm64: Force HCR_EL2.xMO to 1 at all times in VHE mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Force HCR_EL2.xMO to 1 at all times in VHE mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Force HCR_EL2.xMO to 1 at all times in VHE mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3] arm64: errata: Work around AmpereOne's erratum AC04_CPU_23</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-05-08</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是针对 AmpereOne AC04 处理器的错误（erratum AC04_CPU_23）提出的补丁（PATCH v3）。该补丁旨在解决在 AC04 处理器上，更新 HCR_EL2 时可能导致的数据地址翻译错误。具体而言，补丁通过在对 HCR_EL2 进行存储前插入数据同步屏障（DSB）和指令同步屏障（ISB），来防止指令执行顺序造成的潜在数据损坏。<br><br>在历史讨论中，补丁经历了多个版本的修改，主要集中在确保在应用替代代码之前实施该工作区，并在汇编文件中捕获对 HCR_EL2 的存储操作。此外，还增加了一个新的辅助函数 sysreg_clear_set_hcr()，以简化对 HCR_EL2 的操作。<br><br>本周的新讨论中，D Scott Phillips 提交了补丁的最新版本，并得到了 Oliver Upton 的认可，认为整体看起来良好，但需要在文档中添加相关条目以记录此错误。Oliver 已经表示将补丁审核通过，期待补充文档后再进行合并。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">[PATCH v3] arm64: errata: Work around AmpereOne's erratum AC04_CPU_23</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: D Scott Phillips <span class="email-sender">&lt;scott@os.amperecomputing.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">Re: [PATCH v3] arm64: errata: Work around AmpereOne's erratum
 AC04_CPU_23</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Drop sort_memblock_regions()</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-05-08</span>
                </div>

                <div class="ai-summary">
                    在本次邮件讨论中，主题为“[PATCH] KVM: arm64: Drop sort_memblock_regions()”的补丁主要涉及对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的内存块区域排序功能的移除。该补丁的目的是简化内存管理操作，提升系统性能。<br><br>在历史讨论中并未提供具体的背景信息，因此我们无法得知补丁的详细起因或之前的争论要点。<br><br>在本周的新讨论中，参与者 Gavin Shan 表达了对补丁合并进展的关注，询问是否需要在重新基准后重新提交补丁。Marc Zyngier 随后确认已将该补丁应用到下一个版本中，并表示感谢。这表明补丁已成功获得批准并将进入后续的开发流程。<br><br>总体来看，本周的讨论主要集中在补丁的合并状态上，最终确认了补丁的应用，标志着这一改动的顺利推进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop sort_memblock_regions()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop sort_memblock_regions()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v21 0/4] arm64/perf: Enable branch stack sampling</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-05-06</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于一个针对 arm64 架构的性能监测补丁（PATCH v21 0/4），旨在启用分支栈采样功能。补丁的主要目的是改进性能监测工具，以便更好地跟踪和分析程序执行过程中的分支行为。<br><br>在之前的讨论中，参与者们关注了补丁的实现细节和潜在的影响，特别是如何将其整合到现有的代码库中。由于该补丁涉及到性能监测的核心功能，因此其审核和整合过程显得尤为重要。<br><br>在本周的新讨论中，Jonathan Cameron 表达了对补丁进展的关注，并询问是否需要进行任何更改，以便将重构版本尽快合并到 OpenEuler 中。他希望能避免多次更新的麻烦。Rob Herring 则回应称仍在等待 Mark R 的审核，预计可能会有一些修改，并表示由于性能驱动程序的审核频率较低，可能需要等待下一个周期才能完成审核。这显示出参与者们对补丁进展的焦虑以及对审核流程的无奈。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH v21 0/4] arm64/perf: Enable branch stack sampling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jonathan Cameron <span class="email-sender">&lt;Jonathan.Cameron@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH v21 0/4] arm64/perf: Enable branch stack sampling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] arm64: kvm: Replace ternary flags with str_on_off()
 helper</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-05-06</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于一个针对 ARM64 架构的 KVM（Kernel-based Virtual Machine）补丁，旨在用 `str_on_off()` 辅助函数替换三元标志。<br><br>在历史讨论中，Seongsu Park 提出了这个补丁，并得到了 Zenghui Yu 的认可，后者在邮件中表示已进行审核并给予了“Reviewed-by”的标记。这表明补丁的质量得到了初步的确认。<br><br>在本周的新讨论中，Zenghui Yu 建议将邮件主题修改为更清晰的格式，即“KVM: arm64: Replace ...”。此外，Marc Zyngier 在回复中确认该补丁已被应用到 kvm-arm64/misc-6.16 分支，并感谢参与者的贡献。这表明补丁已经通过审核并成功合并，标志着该功能的实现进入了下一阶段。<br><br>总结而言，该补丁旨在优化 ARM64 KVM 的代码结构，经过审核后已成功合并，显示出社区对该改进的积极响应。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH] arm64: kvm: Replace ternary flags with str_on_off()
 helper</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zenghui Yu <span class="email-sender">&lt;yuzenghui@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH] arm64: kvm: Replace ternary flags with str_on_off() helper</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH hyperv-next v9 00/11] arm64: hyperv: Support Virtual Trust Level Boot</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-04-28</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 ARM64 的 Hyper-V 补丁集，主题为“支持虚拟信任级别启动”。该补丁集旨在使 Hyper-V 代码能够在 ARM64 上以虚拟信任级别（VTL）启动，这些级别是虚拟安全模式的一部分，相关文档可在 Microsoft 的官方网站上找到。<br><br>在历史讨论中，Roman Kisel 提出了该补丁集，并提到 OpenHCL paravisor 可作为这些补丁在 ARM64 上的实际应用示例。他还进行了内核构建验证，涵盖了不同架构和 VTL 组合。<br><br>在本周的新讨论中，Wei Liu 对补丁集的进展进行了更新。他注意到之前有多位参与者对该补丁的审查意见，Roman 已在当前版本中处理了这些意见。Wei 表示，假设 Arnd 的审查足够充分，该补丁集可以合并，并已将整个系列应用于 hyperv-next。他请求 ARM64 的维护者如有异议，请及时告知，以便 Roman 进一步处理评论。<br><br>总结而言，该补丁集的开发进展顺利，正在等待最终的审查和合并。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-04-28]</span> <span class="email-subject">[PATCH hyperv-next v9 00/11] arm64: hyperv: Support Virtual Trust Level Boot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH hyperv-next v9 00/11] arm64: hyperv: Support Virtual
 Trust Level Boot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei Liu <span class="email-sender">&lt;wei.liu@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM:FIXME comment is removed since no longer required</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-05-09</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）中的一个补丁，主要内容是删除不再需要的 FIXME 注释。补丁由 Pavan Bobba 提交，指出在函数 finalize_init_hyp_mode() 被调用后，kvm_init() 的执行不会导致问题，因此可以安全地移除相关的 FIXME 注释。<br><br>在历史讨论中，没有提供任何背景信息或之前的讨论内容，因此我们无法得知该问题的历史背景或相关讨论要点。<br><br>在本周的新讨论中，Pavan Bobba 提出了该补丁，并详细说明了删除 FIXME 注释的原因，强调其不再必要。补丁涉及的代码更改主要集中在 arch/arm64/kvm/arm.c 文件中，具体删除了四行注释。此次讨论没有其他参与者的回复或进一步的讨论，表明该补丁可能会顺利通过审核。整体来看，本周的进展主要是针对代码清理和注释更新，提升了代码的可读性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[PATCH] KVM:FIXME comment is removed since no longer required</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Pavan Bobba <span class="email-sender">&lt;opensource206@gmail.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: selftests: add test for SVE host corruption</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-05-06</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 KVM（Kernel-based Virtual Machine）中添加针对 SVE（Scalable Vector Extension）主机损坏的自测试（selftest）功能的补丁。<br><br>1. **原始 patch/问题的内容**：本次补丁的目的是为 KVM 添加一个自测试，用于检测 SVE 主机在虚拟化环境中的潜在损坏问题。这一补丁的提交旨在增强 KVM 的稳定性和可靠性，确保在使用 SVE 时不会出现未预见的错误。<br><br>2. **之前的讨论要点**：由于本邮件线程没有提供历史讨论内容，因此无法详细说明之前的讨论要点。<br><br>3. **本周的新讨论、进展或结论**：在本周的讨论中，Marc Zyngier 确认已将该补丁应用到 kvm-arm64/misc-6.16 分支，并对补丁的贡献表示感谢。这表明该补丁已获得认可并正式纳入代码库，标志着在 SVE 主机损坏检测方面的一个重要进展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-06]</span> <span class="email-subject">Re: [PATCH] KVM: selftests: add test for SVE host corruption</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Bug Report</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[syzbot] [kvm?] [kvmarm?] BUG: unable to handle kernel paging request
 in vgic_its_save_tables_v0</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-05-09</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM (Kernel-based Virtual Machine) 在 ARM64 架构下的一个内核错误，具体是发生在 `vgic_its_save_tables_v0` 函数中。该错误由 syzbot 报告，指出在处理内核分页请求时出现了问题，导致内核崩溃。<br><br>在历史讨论中并没有提供具体的背景信息，因此我们无法了解之前的讨论要点或相关的补丁内容。<br><br>本周的新讨论中，syzbot 提供了详细的错误报告，包括发生错误的内核版本、相关的控制台输出、内核配置和重现步骤。错误信息显示在虚拟地址 `ffef80000000000001` 处发生了内存访问异常，可能是由于野指针访问导致的。报告中还包含了调用栈信息和代码反汇编，帮助开发者定位问题。<br><br>目前尚未有关于该问题的修复进展，syzbot 继续跟踪此问题，并鼓励开发者在修复后添加相应的标签以便于追踪。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-09]</span> <span class="email-subject">[syzbot] [kvm?] [kvmarm?] BUG: unable to handle kernel paging request
 in vgic_its_save_tables_v0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: syzbot <span class="email-sender">&lt;syzbot+4ebd710a879482a93f8f@syzkaller.appspotmail.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>GIT PULL</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[GIT PULL] KVM/arm64 fixes for 6.15, round #3</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-05-07</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 Linux 内核 6.15 版本的 KVM/arm64 修复补丁的第三轮提交。Oliver Upton 提交了这一轮补丁，主要修复了几个关键问题，包括在 `user_mem_abort()` 中避免使用未初始化的内存缓存指针、在 VHE 模式下始终设置 HCR_EL2.xMO 位以修复在 AmpereOne 上发生的中断问题，以及确保 VMM 不会在虚拟化的任何 EL 中隐藏对 AArch64 的支持等。<br><br>在之前的讨论中，未提供具体的历史背景信息，但本周的讨论集中在这些补丁的必要性和紧急性上，Oliver 提到这些修复可能会影响到一些用户。补丁中还包括对 HCRX_EL2 的正确保存和恢复，确保内存检查的完整性等。<br><br>本周的进展是，Paolo Bonzini 对补丁表示确认并表示感谢，表明这些修复已被接受并将纳入后续版本中。整体来看，这些修复旨在提高 KVM/arm64 的稳定性和可靠性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[GIT PULL] KVM/arm64 fixes for 6.15, round #3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-10]</span> <span class="email-subject">Re: [GIT PULL] KVM/arm64 fixes for 6.15, round #3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Paolo Bonzini <span class="email-sender">&lt;pbonzini@redhat.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Other</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH v3 00/16] arm/arm64: Add kvmtool to the runner script</h3>
                </div>

                <div class="thread-meta">
                    <span>36 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-05-07</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM 单元测试的补丁，主要集中在为 ARM 和 ARM64 架构添加对 kvmtool 的支持。以下是讨论的主要内容：<br><br>1. **原始补丁内容**：补丁的目标是通过配置和运行脚本，使用户能够使用 kvmtool 自动运行所有测试。kvmtool 相较于 QEMU 更小且更易于修改，适合开发者在 KVM 上添加或原型化新特性。<br><br>2. **历史讨论要点**：之前的讨论主要集中在如何将 kvmtool 的参数与 QEMU 的参数区分开来，并引入了新的测试参数 `test_args` 和 `kvmtool_params`。此外，讨论还涉及到如何处理不同虚拟机管理程序（VMM）下的测试参数和返回值。<br><br>3. **本周新讨论与进展**：<br>   - 本周的补丁系列中，Alexandru Elisei 提出了多个补丁，包括为 kvmtool 添加默认参数、支持 kvmtool 的运行、以及在测试定义中添加 `disabled_if` 参数以跳过不支持的测试。<br>   - 讨论中还提到，kvmtool 不支持 EFI 测试，因此在配置时需要注意。<br>   - Andrew Jones 对多个补丁进行了审核，提出了一些代码风格的建议，并对补丁的逻辑表示认可。<br><br>总的来说，本周的讨论和补丁推动了 kvmtool 在 KVM 单元测试中的集成，增强了测试的灵活性和可用性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 00/16] arm/arm64: Add kvmtool to the runner script</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 01/16] scripts: unittests.cfg: Rename 'extra_params' to 'qemu_params'</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 02/16] scripts: Add 'test_args' test definition parameter</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 03/16] configure: Export TARGET unconditionally</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 04/16] run_tests.sh: Document --probe-maxsmp argument</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 05/16] scripts: Document environment variables</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 06/16] scripts: Refuse to run the tests if not configured for qemu</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 07/16] scripts: Use an associative array for qemu argument names</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 08/16] scripts: Add 'kvmtool_params' to test definition</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 09/16] scripts: Add support for kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 10/16] scripts: Add default arguments for kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 11/16] scripts: Add KVMTOOL environment variable for kvmtool binary path</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 12/16] scripts: Detect kvmtool failure in premature_failure()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 13/16] scripts: Do not probe for maximum number of VCPUs when using kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 14/16] scripts/mkstandalone: Export $TARGET</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 15/16] scripts: Add 'disabled_if' test definition parameter for kvmtool to use</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v3 16/16] scripts: Enable kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 01/16] scripts: unittests.cfg: Rename
 'extra_params' to 'qemu_params'</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 02/16] scripts: Add 'test_args' test
 definition parameter</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 03/16] configure: Export TARGET
 unconditionally</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 06/16] scripts: Refuse to run the tests
 if not configured for qemu</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 06/16] scripts: Refuse to run the tests
 if not configured for qemu</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 07/16] scripts: Use an associative
 array for qemu argument names</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 08/16] scripts: Add 'kvmtool_params' to
 test definition</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 09/16] scripts: Add support for kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 10/16] scripts: Add default arguments
 for kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 11/16] scripts: Add KVMTOOL environment
 variable for kvmtool binary path</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 12/16] scripts: Detect kvmtool failure
 in premature_failure()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 13/16] scripts: Do not probe for
 maximum number of VCPUs when using kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 15/16] scripts: Add 'disabled_if' test
 definition parameter for kvmtool to use</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-07]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 16/16] scripts: Enable kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 03/16] configure: Export TARGET
 unconditionally</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 03/16] configure: Export TARGET
 unconditionally</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 03/16] configure: Export TARGET
 unconditionally</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 03/16] configure: Export TARGET
 unconditionally</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-08]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3 08/16] scripts: Add 'kvmtool_params' to
 test definition</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>LM regression: fce886a60207 KVM: arm64: Plumb the pKVM MMU in KVM</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-05-05</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个回归问题，具体涉及到提交的补丁 fce886a60207，该补丁旨在将 pKVM MMU 集成到 KVM 中。<br><br>**原始问题**：在进行多次迁移时，KVM 在 arm 架构上出现了失败，表现为 KVM_RUN 调用返回 -ENOMEM（内存不足）。该问题在两个 QEMU 实例之间迁移时可以重现，且在不到五次迭代后发生。<br><br>**之前讨论要点**：参与者们确认了导致问题的提交，并讨论了可能的原因。Marc Zyngier 提到，补丁中唯一新增的 -ENOMEM 错误是来自 topup_hyp_memcache() 函数，但该函数不应被调用。Sebastian Ott 进一步分析了问题，发现是由于 memcache 指针未初始化导致的。<br><br>**本周新讨论与进展**：Sebastian 提出了修复方案，确保 memcache 始终有效，以解决迁移失败的问题。Marc 对此表示赞同，并建议将 memcache 的初始化提前，以避免未初始化变量的问题。最终，Sebastian 提交了补丁以修复此问题，并得到了 Marc 的审核通过，准备将其作为独立补丁提交，以便在下一个版本中修复。<br><br>总结而言，本周的讨论集中在识别和修复 KVM 在 arm64 上的内存分配问题，确保了系统的稳定性和可靠性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">LM regression: fce886a60207 KVM: arm64: Plumb the pKVM MMU in KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">Re: LM regression: fce886a60207 KVM: arm64: Plumb the pKVM MMU in KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">Re: LM regression: fce886a60207 KVM: arm64: Plumb the pKVM MMU in
 KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">Re: LM regression: fce886a60207 KVM: arm64: Plumb the pKVM MMU in KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">Re: LM regression: fce886a60207 KVM: arm64: Plumb the pKVM MMU in
 KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-05-05]</span> <span class="email-subject">Re: LM regression: fce886a60207 KVM: arm64: Plumb the pKVM MMU in KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
