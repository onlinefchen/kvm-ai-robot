<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVMARM 邮件列表 AI 总结报告</title>
    <style>
        body {
            font-family: 'Courier New', 'Courier', monospace;
            line-height: 1.5;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 40px;
            background-color: #ffffff;
            color: #222;
        }
        .container {
            background: #ffffff;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
            color: #000;
            margin-bottom: 0.3em;
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 15px;
        }
        h2 {
            font-size: 1.6em;
            font-weight: bold;
            color: #000;
            margin-top: 2em;
            margin-bottom: 0.6em;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 1.2em;
            font-weight: bold;
            color: #111;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h4 {
            font-size: 1.05em;
            font-weight: bold;
            color: #333;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
        }
        .meta-info {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px 20px;
            margin: 20px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        .meta-info p {
            margin: 6px 0;
            color: #444;
        }
        .meta-info strong {
            color: #000;
            font-weight: bold;
        }
        .stats {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid #000;
        }
        .stat-card {
            display: table-cell;
            border: 1px solid #000;
            padding: 12px 15px;
            text-align: center;
            background: #fafafa;
        }
        .stat-card h3 {
            margin: 0;
            color: #000;
            font-size: 1.8em;
            font-weight: bold;
            border: none;
            padding: 0;
        }
        .stat-card p {
            margin: 5px 0 0 0;
            color: #444;
            font-size: 0.9em;
            font-weight: normal;
        }
        .category {
            margin: 30px 0;
        }
        .thread {
            margin: 25px 0;
            padding: 15px;
            background: #fafafa;
            border: 1px solid #ccc;
            page-break-inside: avoid;
        }
        .thread-header {
            margin-bottom: 12px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .thread-header h3 {
            font-size: 1.15em;
            font-weight: bold;
            color: #000;
            margin: 0;
        }
        .thread-meta {
            display: block;
            margin: 8px 0 12px 0;
            font-size: 0.9em;
            color: #555;
            font-style: italic;
        }
        .thread-meta span {
            margin-right: 15px;
        }
        .ai-summary {
            background: #fff;
            border-left: 3px solid #666;
            padding: 12px 15px;
            margin: 15px 0;
            line-height: 1.6;
            color: #222;
            font-style: italic;
        }
        .email-list {
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px 15px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.88em;
            line-height: 1.5;
            overflow-x: auto;
            margin: 10px 0;
        }
        .email-item {
            margin: 4px 0;
            padding: 2px 0;
            color: #222;
        }
        .email-item.historical {
            background: #f5f5f5;
            border-left: 3px solid #999;
            padding-left: 8px;
            opacity: 0.8;
        }
        .email-item.new {
            background: #fffef0;
            border-left: 3px solid #0066cc;
            padding-left: 8px;
        }
        .email-date {
            color: #0066cc;
            font-weight: bold;
        }
        .email-date.historical {
            color: #666;
        }
        .email-sender {
            color: #c30;
            font-weight: normal;
        }
        .email-subject {
            color: #000;
        }
        .historical-marker {
            color: #999;
            font-size: 0.85em;
            font-style: italic;
        }
        .new-marker {
            color: #0066cc;
            font-size: 0.85em;
            font-weight: bold;
        }
        .archive-link {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            background: #333;
            color: #fff;
            text-decoration: none;
            border: 2px solid #000;
            font-weight: bold;
            transition: all 0.2s;
        }
        .archive-link:hover {
            background: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KVMARM Mailing List Analysis Report</h1>

        <div class="meta-info">
            <p><strong>Generated:</strong> 2025-10-27 12:27</p>
            <p><strong>Time Period:</strong> 2025年9月 第37周 (09/08 - 09/14)</p>
            <p><strong>Total Messages:</strong> 227 | <strong>Total Threads:</strong> 40</p>
            <p style="text-align: center;"><a href="archive.html" class="archive-link">📚 历史归档 Archive</a></p>
        </div>


        <div class="category">
            <h2>PATCH</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v6 02/24] ring-buffer: Introduce ring-buffer remotes</h3>
                </div>

                <div class="thread-meta">
                    <span>22 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-08</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于引入环形缓冲区远程功能的补丁（PATCH v6 02/24）。该补丁旨在增强 Linux 内核的环形缓冲区功能，允许远程访问和操作环形缓冲区数据。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测该补丁的提出是为了改善现有的环形缓冲区实现，可能涉及到性能和可扩展性的问题。<br><br>本周的新讨论集中在补丁的具体实现细节上。参与者 Steven Rostedt 和 Vincent Donnefort 对补丁中的命名、代码结构和注释进行了深入讨论。例如，Rostedt 提出应在函数命名中包含“alloc”以更清晰地表达其功能，并对代码中的魔法数字和内存分配进行了质疑。此外，关于如何处理环形缓冲区的页顺序和迭代器的实现也进行了讨论，Rostedt 强调需要确保数据在读取时不会被写入者修改，以避免数据损坏。<br><br>总体来看，本周的讨论主要集中在补丁的细节优化和代码可读性上，参与者们积极提出建议以确保补丁的质量和功能的完整性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v6 02/24] ring-buffer: Introduce ring-buffer remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v6 03/24] tracing: Introduce trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v6 04/24] tracing: Add reset to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v6 03/24] tracing: Introduce trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v6 04/24] tracing: Add reset to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v6 03/24] tracing: Introduce trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v6 04/24] tracing: Add reset to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v6 03/24] tracing: Introduce trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v6 04/24] tracing: Add reset to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v6 03/24] tracing: Introduce trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v6 04/24] tracing: Add reset to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v6 04/24] tracing: Add reset to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v6 06/24] tracing: Add events to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v6 07/24] tracing: Add events/ root files to trace
 remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v6 06/24] tracing: Add events to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v6 10/24] tracing: Introduce simple_ring_buffer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">Re: [PATCH v6 04/24] tracing: Add reset to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">Re: [PATCH v6 10/24] tracing: Introduce simple_ring_buffer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">Re: [PATCH v6 04/24] tracing: Add reset to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">Re: [PATCH v6 15/24] KVM: arm64: Support unaligned fixmap in the
 pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">Re: [PATCH v6 15/24] KVM: arm64: Support unaligned fixmap in the
 pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v6 16/24] KVM: arm64: Add clock support for the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 2/2] KVM: arm64: Map hyp text as RO and dump instr on
 panic</h3>
                </div>

                <div class="thread-meta">
                    <span>17 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-09-08</span>
                </div>

                <div class="ai-summary">
                    本邮件线程主要讨论了两个补丁的内容和进展，分别是关于 KVM 的 arm64 架构的错误处理和 PSCI 版本控制。<br><br>1. **原始补丁内容**：<br>   - 补丁 [PATCH 2/2] 提议将 hyp 文本映射为只读（RO），并在 panic 时转储指令。这一改动旨在提高系统在发生错误时的可调试性。<br><br>2. **之前的讨论要点**：<br>   - 在本周的讨论中，参与者 Will Deacon 对补丁表示认可，并提出了一些关于如何改进指令转储功能的建议，尤其是防止该功能被用于用户空间的指令转储。他建议保持函数名称不变，并在实现中增加对地址的检查。<br><br>3. **本周的新讨论与进展**：<br>   - 本周的讨论中，Mostafa Saleh 表示会根据 Will 的建议进行修改并重新提交补丁。Oliver Upton 提出了两个补丁的回退，主要是因为在最近的修复中发现了多个问题，认为回退是更好的选择。最终，Oliver 确认已将回退补丁应用到修复中。<br>   - 此外，Sebastian Ott 提出了一个新的补丁系列，增加了 KVM 的 PSCI 版本控制属性，以支持在不同主机内核版本之间的迁移。讨论中提到，允许指定 PSCI 版本可以避免在迁移时因版本不兼容而导致的失败，尤其是在新旧内核之间迁移时。<br><br>总体来看，本周的讨论集中在对 KVM arm64 架构的错误处理和版本兼容性问题的改进上，参与者积极提出建议并推进补丁的修订与应用。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH 2/2] KVM: arm64: Map hyp text as RO and dump instr on
 panic</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH 1/2] KVM: arm64: Dump instruction on hyp panic</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH 1/2] KVM: arm64: Dump instruction on hyp panic</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">[PATCH 0/2] KVM: arm64: Revert resched fixes for stage-2 destruction</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">[PATCH 1/2] Revert "KVM: arm64: Reschedule as needed when destroying the stage-2 page-tables"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">[PATCH 2/2] Revert "KVM: arm64: Split kvm_pgtable_stage2_destroy()"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">[PATCH] bad bad bad</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">Re: (subset) [PATCH 0/2] KVM: arm64: Revert resched fixes for stage-2 destruction</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">[PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">[PATCH 1/2] target/arm/kvm: add constants for new PSCI versions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">[PATCH 2/2] target/arm/kvm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Peter Maydell <span class="email-sender">&lt;peter.maydell@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Peter Maydell <span class="email-sender">&lt;peter.maydell@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Peter Maydell <span class="email-sender">&lt;peter.maydell@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 0/2] arm: add kvm-psci-version vcpu property</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v6 00/11] Direct Map Removal Support for guest_memfd</h3>
                </div>

                <div class="thread-meta">
                    <span>15 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-12</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个名为“[PATCH v6 00/11] Direct Map Removal Support for guest_memfd”的补丁系列，旨在为 KVM 的 guest_memfd 提供从主机内核的直接映射中移除虚拟机来保护其内存，防止 Spectre 风格的攻击。<br><br>**原始补丁内容**：<br>该补丁系列扩展了 guest_memfd 的功能，使其能够从主机内核的直接映射中移除内存。这一措施可以有效防止内核页面表中包含指向来宾内存的条目，从而阻止任何通过直接映射进行的投机性读取。<br><br>**历史讨论要点**：<br>之前的讨论主要集中在如何实现这一功能的设计细节，包括错误处理、能力检查以及对现有代码的重构。补丁系列中的多个补丁经过了多次修改，以确保功能的正确性和代码的整洁性。<br><br>**本周的新讨论与进展**：<br>本周的讨论中，参与者对补丁进行了进一步的审查和修改，确认了多个补丁的有效性，并提出了一些小的改进建议。特别是补丁 v6 01/11 和 v6 03/11 得到了认可，表明它们在设计上是合理的。此外，补丁 v6 05/11 引入了一个新的标志 GUEST_MEMFD_FLAG_NO_DIRECT_MAP，以便在创建 guest_memfd 时移除直接映射。其他补丁则增加了自测试用例，以验证新功能的有效性和稳定性。<br><br>总体来看，本周的讨论推动了补丁的完善，增强了对 guest_memfd 的安全性和功能性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v6 00/11] Direct Map Removal Support for guest_memfd</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v6 01/11] filemap: Pass address_space mapping to
 ->free_folio()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v6 02/11] arch: export set_direct_map_valid_noflush to KVM
 module</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v6 03/11] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v6 04/11] KVM: guest_memfd: Add stub for
 kvm_arch_gmem_invalidate</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v6 05/11] KVM: guest_memfd: Add flag to remove from direct map</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v6 06/11] KVM: selftests: load elf via bounce buffer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v6 07/11] KVM: selftests: set KVM_MEM_GUEST_MEMFD in
 vm_mem_add() if guest_memfd != -1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v6 08/11] KVM: selftests: Add guest_memfd based
 vm_mem_backing_src_types</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v6 09/11] KVM: selftests: stuff vm_mem_backing_src_type into
 vm_shape</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v6 10/11] KVM: selftests: cover GUEST_MEMFD_FLAG_NO_DIRECT_MAP
 in existing selftests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v6 11/11] KVM: selftests: Test guest execution from direct map
 removed gmem</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v6 01/11] filemap: Pass address_space mapping to
 ->free_folio()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Pedro Falcato <span class="email-sender">&lt;pfalcato@suse.de&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-14]</span> <span class="email-subject">Re: [PATCH v6 03/11] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mike Rapoport <span class="email-sender">&lt;rppt@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-14]</span> <span class="email-subject">Re: [PATCH v6 05/11] KVM: guest_memfd: Add flag to remove from
 direct map</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mike Rapoport <span class="email-sender">&lt;rppt@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 00/11] KVM: arm64: nv: Align feature limitations with current state of support</h3>
                </div>

                <div class="thread-meta">
                    <span>14 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-12</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（内核虚拟机）在 arm64 架构下的补丁系列，旨在调整对非虚拟化（NV）虚拟机的功能限制，以与当前支持状态保持一致。<br><br>**原始补丁内容**：Oliver Upton 提出了一个包含11个补丁的系列，主要目的是将当前隐藏的功能与实际支持的功能对齐，特别是针对 NV 虚拟机的特性。补丁中包括了将功能掩码转变为拒绝列表的方式，以明确列出不支持的特性，并修复了与 FEAT_DoubleLock 相关的错误。<br><br>**之前讨论要点**：在之前的讨论中，参与者提到，由于 NV 代码在树外，选择支持的功能相对容易，而现在 NV 已经成为 KVM 的基本要求，因此调整功能限制的逻辑是合适的。<br><br>**本周新讨论与进展**：本周的讨论集中在 Oliver 提出的补丁上，涵盖了多个特性（如 FEAT_DF2、FEAT_RASv1p1、FEAT_ECBHB 等）的暴露和错误修复。Marc Zyngier 对补丁表示关注，并提到需要重新审视一些问题。整体来看，补丁系列的目标是确保 KVM 对 NV 虚拟机的支持更加准确和全面。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH 00/11] KVM: arm64: nv: Align feature limitations with current state of support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH 01/11] KVM: arm64: nv: Convert masks to denylists in limit_nv_id_reg()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH 02/11] KVM: arm64: nv: Don't erroneously claim FEAT_DoubleLock for NV VMs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH 03/11] KVM: arm64: nv: Expose FEAT_DF2 to NV-enabled VMs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH 04/11] KVM: arm64: nv: Expose FEAT_RASv1p1 via RAS_frac</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH 05/11] KVM: arm64: nv: Expose FEAT_ECBHB to NV-enabled VMs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH 06/11] KVM: arm64: nv: Expose FEAT_AFP to NV-enabled VMs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH 07/11] KVM: arm64: nv: Exclude guest's TWED configuration when TWE isn't set</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH 08/11] KVM: arm64: nv: Expose FEAT_TWED to NV-enabled VMs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH 09/11] KVM: arm64: nv: Advertise FEAT_SpecSEI to NV-enabled VMs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH 10/11] KVM: arm64: nv: Advertise FEAT_TIDCP1 to NV-enabled VMs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH 11/11] KVM: arm64: nv: Expose up to FEAT_Debugv8p8 to NV-enabled VMs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH 00/11] KVM: arm64: nv: Align feature limitations with current state of support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH 00/11] KVM: arm64: nv: Align feature limitations with
 current state of support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v16 0/6] KVM: arm64: Provide guest support for GCS</h3>
                </div>

                <div class="thread-meta">
                    <span>14 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-12</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（内核虚拟机）在 arm64 架构上实现的 Guarded Control Stack（GCS）功能的补丁系列（PATCH v16 0/6）。GCS 旨在为返回地址提供硬件保护堆栈，以增强对返回导向编程（ROP）攻击的防护，并简化调用栈的收集。<br><br>**原始补丁内容**：<br>补丁系列实现了对 KVM 客户机的 GCS 支持，允许在虚拟化环境中管理 GCS 相关的寄存器和操作。<br><br>**之前讨论要点**：<br>在历史讨论中，补丁经历了多次版本更新，主要集中在 GCS 的实现细节、寄存器管理、异常处理等方面。补丁的演变涉及对 GCS 指令的访问控制、异常锁（EXLOCK）的管理，以及对嵌套客户机的支持。<br><br>**本周新讨论与进展**：<br>本周的讨论主要集中在补丁的具体实现和代码审查上。Mark Brown 提出了对 GCS 寄存器访问的高层访问器的修正建议，并指出当前代码在处理寄存器生命周期时存在问题。此外，Marc Zyngier 对异常返回的处理提出了质疑，认为相关代码未能正确处理 ERET 指令的陷阱。最终，补丁的最后一部分被更新以确保 GCS 功能能够正确启用，并添加了自测功能以验证 GCS 寄存器的有效性。<br><br>整体来看，本周的讨论强调了对 GCS 功能的细致实现和潜在问题的识别，推动了补丁的进一步完善。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v16 0/6] KVM: arm64: Provide guest support for GCS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v16 1/6] arm64/gcs: Ensure FGTs for EL1 GCS instructions
 are disabled</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v16 2/6] KVM: arm64: Manage GCS access and registers for
 guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v16 3/6] KVM: arm64: Set PSTATE.EXLOCK when entering an
 exception</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v16 4/6] KVM: arm64: Validate GCS exception lock when
 emulating ERET</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v16 5/6] KVM: arm64: Allow GCS to be enabled for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH v16 6/6] KVM: selftests: arm64: Add GCS registers to
 get-reg-list</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v16 2/6] KVM: arm64: Manage GCS access and registers for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v16 4/6] KVM: arm64: Validate GCS exception lock when emulating ERET</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v16 2/6] KVM: arm64: Manage GCS access and registers for
 guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v16 2/6] KVM: arm64: Manage GCS access and registers for
 guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v16 2/6] KVM: arm64: Manage GCS access and registers for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v16 5/6] KVM: arm64: Allow GCS to be enabled for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v16 6/6] KVM: selftests: arm64: Add GCS registers to get-reg-list</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 01/28] KVM: arm64: Add a new function to donate memory
 with prot</h3>
                </div>

                <div class="thread-meta">
                    <span>13 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-09-09</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（内核虚拟机）在 arm64 架构上新增的功能补丁，主要内容是添加一个函数以捐赠内存并设置权限（patch v4 01/28）。该补丁的目的是为了改善内存管理，确保在虚拟化环境中更有效地处理内存捐赠。<br><br>在历史讨论中，参与者们探讨了补丁的必要性以及实现细节，特别是如何处理内存权限的问题。Mostafa Saleh 提出应该确保权限为 KVM_PGTABLE_PROT_RW，以避免不必要的错误。<br><br>本周的新讨论中，Will Deacon 和其他参与者对补丁进行了深入的技术探讨。Deacon 提出了对当前权限检查的质疑，认为现有的 WARN_ON 检查可能会导致某些不当的内存捐赠被默默接受。此外，参与者们还讨论了 MMIO（内存映射输入输出）页面的捐赠条件，强调在捐赠前需要验证页面是否由 hypervisor 拥有，以及是否已经被映射。<br><br>总的来说，本周的讨论集中在补丁的实现细节和潜在问题上，参与者们积极提出建议，以确保补丁的有效性和安全性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 01/28] KVM: arm64: Add a new function to donate memory
 with prot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 02/28] KVM: arm64: Donate MMIO to the hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 03/28] KVM: arm64: pkvm: Add pkvm_time_get()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 06/28] iommu/arm-smmu-v3: Split code with hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 07/28] iommu/arm-smmu-v3: Move TLB range invalidation
 into a macro</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 10/28] KVM: arm64: iommu: Shadow host stage-2 page
 table</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 03/28] KVM: arm64: pkvm: Add pkvm_time_get()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 16/28] iommu/arm-smmu-v3-kvm: Create array for hyp SMMUv3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Daniel Mentz <span class="email-sender">&lt;danielmentz@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v4 14/28] iommu/arm-smmu-v3: Add KVM mode in the driver</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v4 15/28] iommu/arm-smmu-v3: Load the driver later in KVM
 mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v4 22/28] iommu/arm-smmu-v3-kvm: Emulate CMDQ for host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-14]</span> <span class="email-subject">Re: [PATCH v4 01/28] KVM: arm64: Add a new function to donate memory
 with prot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Pranjal Shrivastava <span class="email-sender">&lt;praan@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-14]</span> <span class="email-subject">Re: [PATCH v4 02/28] KVM: arm64: Donate MMIO to the hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Pranjal Shrivastava <span class="email-sender">&lt;praan@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 0/9] KVM: arm64: Reserve pKVM VM handle during initial VM setup</h3>
                </div>

                <div class="thread-meta">
                    <span>12 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-09</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（Kernel-based Virtual Machine）在 ARM64 架构下的补丁系列，主要目的是在虚拟机初始化过程中预留 pKVM 虚拟机句柄，以避免在 MMU 通知触发时出现句柄未分配的情况。<br><br>**原始补丁内容**：<br>补丁系列的核心是将 pKVM 虚拟机句柄的分配从虚拟机的首次 vCPU 运行时移至虚拟机在主机上初始化时。这一变更确保在任何子系统触发 MMU 通知之前，句柄已经可用。<br><br>**历史讨论要点**：<br>在之前的讨论中，开发者指出，现有的句柄分配时机存在潜在问题，可能导致在主机初始化虚拟机时，句柄尚未分配而引发错误。补丁系列还包括对代码的重构和文档说明的修正，以提高代码的可读性和维护性。<br><br>**本周新讨论与进展**：<br>本周的讨论主要集中在补丁的具体实现上。Fuad Tabba 提出了多个补丁，逐步实现了句柄的预留和初始化逻辑，并确保在虚拟机创建失败时能够正确释放句柄。Mark Brown 对补丁进行了测试，并确认修复了之前版本中的问题，表示测试通过。整体来看，本周的讨论推动了补丁的完善和稳定性提升。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v4 0/9] KVM: arm64: Reserve pKVM VM handle during initial VM setup</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v4 1/9] KVM: arm64: Add build-time check for duplicate
 DECLARE_REG use</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v4 2/9] KVM: arm64: Rename pkvm.enabled to pkvm.is_protected</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v4 3/9] KVM: arm64: Rename 'host_kvm' to 'kvm' in pKVM host code</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v4 4/9] KVM: arm64: Clarify comments to distinguish pKVM mode
 from protected VMs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v4 5/9] KVM: arm64: Decouple hyp VM creation state from its handle</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v4 6/9] KVM: arm64: Separate allocation and insertion of pKVM
 VM table entries</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v4 7/9] KVM: arm64: Consolidate pKVM hypervisor VM
 initialization logic</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v4 8/9] KVM: arm64: Introduce separate hypercalls for pKVM VM
 reservation and initialization</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v4 9/9] KVM: arm64: Reserve pKVM handle during pkvm_init_host_vm()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 0/9] KVM: arm64: Reserve pKVM VM handle during initial
 VM setup</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">Re: [PATCH v4 0/9] KVM: arm64: Reserve pKVM VM handle during initial
 VM setup</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/3] KVM: arm64: make EL2 feature fields writable in ID_AA64MMFR1_EL1</h3>
                </div>

                <div class="thread-meta">
                    <span>12 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-09</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM (Kernel-based Virtual Machine) 的补丁，旨在使 arm64 架构中的 EL2 特性字段在 ID_AA64MMFR1_EL1 中可被用户空间写入，以确保虚拟机在特性支持不同的主机之间进行在线迁移的兼容性。<br><br>**原始补丁内容**：<br>补丁的主要内容是允许用户空间降低 EL2 特性（VH、TWED、HCX）的值，从而支持不同特性支持的主机间的虚拟机迁移。<br><br>**之前讨论要点**：<br>在之前的讨论中，补丁 v1 提出了将这些特性字段设为可写，但未详细讨论。补丁 v2 增加了对 TWED 和 VH 字段的支持，并添加了相应的测试用例。<br><br>**本周新讨论及进展**：<br>本周的讨论中，Jinqian Yang 提交了补丁 v2，进一步明确了 HCX、TWED 和 VH 字段的可写性。Oliver Upton 对 VH 字段的可写性表示反对，认为在特定情况下不应允许写入，并建议在补丁中添加说明。对于 HCX 字段，Oliver 认为在非 EL2 虚拟机中允许写入是有益的，因为这将支持在不同特性支持的主机之间的迁移。最终，Jinqian Yang 确认将在补丁 v3 中将 VH 字段保持为不可写。整体来看，讨论围绕着如何平衡特性可写性与系统稳定性展开，强调了对虚拟机迁移的影响。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v2 0/3] KVM: arm64: make EL2 feature fields writable in ID_AA64MMFR1_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jinqian Yang <span class="email-sender">&lt;yangjinqian1@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v2 1/3] KVM: arm64: Make ID_AA64MMFR1_EL1.HCX writable from userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jinqian Yang <span class="email-sender">&lt;yangjinqian1@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v2 2/3] KVM: arm64: Make ID_AA64MMFR1_EL1.TWED writable from userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jinqian Yang <span class="email-sender">&lt;yangjinqian1@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v2 3/3] KVM: arm64: Make ID_AA64MMFR1_EL1.VH writable from userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jinqian Yang <span class="email-sender">&lt;yangjinqian1@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v2 3/3] KVM: arm64: Make ID_AA64MMFR1_EL1.VH writable
 from userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v2 0/3] KVM: arm64: make EL2 feature fields writable in
 ID_AA64MMFR1_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v2 1/3] KVM: arm64: Make ID_AA64MMFR1_EL1.HCX writable
 from userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v2 1/3] KVM: arm64: Make ID_AA64MMFR1_EL1.HCX writable from userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v2 1/3] KVM: arm64: Make ID_AA64MMFR1_EL1.HCX writable
 from userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">Re: [PATCH v2 3/3] KVM: arm64: Make ID_AA64MMFR1_EL1.VH writable from
 userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jinqian Yang <span class="email-sender">&lt;yangjinqian1@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">Re: [PATCH v2 0/3] KVM: arm64: make EL2 feature fields writable in
 ID_AA64MMFR1_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jinqian Yang <span class="email-sender">&lt;yangjinqian1@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">Re: [PATCH v2 1/3] KVM: arm64: Make ID_AA64MMFR1_EL1.HCX writable
 from userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jinqian Yang <span class="email-sender">&lt;yangjinqian1@huawei.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/6] KVM ARM64 pre_fault_memory</h3>
                </div>

                <div class="thread-meta">
                    <span>10 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-11</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM ARM64 的 `pre_fault_memory` 功能的补丁系列，共包含六个补丁。该功能旨在减少执行过程中的 stage-2 故障数量，尤其在内存密集型应用的后复制迁移场景中，能够显著降低延迟。<br><br>在历史讨论中，补丁的背景是 `KVM_PRE_FAULT_MEMORY` 功能之前仅在 x86 上可用，现计划扩展到 ARM64。补丁系列的主要内容包括：准备性重构、为预故障添加页面遍历标志、实现 ARM64 的 `KVM_PRE_FAULT_MEMORY` ioctl、修复自测中的未对齐 mmap 分配问题、更新测试以支持 ARM64 以及扩展测试以涵盖不同的虚拟机内存后端。<br><br>本周的新讨论主要集中在补丁的具体实现和潜在问题上。Jack Thomson 提出了补丁的详细实现步骤，并对各个补丁进行了说明。Oliver Upton 对补丁的某些设计提出了质疑，认为在处理故障时不应重复尝试，并建议创建合成故障上下文以简化处理逻辑。此外，他还指出了 UAPI 文档中关于 x86 特定行为的描述需要更新，以避免误导。<br><br>总体来看，本周的讨论推动了补丁的进一步完善，同时也暴露了一些设计上的争议和需要解决的问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">[PATCH 0/6] KVM ARM64 pre_fault_memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jack Thomson <span class="email-sender">&lt;jackabt.amazon@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">[PATCH 1/6] KVM: arm64: Add __gmem_abort and __user_mem_abort</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jack Thomson <span class="email-sender">&lt;jackabt.amazon@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">[PATCH 2/6] KVM: arm64: Add KVM_PGTABLE_WALK_PRE_FAULT walk flag</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jack Thomson <span class="email-sender">&lt;jackabt.amazon@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">[PATCH 3/6] KVM: arm64: Add pre_fault_memory implementation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jack Thomson <span class="email-sender">&lt;jackabt.amazon@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">[PATCH 4/6] KVM: selftests: Fix unaligned mmap allocations</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jack Thomson <span class="email-sender">&lt;jackabt.amazon@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">[PATCH 5/6] KVM: selftests: Enable pre_fault_memory_test for arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jack Thomson <span class="email-sender">&lt;jackabt.amazon@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">[PATCH 6/6] KVM: selftests: Add option for different backing in pre-fault tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jack Thomson <span class="email-sender">&lt;jackabt.amazon@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 1/6] KVM: arm64: Add __gmem_abort and __user_mem_abort</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 3/6] KVM: arm64: Add pre_fault_memory implementation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH 0/6] KVM ARM64 pre_fault_memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/9] KVM: arm64: Reserve pKVM VM handle during initial VM setup</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-08-27</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，主要涉及在虚拟机初始化过程中保留 pKVM 虚拟机句柄的问题。<br><br>1. **原始补丁内容**：补丁的目的是在虚拟机初始化时保留 pKVM 句柄，以确保在主机的 MMU 通知中能够使用有效的超管句柄。当前的实现是在第一次运行 vCPU 时分配句柄，这导致在某些情况下可能会出现 MMU 失效的窗口。<br><br>2. **之前讨论要点**：在历史讨论中，开发者指出了在 pKVM 环境下，句柄的分配时机不当可能导致 KVM 自测试失败，尤其是在 nVHE（Non-Virtual Hypervisor Execution）模式下。补丁经过多次迭代，最终版本旨在解决这个问题。<br><br>3. **本周的新讨论与进展**：本周的讨论中，Mark Brown 报告了在多个 nVHE 平台上自测试失败的情况，并通过 bisect 确认了问题与该补丁相关。Fuad Tabba 和 Marc Zyngier 也确认了问题，并表示将暂时从 -next 分支中移除该补丁，直到问题得到澄清。开发者们计划尽快提供修复方案。<br><br>总体来看，当前的补丁在实际应用中暴露了潜在的缺陷，开发者们正在积极寻求解决方案。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-27]</span> <span class="email-subject">[PATCH v3 0/9] KVM: arm64: Reserve pKVM VM handle during initial VM setup</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-27]</span> <span class="email-subject">[PATCH v3 9/9] KVM: arm64: Reserve pKVM handle during pkvm_init_host_vm()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v3 9/9] KVM: arm64: Reserve pKVM handle during
 pkvm_init_host_vm()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v3 9/9] KVM: arm64: Reserve pKVM handle during pkvm_init_host_vm()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v3 9/9] KVM: arm64: Reserve pKVM handle during
 pkvm_init_host_vm()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v3 9/9] KVM: arm64: Reserve pKVM handle during pkvm_init_host_vm()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v3 9/9] KVM: arm64: Reserve pKVM handle during pkvm_init_host_vm()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 0/5] initialize SCTRL2_ELx</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-01</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于初始化 SCTRL2_ELx 的补丁（PATCH v4 0/5）。该补丁的目的是为 ARM64 架构中的 SCTRL2_ELx 寄存器提供初始化支持。<br><br>在历史讨论中，参与者 Yeoreum Yun 和 Dave Martin 针对该补丁进行了多次交流。Yeoreum 提到他已经对 pKVM、嵌套虚拟化和崩溃路径进行了测试，但 Dave 提出需要确保所有代码路径都经过测试，并对 SCTRL2_ELx 的初始化、保存和恢复进行了质疑。Yeoreum 随后确认他使用调试器验证了 SCTRL2_ELx 的设置，并进行了相关的 kselftest 测试。<br><br>在本周的新讨论中，Dave Martin 提出了对文档的补充建议，强调了 FEAT_SCTLR2 对异常级别配置的要求，并提供了相应的补丁以更新文档。Yeoreum 对此表示认可，并确认他在使用调试器时也验证了 SCTRL2_ELx 的设置。Yeoreum 计划将这些文档更新纳入下一个补丁系列，并继续检查 Dave 的建议。<br><br>总体来看，讨论集中在确保 SCTRL2_ELx 的正确初始化及其文档化上，参与者们积极交流，推动补丁的完善与测试。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-01]</span> <span class="email-subject">Re: [PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-03]</span> <span class="email-subject">Re: [PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-03]</span> <span class="email-subject">Re: [PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v4 0/5] initialize SCTRL2_ELx</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Martin <span class="email-sender">&lt;Dave.Martin@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/7] Drivers: hv: Fix NEED_RESCHED_LAZY and use common APIs</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-08-27</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于修复 Hyper-V 驱动中的 NEED_RESCHED_LAZY 问题，并使用通用 API 的补丁（PATCH v2 0/7）。该补丁旨在解决 MSHV 根分区及上层 VTL 代码未能正确处理 NEED_RESCHED_LAZY 的错误，并通过将 "kvm" 入口 API 转换为更通用的 "virt" API 来去重 TIF 相关的 MSHV 代码。<br><br>在历史讨论中，Sean Christopherson 提出了补丁的初步版本，并指出该版本基于 hyperv-next 分支，以便包含即将发布的 VTL 更改。Wei Liu 反馈称已将大部分补丁应用于 hyperv-next，但有些部分（如 mshv_vtl 的更改）被删除。随后，讨论中提到需要将某些函数的移除与补丁合并，以确保代码的完整性。<br><br>在本周的新讨论中，Wei Liu 确认了补丁的完成，感谢之前的反馈。Joel Fernandes 对补丁中的 RCU 部分进行了审查，并表示已通过审核。这表明补丁在社区中的接受度逐渐提高，相关工作正在顺利推进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-27]</span> <span class="email-subject">[PATCH v2 0/7] Drivers: hv: Fix NEED_RESCHED_LAZY and use common APIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-27]</span> <span class="email-subject">[PATCH v2 5/7] entry: Rename "kvm" entry code assets to "virt" to
 genericize APIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-04]</span> <span class="email-subject">Re: [PATCH v2 0/7] Drivers: hv: Fix NEED_RESCHED_LAZY and use common
 APIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei Liu <span class="email-sender">&lt;wei.liu@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-04]</span> <span class="email-subject">Re: [PATCH v2 0/7] Drivers: hv: Fix NEED_RESCHED_LAZY and use common APIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v2 0/7] Drivers: hv: Fix NEED_RESCHED_LAZY and use common
 APIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei Liu <span class="email-sender">&lt;wei.liu@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">Re: [PATCH v2 5/7] entry: Rename "kvm" entry code assets to "virt"
 to genericize APIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joel Fernandes <span class="email-sender">&lt;joelagnelf@nvidia.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/2] KVM: arm64: make EL2 feature fields writable in ID_AA64MMFR1_EL1</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-11</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（内核虚拟机）在 arm64 架构中对 EL2 特性字段可写性的补丁。补丁的主要目的是允许用户空间降低 ID_AA64MMFR1_EL1 中的 EL2 特性（TWED 和 HCX），以确保在特性支持不一致的主机之间进行虚拟机的实时迁移。<br><br>在之前的讨论中，补丁经历了多个版本的迭代。最初版本中，所有相关字段均被设为可写，但经过讨论后，最终决定保留 VH 字段为非可写状态，并将补丁分为内核和自测部分。补丁的更新日志显示，第二版增加了对 TWED 和 VH 字段降级的支持，并添加了相应的自测用例。<br><br>本周的新讨论中，参与者对补丁的实现进行了深入探讨。Oliver Upton 提出了对 NV（非虚拟化）影响的担忧，并建议将整个寄存器视为 RES0，以避免用户空间行为的混淆。Marc Zyngier 也表达了对可写字段的顾虑，并提出了简化 KVM 代码的建议。最后，Oliver 提到他已推送了一个实现该补丁的分支，但尚未经过充分测试，待确认其合理性后会进一步发布。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">[PATCH v3 0/2] KVM: arm64: make EL2 feature fields writable in ID_AA64MMFR1_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jinqian Yang <span class="email-sender">&lt;yangjinqian1@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">[PATCH v3 1/2] KVM: arm64: Make ID_AA64MMFR1_EL1.{HCX, TWED} writable from userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jinqian Yang <span class="email-sender">&lt;yangjinqian1@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">[PATCH v3 2/2] KVM: arm64: selftests: Test writes to ID_AA64MMFR1_EL1.{HCX, TWED}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jinqian Yang <span class="email-sender">&lt;yangjinqian1@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v3 1/2] KVM: arm64: Make ID_AA64MMFR1_EL1.{HCX, TWED}
 writable from userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-14]</span> <span class="email-subject">Re: [PATCH v3 1/2] KVM: arm64: Make ID_AA64MMFR1_EL1.{HCX, TWED} writable from userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-11</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 ARM64 架构的 futex 原子操作的重构补丁（PATCH RESEND v7 4/6）。该补丁旨在优化 futex 的原子操作实现，具体内容涉及将存储操作推入函数内部，以提高代码的可读性和效率。<br><br>在之前的讨论中，参与者对补丁的结构和实现细节进行了探讨，特别是关于如何处理函数参数及其命名的建议。Yeoreum Yun 提出了将 `oval` 参数从 `arch_futex_atomic_op_inuser()` 传递的建议，以增强代码的可读性。<br><br>在本周的新讨论中，Will Deacon 对补丁提出了疑问，询问为何将存储操作推入函数内部。Yeoreum Yun 和 Catalin Marinas 继续讨论了补丁的可读性和命名问题。Catalin 对补丁表示认可，并给予了“已审阅”标记，认为补丁整体看起来良好。尽管他在后续邮件中提到可能不需要更改函数名称，但最终确认补丁是合理的。<br><br>综上所述，本周的讨论主要集中在补丁的可读性、参数传递和命名问题上，参与者们对补丁的整体方向表示支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH RESEND v7 4/6] arm64: futex: refactor futex atomic
 operation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 4/7] arm64: Provide basic EL2 setup for FEAT_{LS64,
 LS64_V} usage at EL0/1</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-08</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 ARM64 架构的补丁（PATCH v4 4/7），旨在为 EL0/1 使用 FEAT_{LS64, LS64_V} 提供基本的 EL2 设置。该补丁的主要目的是支持新的指令集特性，以便在用户空间和内核之间更有效地进行内存操作。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测出该补丁的提出是为了增强 ARM64 的内存访问能力，尤其是在处理特定的内存类型时。<br><br>本周的新讨论中，参与者们对补丁进行了深入的技术探讨。Will Deacon 表达了对补丁的支持，并提出了一些细节上的建议，例如在文档中补充缺失的描述。他还对用户空间如何安全地使用这些新指令提出了疑问，强调了在访问不支持的内存区域时可能导致的数据中止（SIGBUS）问题。Yicong Yang 解释了在不同情况下（如虚拟机和宿主机）如何处理这些异常，并指出用户空间驱动程序可以通过请求特定内存来确保指令的正确使用。<br><br>此外，讨论中还涉及了如何向用户空间暴露适当的内存区域，以避免不必要的错误和复杂性。Jonathan Cameron 也对此表示关注，并询问是否有更简单的解决方案。<br><br>总体而言，本周的讨论集中在补丁的实现细节及其对用户空间的影响上，参与者们积极探讨如何确保新特性的安全性和有效性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v4 4/7] arm64: Provide basic EL2 setup for FEAT_{LS64,
 LS64_V} usage at EL0/1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v4 5/7] arm64: Add support for FEAT_{LS64, LS64_V}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jonathan Cameron <span class="email-sender">&lt;jonathan.cameron@huawei.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V4 0/2] arm64/sysreg: Clean up TCR_EL1 field macros</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-07</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于对 ARM64 架构中 TCR_EL1 字段宏的清理和更新，主要涉及两个补丁。<br><br>**原始补丁内容**：<br>Anshuman Khandual 提出了两个补丁，第一部分是清理 TCR_EL1 字段宏，目的是将这些宏从分散的代码中集中到 KVM 头文件中，以便于后续使用。第二部分则是更新 TCR_EL1 寄存器字段，以符合最新的 ARM 文档，并删除了冗余的 SYS_TCR_EL1 定义。<br><br>**之前讨论要点**：<br>在历史讨论中，Anshuman 解释了清理工作的必要性，强调这不会引入功能上的变化，并且补丁适用于 v6.17-rc4 版本。参与者们对补丁的内容表示支持，并讨论了宏的集中管理。<br><br>**本周的新讨论进展**：<br>在本周的讨论中，Mark Brown 对补丁进行了审查，并表示支持，认为将冗余定义的清理放在单独的补丁中虽然不是特别重要，但可以考虑。Anshuman 也确认了这一点，并表示可以将 SYS_TCR_EL1 的定义移至单独的补丁中。整体来看，本周的讨论主要集中在补丁的审查和细节调整上，参与者们对补丁的方向表示认可。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-07]</span> <span class="email-subject">[PATCH V4 0/2] arm64/sysreg: Clean up TCR_EL1 field macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-07]</span> <span class="email-subject">[PATCH V4 1/2] arm64/sysreg: Update TCR_EL1 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH V4 1/2] arm64/sysreg: Update TCR_EL1 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH V4 1/2] arm64/sysreg: Update TCR_EL1 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH V4 1/2] arm64/sysreg: Update TCR_EL1 register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH RESEND v7 6/6] arm64: futex: support futex with FEAT_LSUI</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-11</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是针对 ARM64 架构的 futex 支持 FEAT_LSUI 特性的补丁（patch）。该补丁旨在优化 futex 操作，利用新指令集的特性。<br><br>在历史讨论中，参与者们探讨了该补丁的设计意图，认为新指令并非专门为 futex 而设计，而更适用于原子操作（atomic_op）。讨论中提到，补丁的实现需要确保与现有行为保持一致，避免引入不必要的变化。<br><br>本周的新讨论中，Will Deacon 和 Yeoreum Yun 提出了对补丁实现的不同看法。Will 对使用 CAS（Compare-And-Swap）指令的建议表示关注，认为这可能会使实现变得复杂，因为需要处理 64 位值的不同部分。Yeoreum 则建议可以去掉不必要的函数调用，并认为补丁在架构层面存在一些遗漏。Catalin Marinas 对补丁的某些方面表示认可，并提供了审查意见，认为可以简化代码。<br><br>总体来看，本周的讨论集中在补丁的实现细节和潜在的复杂性上，参与者们对如何在不改变现有行为的前提下，合理利用新指令集进行了深入探讨。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH RESEND v7 6/6] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH RESEND v7 6/6] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH RESEND v7 6/6] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH RESEND v7 6/6] arm64: futex: support futex with FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] PMCR_EL0.N is RAZ/WI. At least a build failes in Ubuntu
 22.04 LTS. Remove the set function.</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-12</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于一个补丁（patch），其内容为“PMCR_EL0.N是RAZ/WI，至少在Ubuntu 22.04 LTS中存在构建失败，因此移除设置函数”。该补丁由Itaru Kitayama提交，主要目的是解决在旧版Ubuntu中构建失败的问题，因PMCR.N字段的写入操作是无效的（RAZ/WI），因此建议删除相关的设置函数。<br><br>在之前的讨论中，Marc Zyngier对补丁的提交表示质疑，认为补丁的提交信息不够清晰，无法理解其修复的具体问题是什么。他指出KVM允许用户空间写入PMCR_EL0.N，这一行为不会改变，因此对补丁的有效性表示怀疑。<br><br>在本周的新讨论中，Itaru Kitayama表示如果补丁存在问题，他愿意放弃该补丁。Marc Zyngier则进一步强调希望Itaru能够详细解释补丁的目的和背景，以便进行有效的讨论和修复。最终，Itaru表示愿意撤回补丁，但Marc希望能够先了解问题的具体情况。<br><br>综上所述，本周的讨论主要围绕补丁的有效性和必要性展开，参与者之间存在对补丁目的的不同理解和沟通的不足。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">[PATCH] PMCR_EL0.N is RAZ/WI. At least a build failes in Ubuntu
 22.04 LTS. Remove the set function.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Itaru Kitayama <span class="email-sender">&lt;itaru.kitayama@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH] PMCR_EL0.N is RAZ/WI. At least a build failes in Ubuntu 22.04 LTS. Remove the set function.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH] PMCR_EL0.N is RAZ/WI. At least a build failes in Ubuntu 22.04 LTS. Remove the set function.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Itaru Kitayama <span class="email-sender">&lt;itaru.kitayama@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH] PMCR_EL0.N is RAZ/WI. At least a build failes in Ubuntu 22.04 LTS. Remove the set function.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/3] arm64: sysreg: Fix sysreg field definitions and
 generation script</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-29</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论主题为修复 arm64 架构的 sysreg 字段定义及生成脚本。历史讨论中，Fuad Tabba 提出了一个补丁（PATCH v3 0/3），指出 sysreg 定义文件存在几个错误，包括 Enum Security 中的 NSACR_RFR 值错误、DoubleLock 和 EIESB 的符号定义不正确，以及冗余定义（如 RCWSMASK_EL1）的问题。这些错误可能导致未来的代码问题，因此他建议修正这些定义并简化代码。<br><br>在本周的新讨论中，Fuad Tabba 重申了补丁的内容，并提出了增加验证机制以减少未来错误的建议。他还更新了补丁，修复了 DoubleLock 和 EIESB 的符号定义，并移除了不必要的空白修复。随后，Will Deacon 确认已将这些补丁应用于 arm64 的开发分支，并提供了每个补丁的链接。<br><br>总结来说，本周的进展主要是补丁的确认和应用，确保了 sysreg 字段定义的准确性和生成脚本的有效性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-29]</span> <span class="email-subject">[PATCH v3 0/3] arm64: sysreg: Fix sysreg field definitions and
 generation script</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v3 0/3] arm64: sysreg: Fix sysreg field definitions and
 generation script</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH v3 0/3] arm64: sysreg: Fix sysreg field definitions and
 generation script</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH v3 0/3] arm64: sysreg: Fix sysreg field definitions and generation script</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7 RESEND 5/6] arm64: futex: small optimisation for
 __llsc_futex_atomic_set()</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-11</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于一个针对 ARM64 架构的 futex 功能的小优化补丁（PATCH v7 RESEND 5/6），具体是对 `__llsc_futex_atomic_set()` 函数的改进。<br><br>在历史讨论中，虽然没有详细记录，但可以推测该补丁旨在通过减少一条指令来优化代码性能。参与者 Yeoreum Yun 表达了对这个补丁的支持，认为即使是微小的优化也是有价值的，尤其是在频繁修改的代码中。<br><br>在本周的新讨论中，参与者 Will Deacon 对补丁的有效性表示怀疑，认为这个优化可能并不会带来实际的性能提升，并且增加了新的汇编代码可能会影响代码的可维护性。Yeoreum Yun 也表示对补丁的立场不够坚定，如果从可维护性角度来看不合适，可以考虑放弃这个补丁。最后，Catalin Marinas 建议在没有明确性能提升的证据之前，暂时搁置该补丁。<br><br>总结来看，本周的讨论主要集中在补丁的实际价值和可维护性上，参与者们对是否继续推进该补丁持谨慎态度。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH v7 RESEND 5/6] arm64: futex: small optimisation for
 __llsc_futex_atomic_set()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH v7 RESEND 5/6] arm64: futex: small optimisation for
 __llsc_futex_atomic_set()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yeoreum Yun <span class="email-sender">&lt;yeoreum.yun@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH v7 RESEND 5/6] arm64: futex: small optimisation for
 __llsc_futex_atomic_set()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: nv: Exclude guest's TWED configuration when TWE isn't set</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-09</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 ARM64 架构下的一个补丁，旨在排除当 TWE（Trap Wait Enable）未设置时，客体的 TWED（Trap Wait Enable Delay）配置。补丁的主要内容是：在计算 HCR_EL2 寄存器时，如果 TWE 未设置，则不应将客体的 TWED 配置包含在最终值中，以避免可能延迟主机所需的陷阱。<br><br>在之前的讨论中，Oliver Upton 提出了这个补丁，指出当前 KVM 在处理 TWEDEL 和 TWEDEn 时存在问题，可能导致在客体禁用 WFE（Wait For Event）陷阱的情况下，仍然将这些值合并到程序值中。补丁的目的是修复这一问题。<br><br>在本周的新讨论中，Marc Zyngier 对补丁提出了疑问，认为在某些情况下，ID_AA64MMFR1_EL1 的清理方式可能会导致 TWED 从功能集中完全移除，因此 HCR_EL2 的相关位应该始终为 0。他询问是否存在其他方式使客体能够设置这些位。Oliver 随后承认自己未能检查限制，并表示希望减少 NV 限制，计划将补丁进行修改后重新提交。整体来看，讨论集中在补丁的有效性和潜在的实现问题上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH] KVM: arm64: nv: Exclude guest's TWED configuration when TWE isn't set</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: Exclude guest's TWED configuration when TWE isn't set</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: Exclude guest's TWED configuration when
 TWE isn't set</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/2] Dump instructions on panic for pKVM/nvhe</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-09</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 pKVM/nvhe 中实现内核崩溃时转储故障指令的补丁（PATCH v2 0/2）。该补丁的目的是在发生内核崩溃时，能够输出导致崩溃的指令，有助于调试内存损坏问题。<br><br>历史讨论中，补丁分为两个部分：第一个补丁针对 nvhe，利用内核代码在崩溃时读取和转储故障指令；第二个补丁则为 pKVM 提供支持，因其更为复杂，涉及到将 hypervisor 代码映射为只读（RO）以便在崩溃时进行调试。<br><br>在本周的新讨论中，Mostafa Saleh 提出了补丁的具体实现细节，强调了在 nvhe 中的指令转储功能，并对 pKVM 的实现进行了分拆，以确保在崩溃时能够正确处理指令转储。此外，补丁经过了 Kunwu Chan 的测试和审核，得到了积极的反馈。<br><br>总体而言，本周的讨论集中在补丁的具体实现和测试反馈上，推动了这一功能的进一步完善。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v2 0/2] Dump instructions on panic for pKVM/nvhe</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v2 1/2] KVM: arm64: Dump instruction on hyp panic</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[PATCH v2 2/2] KVM: arm64: Map hyp text as RO and dump instr on panic</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: vgic: fix incorrect spinlock API usage</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-07</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 vgic（虚拟中断控制器）中修复不正确的自旋锁 API 使用。历史讨论中，Alok Tiwari 提出了一个补丁，指出函数 vgic_flush_lr_state() 使用了低级 API _raw_spin_unlock()，而应使用更通用的 raw_spin_unlock()。这一更改旨在避免内部函数的误用，并确保 vgic 代码的锁定语义符合内核的约定。<br><br>在本周的新讨论中，Marc Zyngier 对补丁进行了反馈，建议删除某些冗余的描述，并确认了补丁的有效性，表示支持（Acked-by）。Alok Tiwari 随后表示将根据 Marc 的建议提交补丁的第二版（v2）。<br><br>总结来看，此次讨论围绕修复自旋锁 API 的使用展开，Marc Zyngier 的反馈为补丁的进一步改进提供了方向。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-07]</span> <span class="email-subject">[PATCH] KVM: arm64: vgic: fix incorrect spinlock API usage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alok Tiwari <span class="email-sender">&lt;alok.a.tiwari@oracle.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: vgic: fix incorrect spinlock API usage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [External] : Re: [PATCH] KVM: arm64: vgic: fix incorrect spinlock
 API usage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ALOK TIWARI <span class="email-sender">&lt;alok.a.tiwari@oracle.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH RESEND v7 0/6] support FEAT_LSUI and apply it on futex
 atomic ops</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-11</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于一个补丁（patch），其内容为支持 FEAT_LSUI 特性并将其应用于 futex 原子操作。该补丁的目的是增强 Linux 内核在处理原子操作时的性能。<br><br>在历史讨论中，参与者们对该补丁进行了初步的审查和讨论，但具体的技术细节尚未完全明确，尤其是关于 FEAT_LSUI 特性的相关信息。<br><br>在本周的新讨论中，Will Deacon 提出了在最新的 Arm 架构文档中找不到 FEAT_LSUI 的详细信息，并询问应该查阅哪些资料。Catalin Marinas 随后回应，指出目前该特性仅在公共 XML 文档中可用，预计到年底会发布更新的 Arm 架构文档。如果参与者希望等待该信息在公共文档中出现，他表示可以理解。<br><br>总体来看，本周的讨论主要集中在对 FEAT_LSUI 特性文档的可用性和获取途径的探讨上，尚未对补丁本身的技术细节进行深入分析。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH RESEND v7 0/6] support FEAT_LSUI and apply it on futex
 atomic ops</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [PATCH RESEND v7 0/6] support FEAT_LSUI and apply it on futex
 atomic ops</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Fix parameter ordering for VBAR_EL1 assignment</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-08</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，主要目的是修复 VBAR_EL1 参数传递顺序的问题。<br><br>**原始 patch/问题内容**：<br>补丁由 Fuad Tabba 提出，修正了 `__vcpu_assign_sys_reg()` 函数调用中参数的顺序。该函数期望第二个参数为寄存器 ID，第三个参数为待分配的值，但现有代码传递的顺序不正确。修复后，确保在处理异常之前，vCPU 的 VBAR_EL1 值与 guest 的一致，从而确保异常在恢复 guest 时能在正确地址处理。<br><br>**之前讨论要点**：<br>在历史讨论中并没有相关的邮件记录，因此没有提供额外的背景信息。<br><br>**本周的新讨论、进展或结论**：<br>本周的讨论中，Fuad Tabba 提交的补丁得到了 Oliver Upton 的确认，并已被应用到修复分支中。这标志着该问题的解决，并为 KVM 的稳定性和功能性提供了支持。补丁的提交链接也被提供，便于后续查阅。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">[PATCH] KVM: arm64: Fix parameter ordering for VBAR_EL1 assignment</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix parameter ordering for VBAR_EL1 assignment</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2] KVM: arm64: Remove stage 2 read fault check</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-08</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，标题为“[PATCH v2] KVM: arm64: Remove stage 2 read fault check”。该补丁的主要内容是移除对 stage-2 读取权限错误的检查。<br><br>在历史讨论中，补丁的提出者 Wei-Lin Chang 指出，在非 NV（Non-Virtualization）情况下，映射 stage-2 时总是授予读取权限，因此进行读取权限检查并没有实际意义。而在 NV 客户端的情况下，shadow stage-2 可能会存在不可读的映射，因此在这种情况下也不应进行读取错误检查。<br><br>本周的新讨论中，Wei-Lin Chang 提交了补丁的第二版，明确表示将移除读取错误检查，而不是仅在 NV 情况下跳过该检查。补丁经过 Oliver Upton 的确认并已被应用到修复列表中，表示该修改得到了认可并将纳入后续的代码版本中。<br><br>总结而言，该补丁旨在简化 KVM 的权限检查逻辑，提升代码的清晰度和效率，且已获得相关开发者的支持与确认。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">[PATCH v2] KVM: arm64: Remove stage 2 read fault check</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei-Lin Chang <span class="email-sender">&lt;r09922117@csie.ntu.edu.tw&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Remove stage 2 read fault check</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2] KVM: arm64: vgic: fix incorrect spinlock API usage</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-08</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（内核虚拟机）在 ARM64 架构下的 VGIC（虚拟通用中断控制器）代码的补丁。补丁的主要内容是修复在函数 `vgic_flush_lr_state()` 中错误使用了低级 API `_raw_spin_unlock()`，而应该使用 `raw_spin_unlock()`。后者确保了在 VGIC 代码中的正确锁定语义。<br><br>在之前的讨论中，补丁的作者 Alok Tiwari 指出，使用 `_raw_spin_unlock()` 会导致潜在的锁定问题，因此需要进行修正。补丁的修改是基于之前的提交（8fa3adb8c6be），该提交将 `vgic_irq->irq_lock` 更改为一个原始自旋锁。<br><br>在本周的新讨论中，Alok Tiwari 提交了补丁的第二版（v2），并删除了多余的段落，同时添加了 Marc Zyngier 的确认（Acked-by）。Oliver Upton 随后确认已将该补丁应用于修复列表，并感谢 Alok 的贡献。<br><br>综上所述，本周的进展是补丁 v2 的提交和确认，标志着对 VGIC 代码中自旋锁使用的修正已被接受。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">[PATCH v2] KVM: arm64: vgic: fix incorrect spinlock API usage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alok Tiwari <span class="email-sender">&lt;alok.a.tiwari@oracle.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: vgic: fix incorrect spinlock API usage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v11 2/6] KVM: arm64: Use SMCCC 1.2 for FF-A
 initialization and in host handler</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-08</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，主题为「[PATCH v11 2/6] KVM: arm64: Use SMCCC 1.2 for FF-A initialization and in host handler」。该补丁旨在使用 SMCCC 1.2 规范来初始化 FF-A（Firmware Framework for Arm）并在主机处理程序中应用。<br><br>在历史讨论部分没有提供具体内容，因此我们无法了解补丁的详细背景或之前的讨论要点。<br><br>在本周的新讨论中，参与者 Will Deacon 对补丁表示认可，并确认其看起来一切正常。他提到，如果另一位参与者 Marc 也满意，该补丁将通过 kvmarm 树进行合并。这表明补丁得到了积极的反馈，并有望顺利推进。<br><br>总体而言，本周的讨论主要集中在对补丁的认可和合并流程的确认上，显示出社区对该补丁的支持态度。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v11 2/6] KVM: arm64: Use SMCCC 1.2 for FF-A
 initialization and in host handler</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v11 0/6] KVM: arm64: Support FF-A 1.2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH RESEND v7 2/6] KVM: arm64: expose FEAT_LSUI to guest</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-12</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构上暴露 FEAT_LSUI 特性的补丁（patch）。该补丁旨在允许虚拟机访客使用该特性，从而提升其性能和功能。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测该补丁是基于之前对 KVM 的功能扩展的讨论，涉及如何更好地支持 arm64 架构的特性。<br><br>在本周的新讨论中，参与者 Catalin Marinas 对该补丁进行了审核，并给予了“Reviewed-by”标记，表明他认为该补丁是合适的并且可以被接受。这一进展显示出补丁在审查过程中得到了认可，可能会在后续的版本中被合并。<br><br>总体而言，本周的讨论表明该补丁在审核过程中取得了积极进展，向着最终合并迈出了重要一步。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH RESEND v7 2/6] KVM: arm64: expose FEAT_LSUI to guest</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH RESEND v7 3/6] arm64: Kconfig: add LSUI Kconfig</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-12</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于一个针对 arm64 架构的 Kconfig 配置补丁，具体内容为添加对 LSUI（Load Store Unit Instruction）的支持。该补丁的目的是在 Kconfig 中检测工具链对 LSUI 的支持情况。<br><br>在之前的讨论中，虽然没有提供具体的历史邮件内容，但可以推测该补丁的提出是为了增强 arm64 架构在工具链支持方面的兼容性和功能性。<br><br>在本周的新讨论中，参与者 Catalin Marinas 对补丁进行了审查，并提出了一些小的改进建议。他指出，补丁的主题可以稍作调整，以更清晰地表达其目的，并提到 binutils 2.45 已经添加了对 LSUI 的支持。此外，他还建议在帮助文本中使用两个空格的缩进格式。总体而言，Catalin 对补丁的内容表示认可，并给予了“已审阅通过”的反馈。<br><br>总结来看，该补丁旨在增强 arm64 架构的 Kconfig 支持，经过审查后获得了积极的反馈，且只需进行一些小的格式调整。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH RESEND v7 3/6] arm64: Kconfig: add LSUI Kconfig</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH RESEND v7 1/6] arm64: cpufeature: add FEAT_LSUI</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-12</span>
                </div>

                <div class="ai-summary">
                    本邮件主题为“[PATCH RESEND v7 1/6] arm64: cpufeature: add FEAT_LSUI”，主要讨论了在 arm64 架构中增加对 FEAT_LSUI CPU 特性的支持。<br><br>在历史讨论中，邮件没有提供具体的背景信息，因此无法详细说明之前的讨论要点。<br><br>在本周的新讨论中，参与者 Catalin Marinas 对该补丁进行了审查，提出了修改建议。他指出补丁中的两个段落内容相似，建议将第二段简化为“添加对 FEAT_LSUI 的 CPU 特性检测”，并认为没有必要再次解释 PSTATE.PAN 的内容。Catalin Marinas 对补丁表示支持，并给予了“Reviewed-by”标记，表明他认可该补丁的修改。<br><br>总体而言，本周的讨论集中在补丁内容的简化和明确性上，未涉及其他技术争议或问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-12]</span> <span class="email-subject">Re: [PATCH RESEND v7 1/6] arm64: cpufeature: add FEAT_LSUI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v15 4/6] KVM: arm64: Set PSTATE.EXLOCK when entering an exception</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-08</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论主题为“[PATCH v15 4/6] KVM: arm64: Set PSTATE.EXLOCK when entering an exception”，主要涉及在进入异常时设置 PSTATE.EXLOCK 的补丁。<br><br>在历史讨论中，尚未提供相关的背景信息或之前的讨论内容，因此我们无法得知该补丁的具体细节或其提出的原因。<br><br>在本周的新讨论中，Marc Zyngier 对补丁进行了回复，指出在 ARM 架构参考手册中可以省略章节编号，因为这些编号在文档的不同版本中是稳定的。此外，他提到目前只有 NV（非易失性）情况需要模拟 ERET 指令。这表明该补丁可能与异常处理机制的改进有关，但具体的实现细节和影响仍需进一步讨论。<br><br>总体而言，本周的讨论主要集中在补丁的细节和文档规范上，尚未形成明确的结论或进一步的进展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v15 4/6] KVM: arm64: Set PSTATE.EXLOCK when entering an exception</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2] KVM: arm64: ptdump: Don't test PTE_VALID alongside
 other attributes</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-08</span>
                </div>

                <div class="ai-summary">
                    本邮件主题为“[PATCH v2] KVM: arm64: ptdump: Don't test PTE_VALID alongside other attributes”，涉及对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 ptdump 功能的修正。<br><br>**原始 patch/问题的内容**：<br>该补丁旨在修改 ptdump 功能，使其在测试页表项（PTE）时不再同时检查 PTE_VALID 属性与其他属性，以提高代码的清晰度和准确性。<br><br>**之前讨论要点**：<br>由于本邮件没有提供历史讨论内容，因此无法总结之前的讨论要点。<br><br>**本周的新讨论、进展或结论**：<br>在本周的讨论中，Will Deacon 对该补丁表示认可，并确认将由 Oliver 或 Marc 通过 kvmarm 树进行处理。这表明补丁得到了积极的反馈，并可能很快被合并到主线代码中。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: ptdump: Don't test PTE_VALID alongside
 other attributes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH kvmtool v3 0/6] arm64: Nested virtualization support</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-08</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于针对 arm64 架构的嵌套虚拟化支持的补丁（patch）[PATCH kvmtool v3 0/6]。该补丁旨在增强 KVM 工具对嵌套虚拟化的支持，尽管邮件中没有详细说明补丁的具体内容。<br><br>在历史讨论中，参与者 Andre Przywara 提到了一些来自 Alexandru 的未解决的评论，暗示在补丁的提交过程中存在需要进一步讨论和修改的地方。然而，邮件中并未提供详细的历史讨论要点。<br><br>在本周的新讨论中，Will Deacon 回复了 Andre 的邮件，询问他是否计划根据 Alexandru 的评论重新提交补丁。这表明该补丁仍在审查过程中，且开发者们正在积极关注和解决反馈意见。<br><br>总体来看，本周的讨论主要集中在补丁的后续修改和反馈处理上，显示出开发者们对改进嵌套虚拟化支持的持续关注。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [PATCH kvmtool v3 0/6] arm64: Nested virtualization support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>RFC</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[RFC PATCH v1 34/38] coco: guest: arm64: Validate mmio range
 found in the interface report</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-09-10</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 ARM64 虚拟化环境中 MMIO（内存映射输入输出）范围验证的补丁（RFC PATCH v1 34/38），旨在确保通过接口报告的 MMIO 范围的有效性。<br><br>在历史讨论中，补丁的主要目标是解决在设备驱动程序加载之前如何验证接口报告的问题。之前的讨论指出，接口报告中可能存在多个相同范围 ID 的条目，导致验证过程中的地址不匹配，从而影响 MMIO 的安全性。<br><br>在本周的新讨论中，参与者们提出了多个关键问题和解决方案。Arto Merilainen 指出，当前的 RSI_VDEV_VALIDATE_MAPPING 功能无法正确处理接口报告中的数据格式，可能导致不安全的 MMIO 映射。Jason Gunthorpe 和 Aneesh Kumar K.V 进一步讨论了如何在验证过程中处理 MSI-X 表和 PBA 范围的问题，建议引入新的 TSM 操作来处理 PCI BAR 范围的验证。<br><br>总体来看，本周的讨论集中在如何确保 MMIO 范围的验证能够与设备驱动程序的加载顺序相协调，以及如何在不影响安全性的前提下实现有效的地址映射。参与者们一致认为，需要建立更为通用的基础设施来处理这些特殊情况。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">Re: [RFC PATCH v1 34/38] coco: guest: arm64: Validate mmio range
 found in the interface report</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Arto Merilainen <span class="email-sender">&lt;amerilainen@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">Re: [RFC PATCH v1 34/38] coco: guest: arm64: Validate mmio range
 found in the interface report</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [RFC PATCH v1 34/38] coco: guest: arm64: Validate mmio range
 found in the interface report</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [RFC PATCH v1 34/38] coco: guest: arm64: Validate mmio range
 found in the interface report</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexey Kardashevskiy <span class="email-sender">&lt;aik@amd.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [RFC PATCH v1 34/38] coco: guest: arm64: Validate mmio range
 found in the interface report</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-11]</span> <span class="email-subject">Re: [RFC PATCH v1 34/38] coco: guest: arm64: Validate mmio range
 found in the interface report</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: dan.j.williams <span class="email-sender">&lt;dan.j.williams@intel.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Bug Report</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[syzbot] [kvmarm?] [kvm?] WARNING: locking bug in vgic_put_irq</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-08-25</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了在 KVM ARM 虚拟化环境中发现的一个锁定错误，具体涉及到 `vgic_put_irq` 函数。历史讨论中，syzbot 报告了该问题，并提供了相关的内核提交信息和构建环境配置，指出在特定的内核版本中出现了锁定相关的警告。<br><br>在本周的新讨论中，参与者 Oliver Upton 对之前的报告进行了回应，建议进行测试以验证修复效果。然而，syzbot 在尝试测试提议的补丁时遇到了构建和启动失败的问题，具体表现为无法通过 SCP 复制二进制文件到虚拟机，导致连接超时。尽管没有应用任何补丁，但测试日志显示了构建过程中的一些信息，包括使用的编译器版本和相关依赖项。<br><br>总结而言，当前讨论主要集中在锁定错误的修复尝试上，尽管测试未能成功，但提供了进一步分析的基础。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-08-25]</span> <span class="email-subject">[syzbot] [kvmarm?] [kvm?] WARNING: locking bug in vgic_put_irq</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: syzbot <span class="email-sender">&lt;syzbot+cef594105ac7e60c6d93@syzkaller.appspotmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [syzbot] [kvmarm?] [kvm?] WARNING: locking bug in vgic_put_irq</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [syzbot] [kvmarm?] [kvm?] WARNING: locking bug in vgic_put_irq</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: syzbot <span class="email-sender">&lt;syzbot+cef594105ac7e60c6d93@syzkaller.appspotmail.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>GIT PULL</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[GIT PULL] KVM/arm64 changes for 6.17, round #3</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-10</span>
                </div>

                <div class="ai-summary">
                    本周讨论的邮件主题为“[GIT PULL] KVM/arm64 changes for 6.17, round #3”，由 Oliver Upton 提交，主要内容是针对 KVM/arm64 的第 6.17 版的最终修复集。<br><br>在这次讨论中，Oliver 提到他撤回了之前在 6.17 中引入的几个修复，原因是这些修复在销毁二级页表时存在一些严重的引用计数和使用后释放（UAF）问题，之前的临时解决方案未能有效解决这些问题。此外，邮件中还提到了一些常见的修复，涉及嵌套虚拟机和虚拟通用中断控制器（vgic）。<br><br>本周的进展包括多个具体的修复措施，例如：在释放 PGD 时使嵌套 MMU 无效，以避免 MMU 通知时出现警告；修复 TLB 匹配过程和 TLB 无效化范围；防止 SPE 错误地对来宾进行分析等。此外，还修正了 VGIC LPIs 的锁顺序，避免了锁嵌套问题。整体来看，本周的讨论集中在修复 KVM/arm64 的稳定性和性能问题上，确保系统在处理虚拟化时的可靠性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-10]</span> <span class="email-subject">[GIT PULL] KVM/arm64 changes for 6.17, round #3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Other</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH] arm64: mte: Fix MTE granule mask</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-05</span>
                </div>

                <div class="ai-summary">
                    本邮件列表讨论围绕一项针对 ARM64 架构的 MTE（Memory Tagging Extension）修复补丁展开，主题为“修复 MTE granule mask”。该补丁由 Vladimir Murzin 提出，主要目的是修正 MTE_GRANULE_MASK 的定义，以确保其在与 MTE_TAG_SHIFT 一起使用时能够生成正确的掩码。具体而言，补丁将 MTE_GRANULE_MASK 的定义从 `(~(MTE_GRANULE_SIZE - 1))` 修改为 `(MTE_GRANULE_SIZE - 1)`，以确保掩码的最低有效位正确设置。<br><br>在历史讨论中，Vladimir 解释了补丁的必要性，并提供了代码修改的细节。Alexandru Elisei 对补丁进行了审查，并确认了 MTE_GRANULE_MASK 在不同情况下的表现，指出修复后的掩码能够正确屏蔽逻辑标签，而不是 PAC 字段。<br><br>在本周的新讨论中，Alexandru 确认了补丁的正确性，并询问 Vladimir 是如何发现该问题的。Vladimir 以“肉眼观察”作为回答，表明他在测试中注意到了掩码的错误。最后，Andrew Jones 宣布该补丁已被合并，标志着讨论的结束和补丁的成功实施。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-05]</span> <span class="email-subject">[kvm-unit-tests PATCH] arm64: mte: Fix MTE granule mask</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vladimir Murzin <span class="email-sender">&lt;vladimir.murzin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH] arm64: mte: Fix MTE granule mask</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH] arm64: mte: Fix MTE granule mask</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vladimir Murzin <span class="email-sender">&lt;vladimir.murzin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-08]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH] arm64: mte: Fix MTE granule mask</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[syzbot] [kvmarm?] KASAN: invalid-access Read in __kvm_pgtable_walk</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-09</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个由 syzbot 报告的 KASAN（Kernel Address Sanitizer）错误，具体是在 `__kvm_pgtable_walk` 函数中发生的无效内存访问。该问题出现在 ARM64 架构的 KVM（Kernel-based Virtual Machine）实现中，涉及到虚拟内存管理。<br><br>在历史讨论中，未提及具体的补丁或先前讨论的要点，主要是提供了错误报告的详细信息，包括错误发生的代码位置、调用栈和相关的内存状态。<br><br>在本周的新讨论中，syzbot 提供了错误的详细信息，并测试了一个提议的补丁，但发现问题依然存在，错误依旧在 `__kvm_pgtable_walk` 函数中触发。Oliver Upton 提出了一个测试命令，建议使用特定的 Git 仓库进行补丁测试。尽管进行了尝试，但目前尚未找到有效的解决方案，问题仍然待解决。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[syzbot] [kvmarm?] KASAN: invalid-access Read in __kvm_pgtable_walk</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: syzbot <span class="email-sender">&lt;syzbot+31156cb24a340d8e2c05@syzkaller.appspotmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [syzbot] [kvmarm?] KASAN: invalid-access Read in
 __kvm_pgtable_walk</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">Re: [syzbot] [kvmarm?] KASAN: invalid-access Read in __kvm_pgtable_walk</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: syzbot <span class="email-sender">&lt;syzbot+31156cb24a340d8e2c05@syzkaller.appspotmail.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[syzbot] [kvmarm?] kernel panic: Unhandled exception</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-09</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 KVM ARM64 环境中出现的内核崩溃问题，具体表现为“未处理的异常”导致的内核恐慌（kernel panic）。<br><br>1. **原始问题内容**：该问题由 syzbot 发现，涉及到在 KVM ARM64 环境下运行时，系统出现未处理异常并导致内核崩溃。相关的内核版本为 9c642e6226e3，具体的错误信息和调用栈已在邮件中详细列出。<br><br>2. **之前的讨论要点**：本次邮件没有提供历史讨论的上下文，因此无法总结之前的讨论要点。<br><br>3. **本周的新讨论与进展**：本周的讨论主要集中在 syzbot 提供的崩溃报告上，报告中包含了详细的调用栈信息和可能的锁定问题，提示存在不一致的锁状态，可能导致死锁。邮件中还提供了重现问题的代码和相关的资源链接，便于开发者进行调试和修复。<br><br>总的来说，本周的讨论聚焦于对 KVM ARM64 环境下内核崩溃问题的分析，开发者被鼓励对该问题进行修复并在提交补丁时添加相应的报告标签。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-09]</span> <span class="email-subject">[syzbot] [kvmarm?] kernel panic: Unhandled exception</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: syzbot <span class="email-sender">&lt;syzbot+d173b3985bd6b9487fa1@syzkaller.appspotmail.com&gt;</span></div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
