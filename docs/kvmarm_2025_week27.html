<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVMARM 邮件列表 AI 总结报告</title>
    <style>
        body {
            font-family: 'Courier New', 'Courier', monospace;
            line-height: 1.5;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 40px;
            background-color: #ffffff;
            color: #222;
        }
        .container {
            background: #ffffff;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
            color: #000;
            margin-bottom: 0.3em;
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 15px;
        }
        h2 {
            font-size: 1.6em;
            font-weight: bold;
            color: #000;
            margin-top: 2em;
            margin-bottom: 0.6em;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 1.2em;
            font-weight: bold;
            color: #111;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h4 {
            font-size: 1.05em;
            font-weight: bold;
            color: #333;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
        }
        .meta-info {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px 20px;
            margin: 20px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        .meta-info p {
            margin: 6px 0;
            color: #444;
        }
        .meta-info strong {
            color: #000;
            font-weight: bold;
        }
        .stats {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid #000;
        }
        .stat-card {
            display: table-cell;
            border: 1px solid #000;
            padding: 12px 15px;
            text-align: center;
            background: #fafafa;
        }
        .stat-card h3 {
            margin: 0;
            color: #000;
            font-size: 1.8em;
            font-weight: bold;
            border: none;
            padding: 0;
        }
        .stat-card p {
            margin: 5px 0 0 0;
            color: #444;
            font-size: 0.9em;
            font-weight: normal;
        }
        .category {
            margin: 30px 0;
        }
        .thread {
            margin: 25px 0;
            padding: 15px;
            background: #fafafa;
            border: 1px solid #ccc;
            page-break-inside: avoid;
        }
        .thread-header {
            margin-bottom: 12px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .thread-header h3 {
            font-size: 1.15em;
            font-weight: bold;
            color: #000;
            margin: 0;
        }
        .thread-meta {
            display: block;
            margin: 8px 0 12px 0;
            font-size: 0.9em;
            color: #555;
            font-style: italic;
        }
        .thread-meta span {
            margin-right: 15px;
        }
        .ai-summary {
            background: #fff;
            border-left: 3px solid #666;
            padding: 12px 15px;
            margin: 15px 0;
            line-height: 1.6;
            color: #222;
            font-style: italic;
        }
        .email-list {
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px 15px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.88em;
            line-height: 1.5;
            overflow-x: auto;
            margin: 10px 0;
        }
        .email-item {
            margin: 4px 0;
            padding: 2px 0;
            color: #222;
        }
        .email-item.historical {
            background: #f5f5f5;
            border-left: 3px solid #999;
            padding-left: 8px;
            opacity: 0.8;
        }
        .email-item.new {
            background: #fffef0;
            border-left: 3px solid #0066cc;
            padding-left: 8px;
        }
        .email-date {
            color: #0066cc;
            font-weight: bold;
        }
        .email-date.historical {
            color: #666;
        }
        .email-sender {
            color: #c30;
            font-weight: normal;
        }
        .email-subject {
            color: #000;
        }
        .historical-marker {
            color: #999;
            font-size: 0.85em;
            font-style: italic;
        }
        .new-marker {
            color: #0066cc;
            font-size: 0.85em;
            font-weight: bold;
        }
        .archive-link {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            background: #333;
            color: #fff;
            text-decoration: none;
            border: 2px solid #000;
            font-weight: bold;
            transition: all 0.2s;
        }
        .archive-link:hover {
            background: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KVMARM Mailing List Analysis Report</h1>

        <div class="meta-info">
            <p><strong>Generated:</strong> 2025-10-27 11:20</p>
            <p><strong>Time Period:</strong> 2025年6月 第27周 (06/30 - 07/06)</p>
            <p><strong>Total Messages:</strong> 154 | <strong>Total Threads:</strong> 27</p>
            <p style="text-align: center;"><a href="archive.html" class="archive-link">📚 历史归档 Archive</a></p>
        </div>


        <div class="category">
            <h2>PATCH</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v9 0/6] KVM: arm64: Map GPU device memory as cacheable</h3>
                </div>

                <div class="thread-meta">
                    <span>31 messages</span>
                    <span>6 participants</span>
                    <span>Started: 2025-06-21</span>
                </div>

                <div class="ai-summary">
                    本邮件列表讨论的主题是针对 KVM（内核虚拟机）在 arm64 架构下将 GPU 设备内存映射为可缓存的补丁系列（PATCH v9 0/6）。该补丁旨在解决在 Grace Hopper 和 Blackwell 超级芯片等平台上，GPU 设备内存的缓存一致性问题。<br><br>在历史讨论中，Ankit Agrawal 提出了多个补丁，主要集中在如何正确映射设备内存、更新检测设备内存的检查、阻止可缓存 PFNMAP 映射等方面。讨论中指出，当前 KVM 对内存的映射过于限制，无法充分利用 GPU 设备内存的特性。<br><br>本周的新讨论中，Ankit 提醒参与者对补丁进行审查，并分享了他在测试中的进展，成功在虚拟机中运行了 `nvidia-smi` 命令，表明补丁有效。此外，Jason Gunthorpe 和 David Hildenbrand 对补丁进行了审查，提出了一些改进建议，包括去除不必要的检查和简化逻辑。总体来看，补丁系列得到了积极的反馈，参与者认为这些改进将有助于提升 KVM 对 GPU 设备内存的支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-21]</span> <span class="email-subject">[PATCH v9 0/6] KVM: arm64: Map GPU device memory as cacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-21]</span> <span class="email-subject">[PATCH v9 1/6] KVM: arm64: Rename the device variable to s2_force_noncacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-21]</span> <span class="email-subject">[PATCH v9 2/6] KVM: arm64: Update the check to detect device memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-21]</span> <span class="email-subject">[PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-21]</span> <span class="email-subject">[PATCH v9 4/6] KVM: arm64: New function to determine hardware cache management support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-21]</span> <span class="email-subject">[PATCH v9 5/6] KVM: arm64: Allow cacheable stage 2 mapping using VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-21]</span> <span class="email-subject">[PATCH v9 6/6] KVM: arm64: Expose new KVM cap for cacheable PFNMAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ankit Agrawal <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [PATCH v9 0/6] KVM: arm64: Map GPU device memory as cacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ankit Agrawal <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [PATCH v9 0/6] KVM: arm64: Map GPU device memory as cacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Donald Dutile <span class="email-sender">&lt;ddutile@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 1/6] KVM: arm64: Rename the device variable to
 s2_force_noncacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 2/6] KVM: arm64: Update the check to detect device
 memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 6/6] KVM: arm64: Expose new KVM cap for cacheable
 PFNMAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 4/6] KVM: arm64: New function to determine hardware
 cache management support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 1/6] KVM: arm64: Rename the device variable to
 s2_force_noncacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 2/6] KVM: arm64: Update the check to detect device
 memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 5/6] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 4/6] KVM: arm64: New function to determine hardware
 cache management support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 5/6] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 6/6] KVM: arm64: Expose new KVM cap for cacheable
 PFNMAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 6/6] KVM: arm64: Expose new KVM cap for cacheable
 PFNMAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 6/6] KVM: arm64: Expose new KVM cap for cacheable
 PFNMAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ankit Agrawal <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 5/6] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ankit Agrawal <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 6/6] KVM: arm64: Expose new KVM cap for cacheable
 PFNMAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v9 00/43] arm64: Support for Arm CCA in KVM</h3>
                </div>

                <div class="thread-meta">
                    <span>13 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-06-25</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是针对 ARM64 架构在 KVM 中支持 Arm CCA 的一系列补丁（PATCH v9 00/43）。历史讨论中，Emi Kisanuki 提到在 Fujitsu 的内部模拟器上测试了该补丁，成功启动了虚拟机并通过了大部分 kvm-unit-tests，除了 PMU 测试（因内部模拟器不支持 PMU）。<br><br>在本周的新讨论中，参与者主要集中在对补丁的细节审查和确认上。Gavin Shan 对多个补丁进行了审查，提出了一些小的修改建议，并表示补丁在他的测试环境中表现良好，能够成功启动和运行简单的工作负载。具体来说，他确认了补丁的几个关键部分，包括对 KVM_CAP_ARM_RME_ACTIVATE_REALM 的描述进行了澄清，并对其他补丁如支持 VGIC 和定时器的实现进行了审查，均获得了“Reviewed-by”的确认。<br><br>总体来看，本周的讨论主要是对补丁的细节进行审查和确认，显示出该补丁系列在社区中的积极反馈和逐步完善的过程。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-25]</span> <span class="email-subject">RE: [PATCH v9 00/43] arm64: Support for Arm CCA in KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Emi Kisanuki (Fujitsu) <span class="email-sender">&lt;fj0570is@fujitsu.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v9 06/43] arm64: RME: Define the user ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v9 09/43] KVM: arm64: Allow passing machine type in KVM
 creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v9 13/43] arm64: RME: Support for the VGIC in realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v9 14/43] KVM: arm64: Support timers in realm RECs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v9 12/43] KVM: arm64: vgic: Provide helper for number of
 list registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v9 13/43] arm64: RME: Support for the VGIC in realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [PATCH v9 15/43] arm64: RME: Allow VMM to set RIPAS</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [PATCH v9 16/43] arm64: RME: Handle realm enter/exit</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [PATCH v9 17/43] arm64: RME: Handle RMI_EXIT_RIPAS_CHANGE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [PATCH v9 20/43] arm64: RME: Runtime faulting of memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">Re: [PATCH v9 13/43] arm64: RME: Support for the VGIC in realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v9 00/43] arm64: Support for Arm CCA in KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v8 00/14] arm: rework id register storage</h3>
                </div>

                <div class="thread-meta">
                    <span>9 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-06-17</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于 ARM 架构中 ID 寄存器存储的重构，主要涉及到一个名为「[PATCH v8 00/14] arm: rework id register storage」的补丁。<br><br>在历史讨论中，Cornelia Huck 提出了该补丁，主要针对 Peter 的反馈进行了修改，确保每个中间阶段都能编译，并增强了脚本的鲁棒性。补丁的第 13 部分涉及到生成的 `cpu-sysregs.h.inc` 文件，并得到了多位开发者的审核通过。<br><br>在本周的新讨论中，Cornelia 和 Peter 继续讨论补丁的细节。Cornelia 提到脚本可能仍在为一些不应包含的寄存器创建数组条目，并表示已将部分补丁（1-11 和 14）合并到 `target-arm.next` 中，以减少重基的工作。Peter 进一步分析了某些 ID 寄存器的实现情况，并讨论了 KVM 中对这些寄存器的支持，指出在未来的实现中可能需要考虑如何处理缓存相关的寄存器。<br><br>总体来看，本周的讨论集中在补丁的细节完善和对未来 KVM 功能的展望上，参与者们积极交流以确保补丁的有效性和兼容性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-17]</span> <span class="email-subject">[PATCH v8 00/14] arm: rework id register storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-17]</span> <span class="email-subject">[PATCH v8 13/14] arm/cpu: switch to a generated cpu-sysregs.h.inc</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v8 00/14] arm: rework id register storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v8 13/14] arm/cpu: switch to a generated cpu-sysregs.h.inc</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Peter Maydell <span class="email-sender">&lt;peter.maydell@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v8 00/14] arm: rework id register storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Peter Maydell <span class="email-sender">&lt;peter.maydell@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v8 00/14] arm: rework id register storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v8 13/14] arm/cpu: switch to a generated cpu-sysregs.h.inc</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v8 13/14] arm/cpu: switch to a generated cpu-sysregs.h.inc</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Peter Maydell <span class="email-sender">&lt;peter.maydell@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [PATCH v8 13/14] arm/cpu: switch to a generated cpu-sysregs.h.inc</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</h3>
                </div>

                <div class="thread-meta">
                    <span>9 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-06-24</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（内核虚拟机）中处理共享内存的 guest_memfd 的页面故障的补丁（PATCH v12 10/18）。该补丁旨在改进 KVM 对于使用共享内存的 guest_memfd 的支持，特别是在处理页面故障时。<br><br>在历史讨论中，参与者探讨了如何在同一虚拟机内同时支持支持和不支持 mmap 的内存插槽。Ackerley Tng 和其他人讨论了用户希望通过 mmap 来设置内存策略的用例，并提出了对补丁的命名和功能的疑虑。<br><br>本周的新讨论中，Fuad Tabba 提出了对补丁命名的反思，认为“prefer”一词可能引起误解，并强调需要明确 memslot 的功能。Ackerley Tng 认为该功能可能不属于当前补丁系列的范围，建议用户空间应明确其需求，避免引入混淆。Shivank Garg 和 David Hildenbrand 支持先实现 mmap 功能，后续再处理复杂用例，认为这样更具战略性。<br><br>总体来看，本周的讨论集中在补丁的命名、功能范围以及如何在未来的补丁中处理更复杂的用例上，参与者达成共识，优先推进当前补丁的实现，以便为后续工作铺平道路。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-24]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ackerley Tng <span class="email-sender">&lt;ackerleytng@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ackerley Tng <span class="email-sender">&lt;ackerleytng@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ackerley Tng <span class="email-sender">&lt;ackerleytng@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Shivank Garg <span class="email-sender">&lt;shivankg@amd.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ackerley Tng <span class="email-sender">&lt;ackerleytng@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v12 10/18] KVM: x86/mmu: Handle guest page faults for
 guest_memfd with shared memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v10 0/6] KVM: arm64: Map GPU device memory as cacheable</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-05</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下对 GPU 设备内存进行缓存映射的补丁系列（PATCH v10 0/6）。该补丁旨在解决当前 KVM 对设备内存的映射限制，使得 GPU 设备内存能够被标记为可缓存。<br><br>在历史讨论中，补丁的背景主要强调了在 Grace Hopper 和 Blackwell 超级芯片平台上，GPU 设备内存是可缓存的 DDR 内存，且 KVM 目前只能将内存区域强制标记为 NORMAL 或 DEVICE_nGnRE，限制了未添加到内核的设备内存的缓存映射能力。<br><br>本周的新讨论中，Ankit Agrawal 提出了六个补丁，主要进展包括：<br>1. **重命名变量**：将设备变量重命名为 `s2_force_noncacheable`，以更准确地反映其功能。<br>2. **更新内存检查**：修改了检测设备内存的逻辑，确保只在适当的 VMA 标志下调用。<br>3. **阻止缓存 PFNMAP 映射**：修复了由于 S1 和 S2 映射属性不匹配而导致的安全问题，确保用户空间不能将 PFNMAP 映射为缓存。<br>4. **新增硬件支持检查函数**：添加了 `kvm_arch_supports_cacheable_pfnmap()` 函数，以确定硬件是否支持缓存管理。<br>5. **允许基于 VMA 标志的缓存映射**：允许设备内存在满足特定条件时被标记为缓存。<br>6. **暴露新的 KVM 能力**：引入了一个新的 KVM 能力，允许用户空间查询 PFNMAP 内存区域是否可以安全地映射为缓存。<br><br>这些补丁的实施将改善 KVM 对 GPU 设备内存的支持，提升虚拟化性能和安全性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-05]</span> <span class="email-subject">[PATCH v10 0/6] KVM: arm64: Map GPU device memory as cacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-05]</span> <span class="email-subject">[PATCH v10 1/6] KVM: arm64: Rename the device variable to s2_force_noncacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-05]</span> <span class="email-subject">[PATCH v10 2/6] KVM: arm64: Update the check to detect device memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-05]</span> <span class="email-subject">[PATCH v10 3/6] KVM: arm64: Block cacheable PFNMAP mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-05]</span> <span class="email-subject">[PATCH v10 4/6] KVM: arm64: New function to determine hardware cache management support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-05]</span> <span class="email-subject">[PATCH v10 5/6] KVM: arm64: Allow cacheable stage 2 mapping using VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-05]</span> <span class="email-subject">[PATCH v10 6/6] KVM: arm64: Expose new KVM cap for cacheable PFNMAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/2] KVM: arm64: Fixes and clarifications for FEAT_S1POE</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-07-01</span>
                </div>

                <div class="ai-summary">
                    本邮件列表讨论主要围绕 KVM 的 arm64 架构中的 FEAT_S1POE 特性进行，Marc Zyngier 提出了两个补丁以修复和澄清当前的实现问题。<br><br>首先，原始补丁的内容涉及到对 S1POE 特性的支持，Marc 指出当前实现中存在一些混淆，例如 wi->{e0,}poe 和 wr->{p,u}ov 的使用不当，以及 WXN 规则的应用不准确。补丁旨在解决这些问题，尽管目前尚无 S1POE 硬件可用。<br><br>在之前的讨论中，Marc 强调了 POE 计算中的混淆，明确了 wi->{e0,}poe 是输入，而 wr->{p,u}ov 是输出，提出了重构计算权限的建议，以避免不必要的寄存器读取。<br><br>本周的新讨论中，Marc 提交了两个补丁：第一个补丁修复了 wi 和 wr 之间的混淆，重构了权限计算逻辑；第二个补丁则根据架构规范分开处理 WXN 规则，使代码更易于理解和验证。此外，Ben Horgan 提出了两个补丁，修复了 MDCR_EL2.HPMN 的上限 enforcement 问题，并确保替换位操作的返回值被检查，得到了参与者的认可。<br><br>总体来看，本周的讨论集中在对现有实现的修正和规范化上，旨在提高 KVM 的稳定性和可维护性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">[PATCH 0/2] KVM: arm64: Fixes and clarifications for FEAT_S1POE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">[PATCH 1/2] KVM: arm64: Remove the wi->{e0,}poe vs wr->{p,u}ov confusion</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">[PATCH 2/2] KVM: arm64: Follow specification when implementing WXN</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">[PATCH 0/2] Fix and add warning of misuse of type##_replace_bits()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">[PATCH 1/2] KVM: arm64: Fix enforcement of upper bound on MDCR_EL2.HPMN</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">[PATCH 2/2] bitfield: Ensure the return value of type##_replace_bits() is checked</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH 1/2] KVM: arm64: Fix enforcement of upper bound on
 MDCR_EL2.HPMN</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zenghui Yu <span class="email-sender">&lt;yuzenghui@huawei.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7 0/5] KVM: arm64: Support FF-A 1.2 and SEND_DIRECT2 ABI</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-07-01</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构中对 FF-A（Firmware Framework for Arm）1.2 及 SEND_DIRECT2 ABI 的支持，涉及一系列补丁（patch）。<br><br>1. **原始补丁内容**：补丁集的主要目的是支持 FF-A 1.2 规范，特别是新的 SEND_DIRECT2 ABI。该补丁防止主机使用低于已与虚拟机监控器协商的 FF-A 版本，确保兼容性。<br><br>2. **之前讨论要点**：在历史讨论中，补丁经历了多次修改，主要集中在 clarifying optional interfaces 和使用 SMCCC（Secure Monitor Call Convention）1.2 以简化对超过 8 个参数和/或返回超过 4 个值的接口的支持。补丁还更新了不支持的接口列表，以反映 FF-A 1.2 的新增内容。<br><br>3. **本周的新讨论与进展**：本周的讨论主要集中在补丁的具体实现上，包括对 FF-A 1.2 的支持、对主机处理程序的更新以及对不支持的 FFA_NOTIFICATION_* 接口的标记。参与者 Per Larsen 提出了多个补丁，得到 Will Deacon 的认可。Marc Zyngier 对于 SMCCC 1.2 中某些寄存器的使用提出了质疑，认为在某些情况下可能会导致寄存器状态不一致，需进一步讨论和澄清。<br><br>总体来看，本周的讨论推动了对 FF-A 1.2 支持的实现进展，但也引发了对寄存器处理的技术争议，显示出该补丁集在实现细节上的复杂性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">[PATCH v7 0/5] KVM: arm64: Support FF-A 1.2 and SEND_DIRECT2 ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">[PATCH v7 1/5] KVM: arm64: Correct return value on host version
 downgrade attempt</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">[PATCH v7 2/5] KVM: arm64: Use SMCCC 1.2 for FF-A initialization
 and in host handler</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">[PATCH v7 3/5] KVM: arm64: Mark FFA_NOTIFICATION_* calls as
 unsupported</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">[PATCH v7 4/5] KVM: arm64: Bump the supported version of FF-A to
 1.2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">[PATCH v7 5/5] KVM: arm64: Support FFA_MSG_SEND_DIRECT_REQ2 in
 host handler</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">Re: [PATCH v7 2/5] KVM: arm64: Use SMCCC 1.2 for FF-A initialization and in host handler</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 2/5] irqchip/gic-v5: Populate struct gic_kvm_info</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-06-27</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于对 GICv5 主机支持 GICv3 客户机的补丁系列，特别是第二个补丁「[PATCH v2 2/5] irqchip/gic-v5: Populate struct gic_kvm_info」。该补丁的目的是根据支持 FEAT_GCIE_LEGACY 特性来填充 gic_kvm_info 结构体，以便 KVM 能够探测到兼容的 GIC。<br><br>在历史讨论中，Sascha Bischoff 提到这一系列补丁的主要动机是使现有的 GICv3 虚拟机能够在 GICv5 系统上无缝运行，而无需对虚拟机或虚拟机监控器进行修改。讨论还涉及到 IRQ 芯片支持和 KVM GIC 支持的相关内容。<br><br>在本周的新讨论中，Lorenzo Pieralisi 对第二个补丁进行了审核并表示认可。Jonathan Cameron 提出了关于代码格式的小问题，并与 Sascha Bischoff 进行了讨论，最终 Sascha 修复了相关问题并感谢了反馈。这表明补丁的审核和改进正在顺利进行，整体进展良好。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">[PATCH v2 2/5] irqchip/gic-v5: Populate struct gic_kvm_info</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sascha Bischoff <span class="email-sender">&lt;Sascha.Bischoff@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">[PATCH v2 0/5] KVM: arm64: Enable GICv3 guests on GICv5 hosts using
 FEAT_GCIE_LEGACY</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sascha Bischoff <span class="email-sender">&lt;Sascha.Bischoff@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">[PATCH v2 1/5] irqchip/gic-v5: Skip deactivate for forwarded PPI
 interrupts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sascha Bischoff <span class="email-sender">&lt;Sascha.Bischoff@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v2 2/5] irqchip/gic-v5: Populate struct gic_kvm_info</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Lorenzo Pieralisi <span class="email-sender">&lt;lpieralisi@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [PATCH v2 1/5] irqchip/gic-v5: Skip deactivate for forwarded
 PPI interrupts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jonathan Cameron <span class="email-sender">&lt;Jonathan.Cameron@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">Re: [PATCH v2 1/5] irqchip/gic-v5: Skip deactivate for forwarded PPI
 interrupts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sascha Bischoff <span class="email-sender">&lt;Sascha.Bischoff@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">Re: [PATCH v2 2/5] irqchip/gic-v5: Populate struct gic_kvm_info</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sascha Bischoff <span class="email-sender">&lt;Sascha.Bischoff@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum 162200803</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-06-26</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 ARM64 架构的 HIP10/HIP10C erratum 162200803 的补丁，该补丁旨在解决 GICv4.0 中 vPE 调度的硬件缺陷。具体问题是，当多个 vPE 同时发送调度命令时，可能会导致命令超时，因为硬件只能逐个处理这些命令。<br><br>在历史讨论中，Zhou Wang 提出了补丁，并指出了缺陷的具体表现。Marc Zyngier 提出，当前的 KVM 实现并未限制 vLPI 的分配，可能导致超出硬件限制的情况。Zhou Wang 也同意需要在 MAPTI/MAPI 命令中进行相关检查，以确保不超过允许的 vLPI 数量。<br><br>在本周的新讨论中，Marc Zyngier 强调在实施限制之前需要确保相关逻辑的完整性，并提到需要支持从用户空间保存和恢复这些限制，以便支持虚拟机迁移。Zhou Wang 提出了将 GICD_TYPER.num_LPIs 作为默认配置的建议，以确保在相同 KVM 版本间迁移时逻辑正确。最后，Marc Zyngier 强调，不能在现有系统上破坏迁移功能，必须确保对未见过此限制的虚拟机恢复时不出现问题。<br><br>总体而言，讨论集中在如何有效地实施补丁以解决硬件缺陷，同时确保 KVM 的稳定性和迁移功能。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">[PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhou Wang <span class="email-sender">&lt;wangzhou1@hisilicon.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">Re: [PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">Re: [PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum
 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhou Wang <span class="email-sender">&lt;wangzhou1@hisilicon.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum
 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhou Wang <span class="email-sender">&lt;wangzhou1@hisilicon.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">Re: [PATCH] ARM64: errata: Add workaround for HIP10/HIP10C erratum 162200803</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 00/10] perf: arm_spe: Armv8.8 SPE features</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-06-30</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了关于 Armv8.8 SPE 特性的补丁系列（PATCH v3 00/10），主要涉及性能监控（perf）相关的改进。补丁包括多个方面的更新，例如新增的配置选项和文档更新。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测该补丁系列旨在增强 Arm 架构下的性能监控能力，尤其是针对 Armv8.8 SPE 特性。<br><br>在本周的新讨论中，参与者对补丁的多个部分进行了审查和确认。Ian Rogers 对补丁中的几个关键部分（如 perf_event_attr::config4 和工具头文件同步）表示认可，并给予了“Reviewed-by”标记。此外，Jinqian Yang 提出了一个与 KVM 相关的问题，指出在特定配置下，QEMU 无法启动，并建议在写入 KVM 时更新寄存器列表以解决此问题。Cornelia Huck 对此表示赞同，并指出需要进一步考虑寄存器可见性变化的影响。<br><br>总体来看，本周的讨论集中在补丁的审查和 KVM 相关问题的解决方案上，显示出对 Arm 架构性能监控的持续关注和改进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v3 00/10] perf: arm_spe: Armv8.8 SPE features</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v3 06/10] perf: Add perf_event_attr::config4</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ian Rogers <span class="email-sender">&lt;irogers@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v3 08/10] tools headers UAPI: Sync linux/perf_event.h with
 the kernel sources</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ian Rogers <span class="email-sender">&lt;irogers@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v3 10/10] perf docs: arm-spe: Document new SPE filtering features</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ian Rogers <span class="email-sender">&lt;irogers@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [PATCH v3 07/10] arm/kvm: write back modified ID regs to KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jinqian Yang <span class="email-sender">&lt;yangjinqian1@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [PATCH v3 07/10] arm/kvm: write back modified ID regs to KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/7] Add support for FEAT_{LS64, LS64_V} and related tests</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-06-26</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了对 Armv8.7 架构中新特性 FEAT_{LS64, LS64_V} 的支持，主要涉及相关的补丁和虚拟机管理（VMM）中的异常处理。<br><br>1. **原始补丁内容**：Yicong Yang 提出了一个补丁系列，旨在为 Armv8.7 的 FEAT_{LS64, LS64_V} 特性提供支持。该补丁包括在 CPU 特性列表中添加识别和启用这些特性、通过 HWCAP3 和 cpuinfo 向用户空间暴露支持信息、添加相关的硬件能力测试，以及在虚拟机中处理对不支持内存的访问异常。<br><br>2. **之前讨论要点**：在之前的讨论中，Marc Zyngier 对补丁中的异常处理提出了质疑，认为在某些情况下，VMM 不应介入处理不支持的内存访问。讨论中提到，如果虚拟机被告知不支持 LS64WB，但仍试图在设备内存上使用这些指令，可能会导致不必要的异常。<br><br>3. **本周新讨论进展**：在本周的讨论中，Yicong Yang 和 Marc Zyngier 达成一致，支持将不支持的原子操作异常（UAoEF）注入回虚拟机，以保持与主机的一致性。这种处理方式被认为在大多数情况下是公平的，尤其是在缺乏 LS64WB 支持的平台上。<br><br>总体而言，讨论围绕如何在虚拟化环境中合理处理新特性引入的异常进行了深入探讨，并在本周达成了新的共识。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">[PATCH v3 0/7] Add support for FEAT_{LS64, LS64_V} and related tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">[PATCH v3 3/7] KVM: arm64: Handle DABT caused by LS64* instructions on unsupported memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">Re: [PATCH v3 3/7] KVM: arm64: Handle DABT caused by LS64* instructions on unsupported memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-26]</span> <span class="email-subject">Re: [PATCH v3 3/7] KVM: arm64: Handle DABT caused by LS64*
 instructions on unsupported memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">Re: [PATCH v3 3/7] KVM: arm64: Handle DABT caused by LS64* instructions on unsupported memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v3 3/7] KVM: arm64: Handle DABT caused by LS64*
 instructions on unsupported memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yicong Yang <span class="email-sender">&lt;yangyicong@huawei.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/3] arm64: Support FEAT_LSFE (Large System Float
 Extension)</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-06-27</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了对 ARM64 架构的 FEAT_LSFE（大系统浮点扩展）的支持，涉及三个补丁（patch）。FEAT_LSFE 是从 v9.5 版本开始可选的特性，旨在为浮点值提供原子内存操作的新指令。尽管当前内核没有直接使用该特性，但补丁提供了一个硬件能力（hwcap），以便用户空间能够发现该特性，并允许 KVM 客户机访问相关 ID 寄存器字段。<br><br>在历史讨论中，Mark Brown 提出了三个补丁，分别是：为 FEAT_LSFE 添加 hwcap、在 KVM 中向客户机暴露该特性以及在自测中添加对该特性的测试。补丁的主要目的是支持用户空间对该特性的发现。<br><br>在本周的新讨论中，Ben Horgan 对补丁提出了一些小的修改建议，并表示整体看起来很不错，尽管他是新手，认为需要更有经验的审查者进行进一步的评估。他的反馈包括对补丁中的一些术语和实现细节的细微调整建议。整体上，本周的讨论主要集中在对补丁的审查和小的改进建议上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">[PATCH 0/3] arm64: Support FEAT_LSFE (Large System Float
 Extension)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">[PATCH 1/3] arm64/hwcap: Add hwcap for FEAT_LSFE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">[PATCH 3/3] kselftest/arm64: Add lsfe to the hwcaps test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH 1/3] arm64/hwcap: Add hwcap for FEAT_LSFE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH 3/3] kselftest/arm64: Add lsfe to the hwcaps test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH 0/3] arm64: Support FEAT_LSFE (Large System Float
 Extension)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ben Horgan <span class="email-sender">&lt;ben.horgan@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v6 00/28] KVM: arm64: Implement support for SME</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-06-25</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 KVM（Kernel-based Virtual Machine）中为 arm64 架构实现对 SME（Scalable Matrix Extension）的支持，具体涉及到一系列补丁（PATCH v6 00/28）。<br><br>在历史讨论中，Mark Brown 提出了多个反馈点，包括用户空间 ABI 的设计、SVE（Scalable Vector Extension）寄存器的访问方式，以及如何在 KVM 中实现对 SME 的控制和细粒度陷阱的支持。特别是关于 SME 优先级寄存器的补丁（PATCH v6 18/28），讨论了如何在共享单一 SME 硬件块的系统中配置处理单元的相对优先级。<br><br>本周的新讨论中，Mark Brown 和 Marc Zyngier 继续探讨了寄存器的处理方式。Marc 提到，基于之前的 SVCR 寄存器处理方式，认为将寄存器设置在 sysreg 文件中会更加稳健和简洁，而不是进行自定义处理。经过讨论，Marc 同意将该寄存器的处理简化为合成方式，并确认在 NV 超级管理程序的上下文中，寄存器访问将会被正常陷阱处理。<br><br>总体来看，本周的讨论集中在对寄存器处理方式的优化上，达成了简化处理的共识。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-25]</span> <span class="email-subject">[PATCH v6 00/28] KVM: arm64: Implement support for SME</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-25]</span> <span class="email-subject">[PATCH v6 18/28] KVM: arm64: Support SME priority registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-29]</span> <span class="email-subject">Re: [PATCH v6 18/28] KVM: arm64: Support SME priority registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">Re: [PATCH v6 18/28] KVM: arm64: Support SME priority registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/3] arm64: Support FEAT_LSFE (Large System Float
 Extension)</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-03</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了对 ARM64 架构的 FEAT_LSFE（大系统浮点扩展）的支持，涉及三个补丁（patch）。FEAT_LSFE 是从 v9.5 开始可选的特性，主要用于提供原子浮点内存操作。尽管当前内核没有直接使用该特性，但补丁的目的是为用户空间提供硬件能力（hwcap）以便于发现，并允许 KVM 客户端访问相关的 ID 寄存器字段。<br><br>在历史讨论中，补丁的初步版本（v1）已被提出，主要内容包括添加 hwcap 支持和 KVM 相关的修改。补丁 v2 进行了修正，确保 hwcap 测试的结果正确，并提供了 v1 的链接。<br><br>本周的新讨论中，Mark Brown 提出了补丁 v2 的三个具体实现：<br>1. **arm64/hwcap**：为 FEAT_LSFE 添加 hwcap 支持，以便用户空间能发现该特性。<br>2. **KVM**：在 KVM 中暴露 FEAT_LSFE 相关的 ID 寄存器字段，允许客户机识别该特性。<br>3. **kselftest**：在自测试中添加对 LSFE 的支持，确保测试覆盖该特性。<br><br>这些补丁的实现将增强 ARM64 架构在处理浮点运算时的灵活性，尽管目前内核尚未直接利用该特性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">[PATCH v2 0/3] arm64: Support FEAT_LSFE (Large System Float
 Extension)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">[PATCH v2 1/3] arm64/hwcap: Add hwcap for FEAT_LSFE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">[PATCH v2 2/3] KVM: arm64: Expose FEAT_LSFE to guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">[PATCH v2 3/3] kselftest/arm64: Add lsfe to the hwcaps test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Fix handling of FEAT_GTG for unimplemented granule sizes</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-07-01</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下处理未实现的 granule 大小的补丁。补丁的主要内容是修复在仅支持部分页面大小的系统上启动 EL2 客户机时，错误地报告支持不实际存在的页面大小的问题。具体来说，补丁通过增加新检查，确保在向客户机发布 granule 大小时，实际硬件支持的 granule 大小被验证。<br><br>在之前的讨论中，Marc Zyngier 提到，当前实现可能在某些情况下导致不一致的 granularity，尤其是在 S1 和 S2 之间的匹配问题。他强调这种情况应该被避免，并建议在补丁的变更日志中进一步阐明其合理性。<br><br>本周的新讨论中，Oliver Upton 对补丁表示支持，并建议补充一些说明以增强补丁的清晰度。Marc Zyngier 随后确认已根据建议更新了补丁说明，并表示补丁已被应用于修复列表中。整体来看，本周的讨论推动了补丁的完善和最终应用。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">[PATCH] KVM: arm64: Fix handling of FEAT_GTG for unimplemented granule sizes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix handling of FEAT_GTG for unimplemented
 granule sizes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix handling of FEAT_GTG for unimplemented granule sizes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix handling of FEAT_GTG for unimplemented granule sizes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v6 0/5] KVM: arm64: Support FF-A 1.2 and SEND_DIRECT2 ABI</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-06-27</span>
                </div>

                <div class="ai-summary">
                    在本次邮件讨论中，主题为“[PATCH v6 0/5] KVM: arm64: 支持 FF-A 1.2 和 SEND_DIRECT2 ABI”。该补丁集的主要目的是为了支持 FF-A 1.2 规范中引入的新 SEND_DIRECT2 ABI，允许使用寄存器 x4-x17 作为消息负载。此外，该补丁确保主机不会使用与超管协商的版本低于 FF-A 1.2 的版本，以避免兼容性问题。<br><br>在历史讨论中，Per Larsen 提到需要提升超管支持的 FF-A 版本，以便实现新的消息接口 FFA_MSG_SEND_DIRECT_REQ2 和 FFA_MSG_SEND_RESP2。同时，更新了 ffa_set_retval 函数，以支持使用 SMCCC 1.2 进行 64 位 SMC 调用，并在必要时回退到 SMCCC 1.1。<br><br>在本周的新讨论中，Marc Zyngier 对补丁提出了一些建议。他询问了某些字段是否确实是可选的，并建议检查 MBZ 字段是否仍为 0，理想情况下还应检查 x3。此外，他提到使用 GENMASK 表达掩码会更清晰，以避免将其误解为其他值。整体来看，本周的讨论主要集中在补丁的细节和代码质量的改进上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">[PATCH v6 0/5] KVM: arm64: Support FF-A 1.2 and SEND_DIRECT2 ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-27]</span> <span class="email-subject">[PATCH v6 4/5] KVM: arm64: Bump the supported version of FF-A to
 1.2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Per Larsen via B4 Relay <span class="email-sender">&lt;devnull+perlarsen.google.com@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v6 4/5] KVM: arm64: Bump the supported version of FF-A to 1.2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v23 4/4] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-04</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 ARM 架构下的性能监控单元（PMU）支持分支记录缓冲区扩展（BRBE）的补丁（PATCH v23 4/4）。该补丁旨在改进 BRBE 的功能，以便更好地处理分支事件的记录。<br><br>在历史讨论中，补丁的初步版本经过了多次修改，主要集中在如何优化 BRBE 的无效化（invalidate）操作，以避免在处理事件溢出时出现分支记录的不连续性。补丁的 changelog 指出，之前的实现可能导致在多个事件溢出时，只有第一个事件能接收到分支记录。<br><br>在本周的新讨论中，参与者 Mark Rutland 对补丁的现状表示认可，并提出了一些需要修正的具体建议。他指出，BRBE 的无效化操作应在 `brbe_enable()` 中进行，而不是在 `brbe_read_filtered_entries()` 中，以确保在处理多个分支事件时不会丢失记录。此外，他还建议将 `armv8pmu_restart()` 函数合并回 `armv8pmu_start()` 中，以简化代码逻辑。Mark 提供了相应的代码差异（diff）以供参考。<br><br>总体来看，本周的讨论推动了补丁的进一步完善，Mark 表示支持尽快应用这些修改。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v23 4/4] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [PATCH v23 0/4] arm64/perf: Enable branch stack sampling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Remove kvm_arch_vcpu_run_map_fp()</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-06-19</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，旨在移除 `kvm_arch_vcpu_run_map_fp()` 函数。历史讨论中，Mark Rutland 提到，过去 KVM hyp 代码需要将主机的 FPSIMD 状态保存到主机的 `fpsimd_state` 内存中，并在运行 vCPU 之前将其映射到 hyp 的 Stage-1 映射中。然而，随着两个提交（fbc7e61195e2 和 8eca7f6d5100）的引入，这一过程已不再必要，因为现在在调用 hyp 运行 vCPU 之前，主机的 FPSIMD 状态会被主动保存。<br><br>在本周的新讨论中，Marc Zyngier 对该补丁表示感谢，并确认已将其应用于修复中。补丁的提交 ID 为 42ce432522a17685f5a84529de49e555477c0a1f。这表明该补丁已获得认可并被纳入代码库，标志着讨论的结束和进展的实现。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-19]</span> <span class="email-subject">[PATCH] KVM: arm64: Remove kvm_arch_vcpu_run_map_fp()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Remove kvm_arch_vcpu_run_map_fp()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: preserve pending during kvm_irqfd_deassign</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-07-02</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，主题为“在 kvm_irqfd_deassign 期间保留待处理的中断”。补丁的主要目的是在调用 `kvm_vgic_v4_unset_forwarding` 时，如果中断在 `irq->pending_latch` 中待处理，则将其转移到生产者的 eventfd，以便在 KVM 实例被销毁后仍能保留中断状态。<br><br>在之前的讨论中，Steve Sistare 提出了这个补丁，强调了在 QEMU 的实时更新过程中，VFIO 设备描述符被传递到新进程，但 KVM 实例被销毁后重新创建时并未暂停 VFIO 中断。补丁的实现涉及对多个文件的修改，以确保待处理的中断能够正确转移。<br><br>本周的讨论中，Oliver Upton 对补丁提出了质疑，指出该实现并不可靠，特别是在 ITS 映射更新时可能会导致中断丢失或产生错误。他提到 KVM 已经提供了 `SAVE_PENDING_TABLES` ioctl 来保存 LPI 的待处理状态，并认为用户空间应负责处理这一过程，而不应依赖 KVM 进行状态转发。Oliver 还指出补丁在处理硬件 vLPI 时存在问题，认为 KVM 不需要对此进行额外处理。<br><br>总结来看，虽然补丁旨在改善中断状态的管理，但当前的讨论表明其实现存在潜在问题，且对 KVM 的必要性提出了不同的看法。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">[PATCH] KVM: arm64: preserve pending during kvm_irqfd_deassign</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steve Sistare <span class="email-sender">&lt;steven.sistare@oracle.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: preserve pending during kvm_irqfd_deassign</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 09/22] KVM: arm64: Correct kvm_arm_pmu_get_max_counters()</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-06-30</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的性能监控单元（PMU）计数器的修正，具体是针对 `kvm_arm_pmu_get_max_counters()` 函数的补丁（PATCH v3 09/22）。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测该补丁旨在解决 PMU 计数器的最大值计算问题，确保在不同分区情况下能够正确返回计数器的数量。<br><br>本周的新讨论中，参与者 Colton Lewis 和 Marc Zyngier 进行了深入的技术交流。Marc 提到在没有分区的情况下，`hpmn_max` 的值应为 0，这表示我们希望仅将周期计数器提供给客户机。然而，0 也是一个有效值，表示 PMU 是分区的。Colton 进一步解释了他对 PMU 分区的判断逻辑，指出如果将 `hpmn_max` 设置为 0，则需要引入另一个标志来检查分区状态。<br><br>总体来看，本周的讨论集中在如何正确处理 PMU 分区状态与计数器最大值之间的关系，确保补丁的逻辑能够满足不同使用场景的需求。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v3 09/22] KVM: arm64: Correct kvm_arm_pmu_get_max_counters()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Colton Lewis <span class="email-sender">&lt;coltonlewis@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-06-30]</span> <span class="email-subject">Re: [PATCH v3 02/22] arm64: Generate sign macro for sysreg Enums</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Colton Lewis <span class="email-sender">&lt;coltonlewis@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V5 0/2] arm64/debug: Drop redundant DBG_MDSCR_* macros</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-03</span>
                </div>

                <div class="ai-summary">
                    本邮件主题为“[PATCH V5 0/2] arm64/debug: Drop redundant DBG_MDSCR_* macros”，主要讨论了在 arm64 架构中去除冗余的 DBG_MDSCR_* 宏定义。<br><br>在历史讨论中，未提供具体的背景信息或之前的讨论内容，因此我们无法详细了解此 patch 的起源或相关的争论。<br><br>在本周的新讨论中，参与者 Catalin Marinas 确认已将该 patch 应用到 arm64 的 for-next/mdscr-cleanup 分支，并对 Anshuman Khandual 表达了感谢。该 patch 包含两个部分：第一部分是去除冗余的 DBG_MDSCR_* 宏，第二部分是对 KVM 自测中 MDSCR_EL1 寄存器相关变量的数据类型进行修改，改为 uint64_t。相关的代码链接也被提供。<br><br>总结来看，本周的讨论主要集中在确认 patch 的应用和后续的代码调整上，未涉及更深入的技术争论或问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">Re: [PATCH V5 0/2] arm64/debug: Drop redundant DBG_MDSCR_* macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 1/6] KVM: arm64: VM exit to userspace to handle SEA</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-01</span>
                </div>

                <div class="ai-summary">
                    在本邮件线程中，讨论的主题是一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，具体内容为“VM exit to userspace to handle SEA”。该补丁旨在改进虚拟机退出到用户空间的处理方式，以更好地支持 SEA（Secure Enclave Architecture）。<br><br>由于历史讨论部分没有提供相关内容，因此我们无法了解该补丁的详细背景或之前的讨论要点。<br><br>在本周的新讨论中，参与者 Jiaqi Yan 发送了一封邮件，表示希望能得到对该补丁的审查和反馈。这表明该补丁已经提交并等待社区的评审，但目前尚未收到具体的评论或建议。<br><br>总结而言，该补丁的目的是优化 KVM 在 arm64 上的用户空间处理，当前仍在等待社区的进一步讨论和反馈。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">Re: [PATCH v2 1/6] KVM: arm64: VM exit to userspace to handle SEA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jiaqi Yan <span class="email-sender">&lt;jiaqiyan@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7] coccinelle: misc: Add field_modify script</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-01</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于一个名为“field_modify”的脚本的补丁（PATCH v7），该脚本用于在 Linux 内核中查找和建议将 opencoded 字段修改模式转换为使用 FIELD_MODIFY() API 的形式。此 API 定义在 include/linux/bitfield.h 中，旨在在编译时捕获可能的参数类型错误。<br><br>在历史讨论中，补丁经历了多个版本的修改，主要集中在改进代码示例、简化 Coccinelle 脚本的条件选择，以及在不同版本中对 ARM64 架构的支持进行调整。最终版本（v7）引入了一个新的辅助函数 FIELD_MODIFY()，并将核心内核文件中四个 opencoded FIELD_MODIFY() 的实例转换为使用新宏，确保在编译时进行类型检查。<br><br>本周的新讨论中，Luo Jie 提交了该补丁的最新版本，并详细说明了补丁的功能和验证情况。该补丁已在 IPQ9574 SoC（ARM64 架构）上进行验证，确保其有效性和兼容性。邮件中还提及了与之前版本的链接，便于参与者查阅历史修改记录。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-01]</span> <span class="email-subject">[PATCH v7] coccinelle: misc: Add field_modify script</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Luo Jie <span class="email-sender">&lt;quic_luoj@quicinc.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>GIT PULL</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[GIT PULL] KVM/arm64 fixes for 6.16, take #5</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-03</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM/arm64 在 6.16 版本中的修复补丁（patch）。本周的邮件由 Marc Zyngier 提出，主要内容是继续每周发布一个修复补丁的趋势，且修复的严重性逐渐降低。<br><br>本次补丁主要包括两个方面的修复：首先，移除过去修复中遗留的 EL1 S1 映射主机 FPSIMD 状态的代码；其次，停止向客户机报告错误的 S2 基础粒度大小。这些修复旨在提升 KVM/arm64 的稳定性和准确性。<br><br>本周没有提及历史讨论的具体内容，邮件中也未涉及之前的讨论要点。Marc Zyngier 预计这次的修复补丁将与上周的 kvmarm-fixes-6.16-4 补丁一起打包处理。<br><br>总的来说，本周的讨论集中在对 KVM/arm64 的小幅修复上，反映出开发者对代码质量的持续关注。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-03]</span> <span class="email-subject">[GIT PULL] KVM/arm64 fixes for 6.16, take #5</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Other</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH 0/2] scripts: extra_params rework</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-06-25</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论主题为对 kvm-unit-tests 中脚本的参数重构，主要涉及两个补丁的提交和讨论。<br><br>**原始补丁内容**：<br>Alexandru Elisei 提出了两个补丁，旨在重构脚本中的 `extra_params` 参数，以便更好地支持 kvmtool（仅限于 arm 和 arm64 架构）。第一个补丁将 `extra_params` 重命名为 `qemu_params`，以区分 qemu 和 kvmtool 的命令行选项。第二个补丁则新增了 `test_args` 参数，用于传递与虚拟机管理程序无关的测试参数。<br><br>**之前讨论要点**：<br>历史讨论中，Alexandru 解释了重构的原因，强调了 kvmtool 和 qemu 在虚拟机运行语法上的不同，并指出此更改将为未来的 kvmtool 支持打下基础。补丁的设计考虑了向后兼容性，保留了 `extra_params` 作为 `qemu_params` 的别名。<br><br>**本周的新讨论与进展**：<br>在本周的讨论中，Andrew Jones 请求对补丁进行确认以便合并，Thomas Huth 对两个补丁均表示认可并提供了确认（Ack）。最终，Andrew Jones 宣布补丁已成功合并。这标志着对 kvm-unit-tests 脚本参数重构的工作取得了实质性进展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-25]</span> <span class="email-subject">[kvm-unit-tests PATCH 0/2] scripts: extra_params rework</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-25]</span> <span class="email-subject">[kvm-unit-tests PATCH 1/2] scripts: unittests.cfg: Rename 'extra_params' to 'qemu_params'</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-25]</span> <span class="email-subject">[kvm-unit-tests PATCH 2/2] scripts: Add 'test_args' test definition parameter</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH 0/2] scripts: extra_params rework</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH 1/2] scripts: unittests.cfg: Rename
 'extra_params' to 'qemu_params'</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Thomas Huth <span class="email-sender">&lt;thuth@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH 2/2] scripts: Add 'test_args' test
 definition parameter</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Thomas Huth <span class="email-sender">&lt;thuth@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH 0/2] scripts: extra_params rework</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH 0/2] riscv: Add kvmtool support</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-07-04</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 RISC-V 架构的 KVM 工具支持的两个补丁（patch）。第一个补丁主要针对 ARM 的脚本，增加了一项在 RISC-V 中也很有用的检查；第二个补丁则使 RISC-V 能够将 KVM 工具作为一等公民使用。<br><br>在历史讨论中，虽然没有具体的历史邮件，但可以推测之前的讨论集中在如何增强 KVM 工具的跨架构支持，尤其是针对 RISC-V 的适配问题。<br><br>本周的新讨论中，Andrew Jones 提出了两个补丁的具体实现。第一个补丁确保在非 ARM 主机上运行 KVM 工具时，能够正确识别主机架构，避免在不支持的主机上运行。第二个补丁则为 RISC-V 添加了 KVM 工具的支持，使其能够与 ARM 和 ARM64 一样，作为主要的测试运行工具。此外，更新的 README 文件也反映了这一变化，明确指出 RISC-V 现在也可以使用 KVM 工具进行测试。<br><br>总体而言，本周的讨论和补丁提交标志着 RISC-V 在 KVM 测试工具支持方面的重要进展，增强了其与其他架构的兼容性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">[kvm-unit-tests PATCH 0/2] riscv: Add kvmtool support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">[kvm-unit-tests PATCH 1/2] arm/arm64: Ensure proper host arch with kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">[kvm-unit-tests PATCH 2/2] riscv: Add kvmtool support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH v4 00/13] arm/arm64: Add kvmtool to the runner script</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-06-25</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 KVM 单元测试中将 kvmtool 添加到运行脚本的补丁（PATCH v4 00/13）。该补丁旨在简化用户的测试流程，使其能够通过简单的命令配置和运行所有测试，特别是针对 arm 和 arm64 架构。使用 kvmtool 的原因包括其体积小且易于修改，相较于 qemu 更适合开发者在添加或原型设计新功能时使用。<br><br>在历史讨论中，Alexandru Elisei 提出了这个补丁，并阐述了使用 kvmtool 的优势。补丁的目标是通过自动化测试来提高开发效率。<br><br>在本周的新讨论中，Andrew Jones 对补丁进行了跟进，询问是否可以获得其他参与者的确认，以便合并该补丁。最终，Andrew Jones 在后续邮件中确认补丁已被合并，标志着这一讨论的成功推进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-06-25]</span> <span class="email-subject">[kvm-unit-tests PATCH v4 00/13] arm/arm64: Add kvmtool to the runner script</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-02]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v4 00/13] arm/arm64: Add kvmtool to the
 runner script</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-07-04]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v4 00/13] arm/arm64: Add kvmtool to the
 runner script</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
