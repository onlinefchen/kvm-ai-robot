<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVMARM 邮件列表 AI 总结报告</title>
    <style>
        body {
            font-family: 'Courier New', 'Courier', monospace;
            line-height: 1.5;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 40px;
            background-color: #ffffff;
            color: #222;
        }
        .container {
            background: #ffffff;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
            color: #000;
            margin-bottom: 0.3em;
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 15px;
        }
        h2 {
            font-size: 1.6em;
            font-weight: bold;
            color: #000;
            margin-top: 2em;
            margin-bottom: 0.6em;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 1.2em;
            font-weight: bold;
            color: #111;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h4 {
            font-size: 1.05em;
            font-weight: bold;
            color: #333;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
        }
        .meta-info {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px 20px;
            margin: 20px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        .meta-info p {
            margin: 6px 0;
            color: #444;
        }
        .meta-info strong {
            color: #000;
            font-weight: bold;
        }
        .stats {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid #000;
        }
        .stat-card {
            display: table-cell;
            border: 1px solid #000;
            padding: 12px 15px;
            text-align: center;
            background: #fafafa;
        }
        .stat-card h3 {
            margin: 0;
            color: #000;
            font-size: 1.8em;
            font-weight: bold;
            border: none;
            padding: 0;
        }
        .stat-card p {
            margin: 5px 0 0 0;
            color: #444;
            font-size: 0.9em;
            font-weight: normal;
        }
        .category {
            margin: 30px 0;
        }
        .thread {
            margin: 25px 0;
            padding: 15px;
            background: #fafafa;
            border: 1px solid #ccc;
            page-break-inside: avoid;
        }
        .thread-header {
            margin-bottom: 12px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .thread-header h3 {
            font-size: 1.15em;
            font-weight: bold;
            color: #000;
            margin: 0;
        }
        .thread-meta {
            display: block;
            margin: 8px 0 12px 0;
            font-size: 0.9em;
            color: #555;
            font-style: italic;
        }
        .thread-meta span {
            margin-right: 15px;
        }
        .ai-summary {
            background: #fff;
            border-left: 3px solid #666;
            padding: 12px 15px;
            margin: 15px 0;
            line-height: 1.6;
            color: #222;
            font-style: italic;
        }
        .email-list {
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px 15px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.88em;
            line-height: 1.5;
            overflow-x: auto;
            margin: 10px 0;
        }
        .email-item {
            margin: 4px 0;
            padding: 2px 0;
            color: #222;
        }
        .email-item.historical {
            background: #f5f5f5;
            border-left: 3px solid #999;
            padding-left: 8px;
            opacity: 0.8;
        }
        .email-item.new {
            background: #fffef0;
            border-left: 3px solid #0066cc;
            padding-left: 8px;
        }
        .email-date {
            color: #0066cc;
            font-weight: bold;
        }
        .email-date.historical {
            color: #666;
        }
        .email-sender {
            color: #c30;
            font-weight: normal;
        }
        .email-subject {
            color: #000;
        }
        .historical-marker {
            color: #999;
            font-size: 0.85em;
            font-style: italic;
        }
        .new-marker {
            color: #0066cc;
            font-size: 0.85em;
            font-weight: bold;
        }
        .archive-link {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            background: #333;
            color: #fff;
            text-decoration: none;
            border: 2px solid #000;
            font-weight: bold;
            transition: all 0.2s;
        }
        .archive-link:hover {
            background: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KVMARM Mailing List Analysis Report</h1>

        <div class="meta-info">
            <p><strong>Generated:</strong> 2025-10-27 09:25</p>
            <p><strong>Time Period:</strong> 2025年2月 第9周 (02/24 - 03/02)</p>
            <p><strong>Total Messages:</strong> 280 | <strong>Total Threads:</strong> 33</p>
            <p style="text-align: center;"><a href="archive.html" class="archive-link">📚 历史归档 Archive</a></p>
        </div>


        <div class="category">
            <h2>PATCH</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/4] Selftest for pKVM ownership transitions</h3>
                </div>

                <div class="thread-meta">
                    <span>28 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-02-25</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于为 pKVM 所做的自测补丁（PATCH v2 0/4），该补丁旨在测试 pKVM 的所有权转换。补丁包含四个部分，主要针对 ARM64 架构的 KVM。<br><br>**原始补丁/问题内容**：<br>补丁的主要目的是引入一个自测框架，以验证 pKVM 内存所有权的转换是否正常工作，特别是在不同状态下的转换。<br><br>**之前讨论要点**：<br>在历史讨论中，参与者讨论了补丁的初始版本，提出了对测试功能的需求，以及如何改进测试逻辑以涵盖更多场景，包括对非保护性来宾的支持。此外，讨论中提到需要避免在测试过程中引发不必要的警告（WARN）。<br><br>**本周的新讨论、进展或结论**：<br>本周的讨论集中在补丁的具体实现上。Quentin Perret 提出了补丁的更新，包括增加对非保护性来宾的测试支持，优化了数据段的使用，并修复了测试中的一些逻辑错误。参与者还讨论了如何处理错误代码的返回，以避免在测试中导致系统崩溃。Marc Zyngier 对补丁的某些实现提出了疑问，并建议在代码中使用更清晰的注释。整体来看，补丁在功能上得到了增强，并且参与者对其实施的细节进行了深入探讨。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v2 0/4] Selftest for pKVM ownership transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v2 1/4] KVM: arm64: Add .hyp.data section</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v2 2/4] KVM: arm64: Don't WARN from __pkvm_host_share_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v2 3/4] KVM: arm64: Selftest for pKVM transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v2 4/4] KVM: arm64: Extend pKVM selftest for np-guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH v2 2/4] KVM: arm64: Don't WARN from __pkvm_host_share_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH v2 2/4] KVM: arm64: Don't WARN from
 __pkvm_host_share_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v2 2/4] KVM: arm64: Don't WARN from __pkvm_host_share_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Selftest for pKVM transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Selftest for pKVM transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH v2 0/4] KVM: arm64: Fix initializing HCRX_EL2 and other traps
 in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH v2 1/4] KVM: arm64: Factor out setting HCRX_EL2 traps into
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH v2 2/4] KVM: arm64: Initialize HCRX_EL2 traps in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH v2 4/4] KVM: arm64: Create each pKVM hyp vcpu after its
 corresponding host vcpu</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v2 4/4] KVM: arm64: Create each pKVM hyp vcpu after its corresponding host vcpu</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v2 4/4] KVM: arm64: Create each pKVM hyp vcpu after its
 corresponding host vcpu</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v2 4/4] KVM: arm64: Create each pKVM hyp vcpu after its corresponding host vcpu</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v2 0/4] KVM: arm64: Fix initializing HCRX_EL2 and other traps in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH v2 0/4] KVM: arm64: Separate the hyp FF-A buffers init from
 the host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH v2 1/4] KVM: arm64: Use the static initializer for the vesion lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH v2 2/4] KVM: arm64: Move the ffa_to_linux definition to the
 ffa header</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH v2 4/4] KVM: arm64: Release the ownership of the hyp rx buffer
 to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v2 2/4] KVM: arm64: Move the ffa_to_linux definition to
 the ffa header</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sudeep Holla <span class="email-sender">&lt;sudeep.holla@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v2 2/4] KVM: arm64: Move the ffa_to_linux definition to
 the ffa header</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH v2 2/4] KVM: arm64: Move the ffa_to_linux definition to the ffa header</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/7] KVM: x86: nVMX IRQ fix and VM teardown cleanups</h3>
                </div>

                <div class="thread-meta">
                    <span>21 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-02-24</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（内核虚拟机）的一系列补丁，主要集中在 nVMX 中断修复和虚拟机拆解的清理工作上。<br><br>1. **原始补丁内容**：补丁的目标是修复一个 nVMX 的 bug，即 KVM 在嵌套 VM-Exit 后未能检测到 L1 有待处理的中断（IRQ 或 NMI）。由于 x86 的嵌套拆解流程存在问题，简单的修复变得复杂。<br><br>2. **之前讨论要点**：历史讨论中提到，x86 的 kvm_arch_destroy_vm() 在销毁虚拟机状态之前会释放 PIC，这导致在强制嵌套 VM-Exit 时可能出现空指针解引用或使用后释放的情况。补丁 1 解决了这一问题，确保在释放虚拟机状态之前先释放 vCPUs。<br><br>3. **本周的新讨论与进展**：本周的讨论中，参与者们对补丁进行了详细审查和讨论，包括补丁的顺序、清理过程中的潜在问题以及如何优化 MMU 的卸载流程。Sean Christopherson 提到将补丁 1 和 2 应用到 kvm/master 分支，并计划在 6.14 版本中发布。Yan Zhao 提出了对补丁的改进建议，强调了在虚拟机拆解过程中确保 vCPUs 的安全性和有效性。最终，补丁的审查和修改工作仍在进行中，预计将进一步优化 KVM 的性能和稳定性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 0/7] KVM: x86: nVMX IRQ fix and VM teardown cleanups</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 1/7] KVM: x86: Free vCPUs before freeing VM state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 2/7] KVM: nVMX: Process events on nested VM-Exit if injectable
 IRQ or NMI is pending</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 3/7] KVM: Assert that a destroyed/freed vCPU is no longer visible</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 4/7] KVM: x86: Don't load/put vCPU when unloading its MMU
 during teardown</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 5/7] KVM: x86: Unload MMUs during vCPU destruction, not before</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 6/7] KVM: x86: Fold guts of kvm_arch_sync_events() into kvm_arch_pre_destroy_vm()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 7/7] KVM: Drop kvm_arch_sync_events() now that all
 implementations are nops</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH 3/7] KVM: Assert that a destroyed/freed vCPU is no longer
 visible</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yan Zhao <span class="email-sender">&lt;yan.y.zhao@intel.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH 4/7] KVM: x86: Don't load/put vCPU when unloading its MMU
 during teardown</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yan Zhao <span class="email-sender">&lt;yan.y.zhao@intel.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH 1/7] KVM: x86: Free vCPUs before freeing VM state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yan Zhao <span class="email-sender">&lt;yan.y.zhao@intel.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH 7/7] KVM: Drop kvm_arch_sync_events() now that all
 implementations are nops</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: bibo mao <span class="email-sender">&lt;maobibo@loongson.cn&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH 3/7] KVM: Assert that a destroyed/freed vCPU is no longer visible</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH 4/7] KVM: x86: Don't load/put vCPU when unloading its MMU
 during teardown</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH 1/7] KVM: x86: Free vCPUs before freeing VM state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH 7/7] KVM: Drop kvm_arch_sync_events() now that all
 implementations are nops</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Claudio Imbrenda <span class="email-sender">&lt;imbrenda@linux.ibm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH 1/7] KVM: x86: Free vCPUs before freeing VM state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Paolo Bonzini <span class="email-sender">&lt;pbonzini@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH 1/7] KVM: x86: Free vCPUs before freeing VM state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH 1/7] KVM: x86: Free vCPUs before freeing VM state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Yan Zhao <span class="email-sender">&lt;yan.y.zhao@intel.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH 1/7] KVM: x86: Free vCPUs before freeing VM state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Paolo Bonzini <span class="email-sender">&lt;pbonzini@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH 0/7] KVM: x86: nVMX IRQ fix and VM teardown cleanups</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Paolo Bonzini <span class="email-sender">&lt;pbonzini@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v20 00/11] arm64/perf: Enable branch stack sampling</h3>
                </div>

                <div class="thread-meta">
                    <span>20 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-02-18</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是针对 ARM64 架构的性能监控（perf）功能，特别是启用分支堆栈采样的补丁系列（[PATCH v20 00/11]）。该补丁系列引入了 ARMv9.2 架构中的分支记录缓冲扩展（BRBE），旨在提升性能监控的能力。<br><br>在历史讨论中，补丁的背景和目的已被阐明，主要包括对 BRBE 的支持以及在虚拟化环境中处理分支记录的方式。特别是，补丁 10 和 11 讨论了在 nVHE（非虚拟化高效）环境中如何禁用来宾中的分支生成，以及如何在性能监控中实现 BRBE 的支持。<br><br>本周的新讨论集中在对补丁 10 和 11 的审查和反馈上。参与者 Leo Yan 提出了对任务迁移时分支记录保存和恢复的担忧，认为当前实现可能导致在上下文切换时丢失重要的分支记录。其他参与者 Mark Rutland 和 Rob Herring 也对如何处理事件过滤和记录的复杂性进行了深入讨论，强调了在不同事件之间合并过滤器的挑战。<br><br>总体来看，本周的讨论进一步深化了对补丁的理解，并提出了在实现过程中需要解决的具体问题，尤其是在多事件和上下文切换情况下的分支记录管理。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-18]</span> <span class="email-subject">[PATCH v20 00/11] arm64/perf: Enable branch stack sampling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring (Arm) <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-18]</span> <span class="email-subject">[PATCH v20 10/11] KVM: arm64: nvhe: Disable branch generation in
 nVHE guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring (Arm) <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-18]</span> <span class="email-subject">[PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring (Arm) <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH v20 10/11] KVM: arm64: nvhe: Disable branch generation in
 nVHE guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v20 11/11] perf: arm_pmuv3: Add support for the Branch
 Record Buffer Extension (BRBE)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-01]</span> <span class="email-subject">Re: [PATCH v20 00/11] arm64/perf: Enable branch stack sampling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/9] Stage-2 huge mappings for pKVM np-guests</h3>
                </div>

                <div class="thread-meta">
                    <span>17 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-28</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 pKVM 非特权客户机（np-guest）支持二级大页映射（PMD_SIZE）的补丁系列。该补丁旨在为 pKVM np-guest 安装 PMD 级别的映射，前提是其一级映射由 Hugetlbfs 或透明大页（THPs）支持。<br><br>在历史讨论中，参与者 Vincent Donnefort 提出了多个补丁，逐步引入了对大页映射的支持，包括对相关函数的修改和新功能的添加。补丁的核心是为 pKVM 的共享和取消共享操作引入了一个新的参数 `nr_pages`，以支持大页映射的处理。<br><br>本周的讨论中，Vincent Donnefort 提出了第 8 和第 9 个补丁，分别引入了支持 np-guest 的大页映射功能和改进了客户机页面的缓存管理。具体来说，第 8 个补丁允许在满足条件时安装块映射，而第 9 个补丁则通过引入共享 PMD_SIZE fixmap 来优化客户机页面的缓存操作，显著降低了延迟。<br><br>此外，参与者 Quentin Perret 提出了对补丁的细节性建议，关注代码的健壮性和内存地址的有效性。这些讨论表明，社区对补丁的实现和潜在问题保持高度关注，以确保系统的稳定性和性能。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 0/9] Stage-2 huge mappings for pKVM np-guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 1/9] KVM: arm64: Handle huge mappings for np-guest CMOs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 2/9] KVM: arm64: Add a range to __pkvm_host_share_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 2/9] KVM: arm64: Add range to __pkvm_host_share_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 3/9] KVM: arm64: Add a range to __pkvm_host_unshare_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 3/9] KVM: arm64: Add range to __pkvm_host_unshare_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 4/9] KVM: arm64: Add a range to __pkvm_host_wrprotect_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 4/9] KVM: arm64: Add range to __pkvm_host_wrprotect_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 5/9] KVM: arm64: Add a range to __pkvm_host_test_clear_young_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 5/9] KVM: arm64: Add range to __pkvm_host_test_clear_young_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 6/9] KVM: arm64: Convert pkvm_mappings to interval tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 7/9] KVM: arm64: Add a range to pkvm_mappings</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 7/9] KVM: arm64: Add range to pkvm_mappings</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 8/9] KVM: arm64: Stage-2 huge mappings for np-guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH 9/9] KVM: arm64: np-guest CMOs with PMD_SIZE fixmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH 1/9] KVM: arm64: Handle huge mappings for np-guest CMOs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH 2/9] KVM: arm64: Add a range to __pkvm_host_share_guest()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 00/16] KVM: arm64: Add NV GICv3 support</h3>
                </div>

                <div class="thread-meta">
                    <span>17 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-02-25</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 ARM64 架构下的 GICv3（通用中断控制器）支持的补丁集（PATCH v4 00/16）。该补丁旨在增强 KVM 对嵌套虚拟化的支持，特别是与 GICv3 相关的功能。<br><br>1. **原始补丁内容**：补丁集的主要目标是为 KVM 的 ARM64 实现添加对 GICv3 的支持，特别是 NV（Nested Virtualization）功能。补丁包括多个方面的改进，如处理 GICv3 的 EL2 访问、维护中断的仿真以及在 L2 和 L1 之间的中断注入。<br><br>2. **历史讨论要点**：在之前的讨论中，Marc Zyngier 提到了一些关键的改进，包括对 IRQ 处理优先级的注释、对 GICv3 相关寄存器的布局描述，以及在不同版本补丁之间的回归和重构。<br><br>3. **本周的新讨论与进展**：本周的讨论集中在多个补丁的提交上，包括：<br>   - 允许用户空间设置 VGIC 维护中断的 IRQ。<br>   - 在 L2 到 L1 的中断注入过程中，确保正确处理异常。<br>   - 处理 GICv3 的 EL2 访问和状态寄存器的仿真。<br>   - 进行 GICv3 的主机捕获要求与来宾设置的整合。<br>   - 失败 KVM 初始化如果请求 NV 但没有 GICv3 的支持。<br><br>整体来看，本周的讨论和补丁提交进一步推动了 KVM 在 ARM64 架构下对 GICv3 的支持，特别是在嵌套虚拟化场景中的应用。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 00/16] KVM: arm64: Add NV GICv3 support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 01/16] arm64: sysreg: Add layout for ICH_HCR_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 02/16] arm64: sysreg: Add layout for ICH_VTR_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 03/16] arm64: sysreg: Add layout for ICH_MISR_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 04/16] KVM: arm64: nv: Load timer before the GIC</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 05/16] KVM: arm64: nv: Add ICH_*_EL2 registers to vpcu_sysreg</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 06/16] KVM: arm64: nv: Plumb handling of GICv3 EL2 accesses</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 07/16] KVM: arm64: nv: Sanitise ICH_HCR_EL2 accesses</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 08/16] KVM: arm64: nv: Nested GICv3 emulation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 09/16] KVM: arm64: nv: Handle L2->L1 transition on interrupt injection</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 10/16] KVM: arm64: nv: Add Maintenance Interrupt emulation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 11/16] KVM: arm64: nv: Respect virtual HCR_EL2.TWx setting</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 12/16] KVM: arm64: nv: Request vPE doorbell upon nested ERET to L2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 13/16] KVM: arm64: nv: Propagate used_lrs between L1 and L0 contexts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 14/16] KVM: arm64: nv: Fold GICv3 host trapping requirements into guest setup</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 15/16] KVM: arm64: nv: Allow userland to set VGIC maintenance IRQ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">[PATCH v4 16/16] KVM: arm64: nv: Fail KVM init if asking for NV without GICv3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/4] mm: Rework generic PTDUMP configs</h3>
                </div>

                <div class="thread-meta">
                    <span>16 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-02-13</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 Linux 内核中 PTDUMP 配置的补丁系列，主要由 Anshuman Khandual 提出，目的是对通用 PTDUMP 配置进行重构和更名，以提高可读性和清晰度。补丁包括四个部分，其中最后一个补丁提议将 `GENERIC_PTDUMP` 和 `PTDUMP_CORE` 重命名为 `ARCH_HAS_PTDUMP` 和 `PTDUMP`，以消除混淆。<br><br>在历史讨论中，参与者对新命名的适当性进行了激烈讨论。Christophe Leroy 认为 `GENERIC_PTDUMP` 更加明确，而 Khandual 则认为 `ARCH_HAS_PTDUMP` 更能反映架构的实现情况。此外，Steven Price 提出应删除某些不必要的配置选项，以简化文档。<br><br>在本周的新讨论中，Christophe Leroy 继续对命名提出质疑，并建议进行替换。Oliver Upton 则提交了一系列与 KVM 和 GICv4 vLPI 注入相关的补丁，解决了用户空间可能引发的中断映射问题，并得到了 Marc Zyngier 的认可。最终，Upton 表示这些补丁已被应用到下一个版本中。<br><br>综上所述，邮件讨论围绕 PTDUMP 配置的重构展开，涉及命名的清晰性及其对不同架构的适用性，同时也引入了与 KVM 相关的修复和改进，显示了社区对内核代码质量和可维护性的关注。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-13]</span> <span class="email-subject">[PATCH 0/4] mm: Rework generic PTDUMP configs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-13]</span> <span class="email-subject">[PATCH 4/4] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-13]</span> <span class="email-subject">Re: [PATCH 4/4] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Christophe Leroy <span class="email-sender">&lt;christophe.leroy@csgroup.eu&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-13]</span> <span class="email-subject">Re: [PATCH 4/4] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-13]</span> <span class="email-subject">Re: [PATCH 4/4] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Christophe Leroy <span class="email-sender">&lt;christophe.leroy@csgroup.eu&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-14]</span> <span class="email-subject">Re: [PATCH 4/4] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-14]</span> <span class="email-subject">Re: [PATCH 4/4] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH 4/4] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Christophe Leroy <span class="email-sender">&lt;christophe.leroy@csgroup.eu&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH 4/4] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Christophe Leroy <span class="email-sender">&lt;christophe.leroy@csgroup.eu&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH 0/4] KVM: arm64: Fixes/clarification for GICv4 vLPI injection</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH 1/4] KVM: arm64: vgic-v4: Only attempt vLPI mapping for actual MSIs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH 2/4] KVM: arm64: vgic-v4: Only WARN for HW IRQ mismatch when unmapping vLPI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH 3/4] KVM: arm64: vgic-v4: Fall back to software irqbypass if LPI not found</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH 4/4] KVM: arm64: Document ordering requirements for irqbypass</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH 0/4] KVM: arm64: Fixes/clarification for GICv4 vLPI injection</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH 0/4] KVM: arm64: Fixes/clarification for GICv4 vLPI injection</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Drop mte_allowed check during memslot creation</h3>
                </div>

                <div class="thread-meta">
                    <span>14 messages</span>
                    <span>6 participants</span>
                    <span>Started: 2025-02-24</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（内核虚拟机）在 arm64 架构下的一个补丁，内容为“在内存槽创建过程中删除 mte_allowed 检查”。该补丁的目的是允许在创建内存槽时不强制要求 VM_MTE_ALLOWED 标志，从而解决用户在使用 MTE（内存标签扩展）与 VFIO（虚拟功能 I/O）直通时遇到的问题。<br><br>历史讨论中，之前的提交（如 d89585fbb308 和 c911f0d46879）曾对内存槽的检查进行了统一，导致在某些情况下内存槽被拒绝创建。补丁的提出者 Aneesh Kumar K.V 指出，当前的检查机制限制了用户在 MTE 启用的情况下使用 VFIO 直通的能力。<br><br>在本周的新讨论中，参与者们对补丁进行了测试和审查，Suzuki K Poulose 和 Catalin Marinas 表达了支持。Marc Zyngier 提出了对 MTE 和 VFIO 交互的疑虑，认为这种变化可能导致不一致性。Aneesh 进一步建议在发生内存故障时提供更多信息，以帮助用户空间进行调试。讨论中还提到，可能需要引入 FEAT_MTE_PERM 功能，以更好地控制 MTE 的使用。<br><br>总体而言，本周的讨论集中在补丁的细节、潜在影响及如何确保用户空间能够正确处理 MTE 和非 MTE 内存的混合使用上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH] KVM: arm64: Drop mte_allowed check during memslot creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V (Arm) <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop mte_allowed check during memslot
 creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop mte_allowed check during memslot
 creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop mte_allowed check during memslot creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop mte_allowed check during memslot
 creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop mte_allowed check during memslot creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop mte_allowed check during memslot creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop mte_allowed check during memslot creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop mte_allowed check during memslot
 creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop mte_allowed check during memslot
 creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop mte_allowed check during memslot creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop mte_allowed check during memslot
 creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop mte_allowed check during memslot creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop mte_allowed check during memslot
 creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 0/5] KVM: arm64: Writable MIDR/REVIDR (and associated baggage)</h3>
                </div>

                <div class="thread-meta">
                    <span>13 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-02-24</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了 KVM（Kernel-based Virtual Machine）在 arm64 架构下对可写 MIDR（主实现 ID 寄存器）、REVIDR（修订 ID 寄存器）和 AIDR（架构 ID 寄存器）的支持，涉及一系列补丁（PATCH v4 0/5）。<br><br>**原始问题**：补丁的目标是使 MIDR、REVIDR 和 AIDR 寄存器可写，以便用户空间能够修改这些寄存器的值。之前，KVM 将这些寄存器视为不变的，始终显示启动 CPU 的值。<br><br>**历史讨论要点**：在之前的讨论中，开发者们提到，当前 KVM 的处理方式在 CPU 迁移时可能导致虚拟机（VM）看到不同的寄存器值，这种处理方式被认为是脆弱的。补丁的设计旨在在不破坏现有 ABI（应用二进制接口）的情况下，允许用户空间选择使这些寄存器可写。<br><br>**本周新讨论与进展**：<br>1. 本周的讨论中，Oliver Upton 提出了补丁的重构版本，解决了现有的缺陷，并确保了 SMIDR_EL1 的稳定回退。<br>2. Sebastian Ott 提出了维护每个 VM 的实现 ID 寄存器副本的补丁，以便支持对这些寄存器的修改。<br>3. 还讨论了如何在 VPIDR_EL2 中加载 VM 的 MIDR_EL1 值，并允许用户空间在启用特定能力后修改实现 ID 寄存器。<br>4. Marc Zyngier 提出了对补丁的改进建议，强调需要处理 AArch32 版本的 REVIDR 和 AIDR。<br><br>最终，补丁系列得到了应用，标志着对 KVM arm64 架构下实现 ID 寄存器的支持迈出了重要一步。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH v4 0/5] KVM: arm64: Writable MIDR/REVIDR (and associated baggage)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH v4 1/5] KVM: arm64: Set HCR_EL2.TID1 unconditionally</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH v4 2/5] KVM: arm64: Maintain per-VM copy of implementation ID regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH v4 3/5] KVM: arm64: Load VPIDR_EL2 with the VM's MIDR_EL1 value</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH v4 4/5] KVM: arm64: Allow userspace to change the implementation ID registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH v4 5/5] KVM: selftests: arm64: Test writes to MIDR,REVIDR,AIDR</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH v4 1/5] KVM: arm64: Set HCR_EL2.TID1 unconditionally</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH v4 4/5] KVM: arm64: Allow userspace to change the implementation ID registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH v4 0/5] KVM: arm64: Writable MIDR/REVIDR (and associated baggage)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v4 0/5] KVM: arm64: Writable MIDR/REVIDR (and associated baggage)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v4 5/5] KVM: selftests: arm64: Test writes to
 MIDR,REVIDR,AIDR</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH v4 5/5] KVM: selftests: arm64: Test writes to
 MIDR,REVIDR,AIDR</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH v4 5/5] KVM: selftests: arm64: Test writes to
 MIDR,REVIDR,AIDR</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V3 0/5] mm: Rework generic PTDUMP configs</h3>
                </div>

                <div class="thread-meta">
                    <span>12 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-02-26</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 Linux 内核的一个补丁系列，主题为“mm: 重构通用 PTDUMP 配置”。该补丁系列共包含五个部分，旨在清理和重命名与内存页表转储（PTDUMP）相关的配置选项。<br><br>历史讨论中，补丁的初衷是优化和清晰化 PTDUMP 的配置，使其在不同平台上的使用更为明确。在之前的版本中，补丁经历了多次修改，主要是对配置选项的依赖关系进行调整，并删除了不必要的选项。<br><br>在本周的新讨论中，Anshuman Khandual 提交了补丁的第三个版本，具体包括：<br>1. 从 `debug.config` 中删除 `GENERIC_PTDUMP`，以避免在不支持的平台上启用该功能。<br>2. 在 PowerPC 架构的 `mpc885_ads_defconfig` 中，替换 `GENERIC_PTDUMP` 为 `CONFIG_PTDUMP_DEBUGFS`。<br>3. 更新文档，删除不再可选的 PTDUMP 配置选项。<br>4. 将 `DEBUG_WX` 的依赖关系更改为依赖于 `GENERIC_PTDUMP`。<br>5. 重命名 `GENERIC_PTDUMP` 和 `PTDUMP_CORE` 为 `ARCH_HAS_PTDUMP` 和 `PTDUMP`，以提高可读性。<br><br>本周的讨论中，多个参与者对补丁进行了审核并表示支持，确认了补丁的有效性和必要性。整体来看，此次补丁的推进旨在提升内核配置的清晰度和一致性，确保不同架构的兼容性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH V3 0/5] mm: Rework generic PTDUMP configs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH V3 1/5] configs: Drop GENERIC_PTDUMP from debug.config</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH V3 2/5] arch/powerpc: Drop GENERIC_PTDUMP from mpc885_ads_defconfig</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH V3 3/5] docs: arm64: Drop PTDUMP config options from ptdump.rst</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH V3 4/5] mm: Make DEBUG_WX depdendent on GENERIC_PTDUMP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH V3 5/5] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH V3 2/5] arch/powerpc: Drop GENERIC_PTDUMP from
 mpc885_ads_defconfig</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Christophe Leroy <span class="email-sender">&lt;christophe.leroy@csgroup.eu&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH V3 4/5] mm: Make DEBUG_WX depdendent on GENERIC_PTDUMP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Christophe Leroy <span class="email-sender">&lt;christophe.leroy@csgroup.eu&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH V3 5/5] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Christophe Leroy <span class="email-sender">&lt;christophe.leroy@csgroup.eu&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH V3 3/5] docs: arm64: Drop PTDUMP config options from
 ptdump.rst</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH V3 5/5] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH V3 5/5] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 00/11] Tracefs support for pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>12 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-02-24</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 pKVM 的 Tracefs 支持的补丁系列，主要由 Vincent Donnefort 提出。补丁的核心目的是为保护模式下的虚拟化提供调试和分析工具，Tracefs 被认为是实现这一目标的理想选择。<br><br>**原始补丁/问题内容**：<br>补丁系列包含 11 个部分，主要引入了一种创建和生成事件的方法，允许从 hypervisor 生成事件并通过 Tracefs 接口读取这些事件。补丁中还定义了 ring-buffer 结构，以便于内核和 hypervisor 之间共享数据。<br><br>**之前讨论要点**：<br>在之前的讨论中，参与者们探讨了如何在 hypervisor 中实现事件的生成和管理，强调了与内核 Tracefs 的兼容性和数据结构的设计。此外，补丁的设计考虑了性能和安全性，确保 hypervisor 能够有效地记录和分析事件。<br><br>**本周的新讨论、进展或结论**：<br>本周的讨论中，Vincent Donnefort 提出了多个补丁，涵盖了 ring-buffer 的引入、时钟支持、Tracefs 接口的实现、事件的定义和管理等。特别是新增了对 hyp 事件的支持，使得 hypervisor 能够描述和发出事件。此外，还增加了 kselftest 测试，验证新接口的有效性。整体上，这些补丁为 pKVM 提供了更强大的调试和分析能力，推动了虚拟化技术的发展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 00/11] Tracefs support for pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 01/11] ring-buffer: Introduce ring-buffer remote</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 02/11] ring-buffer: Expose buffer_data_page material</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 03/11] KVM: arm64: Support unaligned fixmap in the nVHE hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 04/11] KVM: arm64: Add clock support in the nVHE hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 05/11] KVM: arm64: Add tracing support for the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 06/11] KVM: arm64: Add hyp tracing to tracefs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 07/11] KVM: arm64: Add clock for hyp tracefs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 08/11] KVM: arm64: Add raw interface for hyp tracefs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 09/11] KVM: arm64: Add trace interface for hyp tracefs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 10/11] KVM: arm64: Add support for hyp events</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">[PATCH 11/11] KVM: arm64: Add kselftest for tracefs hyp tracefs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/2] KVM: arm64: PSCI relay fixes</h3>
                </div>

                <div class="thread-meta">
                    <span>11 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-02-27</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 PSCI（Power State Coordination Interface）中继代码的修复补丁。原始的两个补丁旨在解决在进入 CPU_ON、CPU_SUSPEND 和 SYSTEM_SUSPEND 的冷启动入口时，缺失的初始化可能导致主机内核崩溃的问题。<br><br>历史讨论中，补丁的背景是 Leo Yan 报告了 SCTLR_EL1 的问题，Ahmed Genidi 进行了调试。Mark Rutland 在审查 Ahmed 的补丁时发现了 E2H 的更一般性问题，并提出了相应的修复。<br><br>在本周的新讨论中，Mark Rutland 提出了两个补丁：第一个补丁修复了 HCR_EL2.E2H 的早期初始化问题，确保在 KVM 进入 PSCI 入口点时，HCR_EL2.E2H 的值是可靠的。第二个补丁则解决了在 __kvm_hyp_init_cpu() 中未初始化 SCTLR_EL1 的问题，避免了在进入 EL1 时 SCTLR_EL1 处于未知状态。经过讨论，补丁得到了参与者的认可，并最终被应用到代码库中。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH 0/2] KVM: arm64: PSCI relay fixes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH 1/2] KVM: arm64: Initialize HCR_EL2.E2H early</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH 2/2] KVM: arm64: Initialize SCTLR_EL1 in __kvm_hyp_init_cpu()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH 1/2] KVM: arm64: Initialize HCR_EL2.E2H early</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH 1/2] KVM: arm64: Initialize HCR_EL2.E2H early</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH 1/2] KVM: arm64: Initialize HCR_EL2.E2H early</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH 2/2] KVM: arm64: Initialize SCTLR_EL1 in
 __kvm_hyp_init_cpu()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH 1/2] KVM: arm64: Initialize HCR_EL2.E2H early</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Leo Yan <span class="email-sender">&lt;leo.yan@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH 1/2] KVM: arm64: Initialize HCR_EL2.E2H early</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH 1/2] KVM: arm64: Initialize HCR_EL2.E2H early</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-02]</span> <span class="email-subject">Re: [PATCH 0/2] KVM: arm64: PSCI relay fixes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7 00/45] arm64: Support for Arm CCA in KVM</h3>
                </div>

                <div class="thread-meta">
                    <span>9 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-13</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 KVM 中支持 Arm Confidential Compute Architecture (CCA) 的一系列补丁（PATCH v7 00/45）。该补丁系列旨在实现受保护虚拟机的运行，相关的来宾支持已在 v6.14-rc1 版本中合并。<br><br>在历史讨论中，补丁的主要内容包括分离 RMM 粒度大小和 PAGE_SIZE 的概念，使得主机可以使用大于 4k 的 PAGE_SIZE。此外，补丁还涉及处理共享和私有映射的通知事件，以便 KVM 能够更灵活地管理内存映射。<br><br>在本周的新讨论中，Gavin Shan 对多个补丁进行了审核并给予了“Reviewed-by”的标记，表明他支持这些补丁的修改。其中，他指出补丁 01 中新增的成员与之前的 attr_filter 成员存在重复，并且对补丁 02、03 和 04 也表示认可，显示出对补丁系列的整体支持和积极反馈。<br><br>总结来看，补丁系列在历史讨论中已得到基本认可，本周的讨论进一步推动了补丁的审核进程，显示出社区对该功能的关注和支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-13]</span> <span class="email-subject">[PATCH v7 00/45] arm64: Support for Arm CCA in KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-13]</span> <span class="email-subject">[PATCH v7 01/45] KVM: Prepare for handling only shared mappings in mmu_notifier events</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-13]</span> <span class="email-subject">[PATCH v7 02/45] kvm: arm64: Include kvm_emulate.h in kvm/arm_psci.h</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-13]</span> <span class="email-subject">[PATCH v7 03/45] arm64: RME: Handle Granule Protection Faults (GPFs)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-13]</span> <span class="email-subject">[PATCH v7 04/45] arm64: RME: Add SMC definitions for calling the RMM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 01/45] KVM: Prepare for handling only shared mappings
 in mmu_notifier events</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 02/45] kvm: arm64: Include kvm_emulate.h in
 kvm/arm_psci.h</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 03/45] arm64: RME: Handle Granule Protection Faults
 (GPFs)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v7 04/45] arm64: RME: Add SMC definitions for calling the
 RMM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v1 0/3] KVM: arm64: Fix initializing HCRX_EL2 and other traps
 in pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>9 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-02-14</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于修复 KVM 中 arm64 架构下 HCRX_EL2 和其他陷阱的初始化问题，特别是在 pKVM 中的实现。<br><br>**原始 patch/问题内容**：<br>Fuad Tabba 提出的补丁（PATCH v1 0/3）旨在更新 pKVM 代码，以便在支持 HCRX_EL2 寄存器的系统中初始化和设置相关陷阱。当前 pKVM 的行为是在第一个虚拟 CPU（vcpu）运行时初始化虚拟机和所有 vcpu 的 hyp 视图，但由于某些主机陷阱值在相应 vcpu 第一次运行时才会计算，导致 pKVM 获取错误的视图。<br><br>**之前讨论要点**：<br>在历史讨论中，Fuad 提出了补丁的必要性，并强调了当前实现中的问题。邮件中提到的补丁包括对 pKVM 中 HCRX_EL2 陷阱的初始化，但没有进一步的深入讨论。<br><br>**本周的新讨论、进展或结论**：<br>在本周的讨论中，Oliver Upton 和 Marc Zyngier 对补丁进行了审查，Oliver 建议删除与 SME 相关的部分，因为目前 KVM 不支持该功能。Marc 提出可以将 HCRX 的初始化逻辑提取到一个内联函数中，以便在多个地方调用，从而保持陷阱配置的一致性。Fuad 表示同意这一建议，并表示将进行相应的修改。整体来看，讨论氛围积极，参与者们对补丁的改进方向达成了一致。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-14]</span> <span class="email-subject">[PATCH v1 0/3] KVM: arm64: Fix initializing HCRX_EL2 and other traps
 in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-14]</span> <span class="email-subject">[PATCH v1 1/3] KVM: arm64: Initialize HCRX_EL2 traps in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v1 1/3] KVM: arm64: Initialize HCRX_EL2 traps in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v1 1/3] KVM: arm64: Initialize HCRX_EL2 traps in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v1 1/3] KVM: arm64: Initialize HCRX_EL2 traps in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v1 1/3] KVM: arm64: Initialize HCRX_EL2 traps in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v1 1/3] KVM: arm64: Initialize HCRX_EL2 traps in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v1 1/3] KVM: arm64: Initialize HCRX_EL2 traps in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v1 1/3] KVM: arm64: Initialize HCRX_EL2 traps in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7 09/11] arm64: Enable memory encrypt for Realms</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-02-19</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 ARM64 架构下为 Realms 启用内存加密的补丁（PATCH v7 09/11）。该补丁旨在解决在某些情况下，Realm 客户端无法与主机共享页面的问题，特别是由于早期调用 `is_realm_world()` 导致的。<br><br>在历史讨论中，Steven Price 提出了补丁的背景，指出由于推迟 RSI 检测，Realm 客户端在没有强制页面粒度的情况下可能会失败。为了解决这一问题，他建议将 `rodata_full` 作为 Realm 客户端的一个要求，因为该配置选项默认已启用。<br><br>本周的新讨论中，参与者们围绕 `rodata_full` 的必要性和实现细节展开了深入讨论。Catalin Marinas 和 Will Deacon 提出，虽然 `rodata_full` 可能与 Realm 支持无关，但它能避免块内核映射。Steven Price 进一步探讨了不同的选项，包括是否需要提供一个新的编译或命令行标志，以便在不影响权限的情况下强制页面映射。讨论中还提到，长远来看，可能需要更好地处理页面表分配失败的情况。<br><br>总体而言，本周的讨论集中在如何平衡内存加密的实现与现有配置选项之间的关系，以及如何在不引入混淆的情况下优化 Realm 的支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-19]</span> <span class="email-subject">Re: [PATCH v7 09/11] arm64: Enable memory encrypt for Realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v7 09/11] arm64: Enable memory encrypt for Realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v7 09/11] arm64: Enable memory encrypt for Realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v7 09/11] arm64: Enable memory encrypt for Realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v7 09/11] arm64: Enable memory encrypt for Realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v7 09/11] arm64: Enable memory encrypt for Realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH v7 09/11] arm64: Enable memory encrypt for Realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/6] Move pKVM ownership state to hyp_vmemmap</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-02-27</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于将 pKVM 所有权状态迁移到 hyp_vmemmap 的补丁系列，共有六个补丁。该补丁的主要目标是提高超管状态查找的效率，避免了对超管阶段1页表的遍历，同时将超管状态与线性映射的存在解耦，从而为未来的功能扩展（如超管追踪）提供便利。<br><br>在历史讨论中，参与者们强调了迁移超管状态的两个主要好处：首先，状态查找成本显著降低；其次，代码的清理和简化将为未来的特性引入铺平道路。<br><br>本周的新讨论主要集中在补丁的具体实现和测试上。Quentin Perret 提出了六个补丁，分别包括：<br>1. 清理代码以便于后续补丁的实现。<br>2. 将超管状态迁移到 vmemmap。<br>3. 引入访问超管状态的辅助函数。<br>4. 延迟在共享时的 EL2 阶段1映射，以增强安全性。<br>5. 在所有内存所有权转换中无条件交叉检查超管状态，以避免潜在问题。<br><br>这些补丁已在 Qemu 上进行了测试，参与者们对补丁的方向表示支持，并期待进一步的反馈和测试结果。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH 0/6] Move pKVM ownership state to hyp_vmemmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH 1/6] KVM: arm64: Track SVE state in the hypervisor vcpu structure</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH 2/6] KVM: arm64: Use 0b11 for encoding PKVM_NOPAGE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH 3/6] KVM: arm64: Introduce {get,set}_host_state() helpers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH 4/6] KVM: arm64: Move hyp state to hyp_vmemmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH 5/6] KVM: arm64: Defer EL2 stage-1 mapping on share</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH 6/6] KVM: arm64: Unconditionally cross check hyp state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v8 0/6] KVM: arm64: Errata management for VM Live migration</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-21</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的虚拟机实时迁移的错误管理的补丁（PATCH v8 0/6）。该补丁主要包括六个部分，旨在为虚拟机迁移提供对目标 CPU 实现的支持，确保在迁移过程中能够正确处理相关的 CPU 错误。<br><br>在历史讨论中，Shameer Kolothum 提出了补丁的多个版本，修复了编译错误并添加了 R-by 标签。补丁的关键内容包括修改 `_midr_range()` 函数以支持内部读取 MIDR 和 REVIDR、将 `_midr_in_range_list()` 函数导出以便后续补丁使用，以及通过超调用启用基于实现 CPU 的错误管理。<br><br>在本周的新讨论中，参与者 Catalin Marinas 对补丁的多个部分表示认可，分别对补丁 1、4 和 5 提出了“已确认”（Acked-by）的反馈，表示对这些修改的支持。虽然他提到可能存在一些潜在问题，但在缺乏更好方案的情况下，他仍然支持这些补丁的实施。<br><br>总体来看，本周的讨论进展顺利，补丁得到了积极的反馈，推动了 KVM 在 arm64 架构下的错误管理功能的发展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-21]</span> <span class="email-subject">[PATCH v8 0/6] KVM: arm64: Errata management for VM Live migration</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Shameer Kolothum <span class="email-sender">&lt;shameerali.kolothum.thodi@huawei.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-21]</span> <span class="email-subject">[PATCH v8 1/6] arm64: Modify _midr_range() functions to read MIDR/REVIDR internally</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Shameer Kolothum <span class="email-sender">&lt;shameerali.kolothum.thodi@huawei.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-21]</span> <span class="email-subject">[PATCH v8 4/6] =?UTF-8?q?arm64:=20Make=20=C2=A0=5Fmidr=5Fin=5Fran?= =?UTF-8?q?ge=5Flist()=20an=20exported=20function?=</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Shameer Kolothum <span class="email-sender">&lt;shameerali.kolothum.thodi@huawei.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-21]</span> <span class="email-subject">[PATCH v8 5/6] smccc/kvm_guest: Enable errata based on implementation CPUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Shameer Kolothum <span class="email-sender">&lt;shameerali.kolothum.thodi@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v8 1/6] arm64: Modify _midr_range() functions to read
 MIDR/REVIDR internally</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v8 4/6] arm64: =?iso-8859-1?Q?M?=
 =?iso-8859-1?B?YWtlIKBfbWlkcl9pbl9yYW5nZV9saXN0KCk=?= an exported function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v8 5/6] smccc/kvm_guest: Enable errata based on
 implementation CPUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V2 0/5] mm: Rework generic PTDUMP configs</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-17</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 Linux 内核中通用 PTDUMP 配置的重构，主要由 Anshuman Khandual 提出了一系列补丁（PATCH V2 0/5）。这些补丁旨在清理和重命名 PTDUMP 相关的配置，以提高可读性和明确性。补丁包括删除不必要的配置、重命名现有的配置以消除混淆，并确保在不同平台上的兼容性。<br><br>在历史讨论中，Anshuman 提出了几个补丁的具体内容，例如在补丁 2/5 中建议从 mpc885_ads_defconfig 中删除 GENERIC_PTDUMP，因为该配置在 PowerPC 平台上已被显式选择。此外，补丁 5/5 中提到将 GENERIC_PTDUMP 和 PTDUMP_CORE 重命名为 ARCH_HAS_PTDUMP 和 PTDUMP，以更清晰地区分平台特性订阅和功能启用。<br><br>在本周的新讨论中，Christophe Leroy 对补丁 2/5 和 5/5 提出了具体问题和建议，确认了删除 'if MMU' 的可行性，并讨论了更新提交信息的内容。Anshuman 对这些建议表示认可，并表示将进行相应的修改。这表明讨论正在朝着解决问题和完善补丁的方向发展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-17]</span> <span class="email-subject">[PATCH V2 0/5] mm: Rework generic PTDUMP configs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-17]</span> <span class="email-subject">[PATCH V2 2/5] arch/powerpc: Drop GENERIC_PTDUMP from mpc885_ads_defconfig</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-17]</span> <span class="email-subject">[PATCH V2 5/5] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH V2 5/5] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Christophe Leroy <span class="email-sender">&lt;christophe.leroy@csgroup.eu&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH V2 2/5] arch/powerpc: Drop GENERIC_PTDUMP from
 mpc885_ads_defconfig</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Christophe Leroy <span class="email-sender">&lt;christophe.leroy@csgroup.eu&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH V2 2/5] arch/powerpc: Drop GENERIC_PTDUMP from
 mpc885_ads_defconfig</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH V2 5/5] mm: Rename GENERIC_PTDUMP and PTDUMP_CORE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 00/14] KVM: arm64: NV userspace ABI</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-15</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 NV（Nested Virtualization）用户空间 ABI 的一系列补丁和相关问题。<br><br>1. **原始补丁内容**：Marc Zyngier 提出的补丁系列（共14个）旨在修正之前的 ABI 实现，确保其与 KVM 当前的操作方式一致。补丁中移除了对 NV 特定的晚期调整，改为通过 vcpu 标志完全选择 NV 配置，并引入了新的标志以支持不同的虚拟化行为。<br><br>2. **之前讨论要点**：在历史讨论中，Marc 提到补丁的必要性，强调了对 NV_frac 的处理，以及在 VHE（Virtualization Host Extensions）禁用时确保 HCR_EL2.E2H 位的状态为保留值（RES0）。这些讨论为本周的新进展奠定了基础。<br><br>3. **本周新讨论与进展**：本周的讨论主要集中在对补丁的细节审查上。Aneesh Kumar K.V 提出了一些问题，例如检查 HCR.E2H 是否合理，以及某些寄存器名称的错误。Marc 对这些问题进行了回应，指出之前已有类似反馈，并表示希望保持代码的现状，以避免潜在的更大问题。<br><br>总体而言，本周的讨论进一步澄清了补丁的实现细节，并推动了对 KVM arm64 NV 支持的深入理解。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-15]</span> <span class="email-subject">[PATCH 00/14] KVM: arm64: NV userspace ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-15]</span> <span class="email-subject">[PATCH 01/14] arm64: cpufeature: Handle NV_frac as a synonym of NV2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-15]</span> <span class="email-subject">[PATCH 03/14] KVM: arm64: Mark HCR.EL2.E2H RES0 when ID_AA64MMFR1_EL1.VH is zero</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH 03/14] KVM: arm64: Mark HCR.EL2.E2H RES0 when
 ID_AA64MMFR1_EL1.VH is zero</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH 01/14] arm64: cpufeature: Handle NV_frac as a synonym of
 NV2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH 01/14] arm64: cpufeature: Handle NV_frac as a synonym of NV2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH 03/14] KVM: arm64: Mark HCR.EL2.E2H RES0 when ID_AA64MMFR1_EL1.VH is zero</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/3] KVM: arm64: Separate the hyp FF-A buffers init from the host</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-26</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁系列，主题为将 hypervisor FF-A（Firmware Framework for Arm）缓冲区的初始化与主机分离。<br><br>**原始补丁内容**：<br>补丁的主要目的是将 hypervisor 的 FF-A 缓冲区初始化过程从主机的 FF-A 映射调用路径中分离出来。这一改动可以避免在保护模式下，hypervisor 无法通过 Trustzone 映射缓冲区时拒绝任何 FF-A 调用。此外，补丁还将错误映射的定义从 arm_ffa 驱动程序移动到 ffa 头文件，以便 hyp 代码可以使用。<br><br>**之前讨论要点**：<br>在历史讨论中，补丁的背景和目的已经阐述，强调了将初始化过程分离的重要性，以提高系统的稳定性和安全性。<br><br>**本周新讨论与进展**：<br>本周的讨论主要集中在补丁的具体实现上。Sebastian Ene 提出了三个补丁，分别涉及静态初始化版本锁、映射 hypervisor 的 FF-A 缓冲区，以及释放与 Trustzone 的 RX 缓冲区所有权。参与者 Sudeep Holla 建议将某些代码移动的部分单独作为补丁提交，以避免与其他更改的冲突。Sebastian 同意了这一建议，并表示将会更新补丁版本。<br><br>总体来看，本周的讨论推动了补丁的进一步完善，并解决了代码组织方面的潜在问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH 0/3] KVM: arm64: Separate the hyp FF-A buffers init from the host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH 1/3] KVM: arm64: Use the static initializer for the vesion lock</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH 2/3] KVM: arm64: Map the hypervisor FF-A buffers on ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">[PATCH 3/3] KVM: arm64: Release the ownership of the hyp rx buffer to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH 2/3] KVM: arm64: Map the hypervisor FF-A buffers on ffa
 init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sudeep Holla <span class="email-sender">&lt;sudeep.holla@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [PATCH 2/3] KVM: arm64: Map the hypervisor FF-A buffers on ffa
 init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/4] KVM: arm64: writable MIDR/REVIDR</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-18</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（Kernel-based Virtual Machine）在 arm64 架构上可写的 MIDR（机器 ID 寄存器）和 REVIDR（修订 ID 寄存器）的补丁系列。该补丁旨在允许虚拟机监控程序（VMM）更改这些寄存器，以支持在不同机器之间的迁移，尤其是在处理错误时。<br><br>在历史讨论中，Sebastian Ott 提出了这个补丁系列，并指出它依赖于之前的错误管理系列。补丁的更新版本（V3）包含了对 VPIDR_EL2 的处理、让来宾能够观察到更改的 MIDR_EL1 值、增加了额外的 .set_user 函数以及自测试功能。<br><br>在本周的新讨论中，Oliver Upton 对补丁提出了一些担忧，指出当前 KVM 允许来宾读取 SMIDR_EL1，但并不支持 SME（可扩展的加密扩展），并且 KVM 向用户空间呈现的“不变”值来自启动 CPU，而不是重置 ID 寄存器的 CPU。他计划对补丁进行重新设计，以解决这些问题，并希望在 6.15 版本中发布修复。Sebastian 对 Oliver 的工作表示感谢，并确认他所做的更改看起来不错。<br><br>总体而言，本周的讨论集中在补丁的潜在问题和改进上，双方均表示希望能够尽快解决这些问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-18]</span> <span class="email-subject">[PATCH v3 0/4] KVM: arm64: writable MIDR/REVIDR</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH v3 0/4] KVM: arm64: writable MIDR/REVIDR</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v3 0/4] KVM: arm64: writable MIDR/REVIDR</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH v3 0/4] KVM: arm64: writable MIDR/REVIDR</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V2 7/7] arm64/boot: Enable EL2 requirements for
 FEAT_PMUv3p9</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-02-24</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 ARM64 架构的补丁「[PATCH V2 7/7] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9」，旨在启用与 FEAT_PMUv3p9 相关的 EL2 要求。<br><br>在历史讨论中，参与者们关注了补丁的必要性和潜在问题，特别是缺少对 MDCR_EL3.EnPM2 寄存器的配置，这可能导致 EL{2,1,0} 对某些寄存器的访问被错误地转发到 EL3。讨论还提到，由于没有 KVM 的更改，补丁的安全性依赖于其他陷阱的存在。<br><br>在本周的新讨论中，Mark Rutland 指出需要进一步检查是否遗漏了其他要求，并建议可能需要对补丁进行修正或重新提交。Anshuman Khandual 计划更新文档并添加必要的修复标签，Rob Herring 和 Catalin Marinas 也支持重新提交补丁，尤其是在需要稳定版本和修复标签的情况下。<br><br>总体来看，当前的进展集中在确认补丁的完整性和必要性，以及是否需要重新提交以确保所有要求得到满足。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH V2 7/7] arm64/boot: Enable EL2 requirements for
 FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Rutland <span class="email-sender">&lt;mark.rutland@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [PATCH V2 7/7] arm64/boot: Enable EL2 requirements for
 FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH V2 7/7] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-26]</span> <span class="email-subject">Re: [PATCH V2 7/7] arm64/boot: Enable EL2 requirements for
 FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 00/14] KVM: arm64: NV userspace ABI</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-02-20</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 NV（Nested Virtualization）用户空间 ABI（应用程序二进制接口）的改进。<br><br>1. **原始 patch/问题的内容**：<br>   Marc Zyngier 提出的补丁系列（[PATCH v2 00/14]）旨在修正之前版本的 ABI，确保其与 KVM 当前的操作方式一致。补丁中取消了 NV 特定的调整，并通过 vcpu 标志完全选择 NV 配置，保留了 KVM_ARM_VCPU_EL2 标志以启用 VHE（Virtualization Host Extensions）下的 NV。<br><br>2. **之前的讨论要点**：<br>   在历史讨论中，Marc 详细阐述了 NV 支持的两种互斥配置：VHE-only 和 mVHE-only，并引入了新的 vcpu 特性标志以限制 NV 行为。这些讨论为后续补丁的提出奠定了基础。<br><br>3. **本周的新讨论、进展或结论**：<br>   本周的讨论中，Aneesh Kumar K.V 提出了对补丁中术语的修正建议，建议将 "mVHE-only" 改为 "nVHE-only"。Oliver Upton 确认已修正了补丁中的拼写错误，并表示补丁已应用到下一个版本中，感谢参与者的贡献。整体来看，补丁系列的进展顺利，相关问题正在逐步解决。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-20]</span> <span class="email-subject">[PATCH v2 00/14] KVM: arm64: NV userspace ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-20]</span> <span class="email-subject">[PATCH v2 10/14] KVM: arm64: Allow userspace to limit NV support to nVHE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [PATCH v2 10/14] KVM: arm64: Allow userspace to limit NV
 support to nVHE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: (subset) [PATCH v2 00/14] KVM: arm64: NV userspace ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V2 0/8] arm64/mm: Drop PXD_TABLE_BIT</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-21</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 ARM64 架构下内存管理的一个补丁系列，标题为「[PATCH V2 0/8] arm64/mm: Drop PXD_TABLE_BIT」。该补丁的主要目的是移除 PXX_TABLE_BIT 定义，转而使用更抽象的 PXX_TYPE_MASK、PXX_TYPE_SECT 和 PXX_TYPE_TABLE。这一变化旨在为即将支持的 D128 页表做好准备，因为 D128 页表没有单一的页表位来区分表和块，而是使用跳过级别（SKL）字段。<br><br>在历史讨论中，Anshuman Khandual 提出了这一补丁的背景和必要性，强调了新抽象的优势。 <br><br>在本周的新讨论中，Anshuman Khandual 对补丁系列进行了跟进，询问是否有更新。Ryan Roberts 对补丁的逻辑正确性表示赞同，但建议将所有移除 PXX_TABLE_BIT 的操作合并为一个补丁，并将 pud_bad() 的修复分为第二个补丁，以便于审查和提供更清晰的提交日志。他认为当前的七个提交日志不够有用，并表示自己是原始补丁的作者，因此不适合提供审核意见。<br><br>总的来说，本周讨论集中在补丁的结构和审查便利性上，未涉及新的技术问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-21]</span> <span class="email-subject">[PATCH V2 0/8] arm64/mm: Drop PXD_TABLE_BIT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH V2 0/8] arm64/mm: Drop PXD_TABLE_BIT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">Re: [PATCH V2 0/8] arm64/mm: Drop PXD_TABLE_BIT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ryan Roberts <span class="email-sender">&lt;ryan.roberts@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V2 0/7] arm64/boot: Enable EL2 requirements for
 FEAT_PMUv3p9</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-01</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 ARM64 架构的补丁集，主题为“[PATCH V2 0/7] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9”。该补丁集的目的是启用 EL2 级别对 PMUv3p9 特性的要求。<br><br>在历史讨论中，补丁集的前六个补丁已经被确认正确，并得到了参与者 Will Deacon 的认可。他提到这些补丁与相关的 XML 文件相符，表明它们在技术上是可行的。然而，最后一个补丁的状态并不明确，Will 预计 Catalin 会将其删除或替换。<br><br>在本周的新讨论中，Will Deacon 再次确认了前六个补丁的正确性，并表示他已经确认过这些补丁。Catalin Marinas 随后回应称他已经删除了最后一个补丁，并将排队处理新的补丁。这表明该补丁集正在向最终合并的方向推进，且参与者之间的沟通顺畅，确保了补丁的质量和进度。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-01]</span> <span class="email-subject">Re: [PATCH V2 0/7] arm64/boot: Enable EL2 requirements for
 FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-01]</span> <span class="email-subject">Re: [PATCH V2 0/7] arm64/boot: Enable EL2 requirements for
 FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-03-02</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的性能监控单元（PMU）进行的一个补丁，主要修复了在设置 vPMC（虚拟性能监控计数器）寄存器时的一个问题。<br><br>**原始补丁内容**：<br>补丁的主要目的是在使用 KVM_SET_ONE_REG 设置 vPMC 寄存器（如 PMCCNTR_EL0 和 PMEVCNTR<n>_EL0）时，重置当前的性能事件计数器。之前的实现仅更新了 sysreg 文件中的值，而未更新当前的性能事件计数器值，导致寄存器的实际值与预期不符。<br><br>**之前的讨论要点**：<br>在历史讨论中，提到过与此补丁相关的一个问题，即在获取 vPMC 寄存器值时（使用 KVM_GET_ONE_REG），需要确保返回的是当前的值，而非过时的 sysreg 文件值。此次补丁是对此前讨论的延续，旨在确保在设置寄存器时的行为一致。<br><br>**本周的新讨论与进展**：<br>本周的讨论集中在补丁的具体实现上，Akihiko Odaki 提出了补丁的详细代码修改，确保在设置 vPMC 寄存器时调用 `kvm_pmu_set_counter_value()` 函数，以重置当前的性能事件计数器。补丁的实现已完成，并附带了相应的代码变更，旨在提高 KVM 的性能监控准确性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-02]</span> <span class="email-subject">[PATCH] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Count pKVM stage-2 usage in secondary pagetable stats</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-02-28</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，目的是在二级页表统计中计入 pKVM（Platform KVM）使用的页面。补丁由 Vincent Donnefort 提出，主要修改了内存统计的相关代码，以便与 VHE（Virtualization Host Extensions）模式保持一致。<br><br>在历史讨论部分没有相关内容，因此本周的新讨论是该补丁的首次发布。补丁的核心内容是通过修改内存管理函数，确保在分配和释放 pKVM 使用的内存页面时，能够正确更新二级页表的统计信息。这一改动将有助于更准确地反映虚拟化环境中内存的使用情况，提升 KVM 的性能监控能力。<br><br>本周的讨论没有其他参与者的反馈或质疑，补丁的内容和目的比较明确，预计将会在后续的邮件中得到更多的审查和讨论。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">[PATCH] KVM: arm64: Count pKVM stage-2 usage in secondary pagetable stats</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4] arm64: Add basic MTE test</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-02-27</span>
                </div>

                <div class="ai-summary">
                    本邮件主题为“[PATCH v4] arm64: Add basic MTE test”，由Vladimir Murzin于2025年2月27日发送。该补丁旨在为ARM64架构添加基本的内存标签扩展（MTE）测试，主要测试标签存储访问及不同MTE模式下的标签不匹配。<br><br>在历史讨论中，并没有相关的背景信息提供，因此本周的讨论是首次发布该补丁。补丁包含对多个文件的修改，包括新增的`arm/mte.c`文件，主要实现了MTE的基本测试功能，涵盖了同步、异步和不对称的标签检查故障测试。补丁中还定义了MTE的相关宏和处理逻辑，确保在不同的MTE模式下能够正确处理内存访问。<br><br>本周的讨论主要集中在补丁的实现细节和测试用例的有效性上。Vladimir详细描述了如何通过不同的测试函数验证MTE的功能，包括对标签的设置和检查，确保在标签错误时能够触发相应的异常处理。整体来看，此补丁为ARM64架构的MTE功能提供了基础的测试框架，后续可能会有更多的讨论和优化。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH v4] arm64: Add basic MTE test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vladimir Murzin <span class="email-sender">&lt;vladimir.murzin@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V3] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-02-27</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于对 ARM64 架构中 FEAT_PMUv3p9 特性的支持，具体内容为一个补丁（patch），旨在启用 EL2 对相关寄存器的访问要求。<br><br>**原始 patch 内容**：<br>该补丁添加了一个新的初始化函数 `__init_el2_fgt2()`，用于配置 FEAT_FGT2 相关的细粒度陷阱控制寄存器 HDFGRTR2_EL2 和 HDFGWTR2_EL2，以便允许从 EL1 访问 PMICNTR_EL0、PMICFILTR_EL0 和 PMUACR_EL1 寄存器。此外，补丁还更新了文档，明确了在 EL2 中访问这些寄存器的要求。<br><br>**之前讨论要点**：<br>由于本邮件仅包含本周的新讨论，没有提供历史讨论的上下文，因此无法总结之前的讨论内容。<br><br>**本周新讨论、进展或结论**：<br>本周的讨论主要集中在补丁的具体实现上，补丁版本 V3 中增加了对 MDCR_EL3.EnPM2 的初始化要求，并添加了修复和稳定性标签。补丁经过了 Rob Herring 的测试和审核，表明其在功能和稳定性上得到了认可。整体来看，该补丁为 ARM64 架构的性能监控功能提供了必要的支持，确保在 EL2 中可以正确访问相关寄存器。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">[PATCH V3] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>RFC</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[RFC kvm-unit-tests PATCH] lib: Use __ASSEMBLER__ instead of __ASSEMBLY__</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-21</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM 单元测试库的补丁提案，主题是将所有非 x86 平台的条件编译指令从 `__ASSEMBLY__` 更改为 `__ASSEMBLER__`，并移除所有手动定义的 `__ASSEMBLY__`。该补丁的目的是解决 `__ASSEMBLY__` 需要手动定义的问题，而 `__ASSEMBLER__` 则是由编译器在预处理汇编时自动定义的，因此更为可靠。<br><br>在历史讨论中，Sean Christopherson 提出了该补丁的背景，指出 `__ASSEMBLY__` 是从 Linux 内核中继承过来的，并且在非 x86 架构中存在手动定义的问题。该补丁建议在这些架构中使用 `__ASSEMBLER__` 以简化代码和提高兼容性。<br><br>在本周的新讨论中，Andrew Jones 对补丁进行了审查，指出在处理 x86 时，除了一个注释中的拼写错误外，其他地方没有问题。他确认了对 RISC-V 和 ARM 的修改，并表示已审核通过。<br><br>总体而言，该补丁旨在提高 KVM 单元测试库的代码质量和可维护性，得到了参与者的认可。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-21]</span> <span class="email-subject">[RFC kvm-unit-tests PATCH] lib: Use __ASSEMBLER__ instead of __ASSEMBLY__</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-25]</span> <span class="email-subject">Re: [RFC kvm-unit-tests PATCH] lib: Use __ASSEMBLER__ instead of
 __ASSEMBLY__</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>GIT PULL</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[GIT PULL] KVM/arm64 fixes for 6.14, take #3</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-20</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM/arm64 的修复补丁，主要集中在 Linux 6.14 版本的修复工作上。<br><br>在历史讨论中，Marc Zyngier 提出了一个补丁，重点解决了 MMU（内存管理单元）相关的两个关键错误。第一个错误涉及 hVHE EL2 的 stage-1，问题在于从错误的寄存器中获取 ASID（地址空间标识符）。第二个错误则与 VHE 相关，允许其在过时的 VMID（虚拟机标识符）值下运行。这些问题被认为是严重的，影响系统的稳定性。<br><br>在本周的新讨论中，Paolo Bonzini 对 Marc 的补丁表示感谢，并确认已将其合并。这表明补丁得到了认可，并且相关修复工作正在顺利进行。<br><br>总体来看，此次讨论围绕 KVM/arm64 的 MMU 修复展开，Marc 提出的补丁已被成功合并，标志着对相关问题的有效解决。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-20]</span> <span class="email-subject">[GIT PULL] KVM/arm64 fixes for 6.14, take #3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-24]</span> <span class="email-subject">Re: [GIT PULL] KVM/arm64 fixes for 6.14, take #3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Paolo Bonzini <span class="email-sender">&lt;pbonzini@redhat.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Discussion</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH v3] arm64: Add basic MTE test</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-02-27</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论主题为“[kvm-unit-tests PATCH v3] arm64: Add basic MTE test”，主要围绕为 arm64 架构添加基本的内存跟踪扩展（MTE）测试的补丁进行讨论。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测该补丁旨在增强 KVM 单元测试框架，以支持对 MTE 功能的测试。这一补丁在之前的讨论中可能已经引起了一些关注，尤其是关于测试的有效性和潜在问题的讨论。<br><br>在本周的新讨论中，参与者们对补丁的进展进行了交流。Alexandru Elisei 表示对补丁的认可，并提到了一些可能导致 PTE 查找失败的潜在问题，但认为这些并不构成阻碍。他强调这个测试非常有用，并且已经在讨论列表上存在了一段时间。Andrew Jones 表示如果补丁已经准备好，他乐意合并，并询问是否会有 v4 版本。Vladimir Murzin 则回应称会考虑 Alex 的其他有用意见，并计划进行相应的修改。<br><br>总体来看，讨论氛围积极，参与者对补丁的前景持乐观态度，并期待进一步的改进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3] arm64: Add basic MTE test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3] arm64: Add basic MTE test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v3] arm64: Add basic MTE test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vladimir Murzin <span class="email-sender">&lt;vladimir.murzin@arm.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Other</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH v1 0/7] arm64: support EL2</h3>
                </div>

                <div class="thread-meta">
                    <span>11 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-20</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 ARM64 架构的 kvm-unit-tests 的一系列补丁，主要目的是为 EL2（异常级别 2）提供支持，以便后续扩展嵌套虚拟化测试。<br><br>**原始补丁内容**：补丁系列包括 7 个部分，主要涉及在 EL2 下的运行支持，包括在 EL2 启动时降级到 EL1、使用虚拟化定时器、修复定时器中断、更新自测代码以适应 EL2 运行等。<br><br>**之前讨论要点**：历史讨论中，补丁的作者 Joey Gouly 提到了一些未测试的功能（如 EFI/ACPI），以及在 NV（Nested Virtualization）环境中存在的调试测试失败问题。Alexandru Elisei 也参与了对补丁的审查，并提出了一些细节上的建议。<br><br>**本周新讨论**：在本周的讨论中，Alexandru 对每个补丁进行了逐一审查，确认了多个补丁的正确性，并提出了一些改进建议。例如，他对定时器 IRQ 的处理、宏的使用以及 PMU（性能监控单元）计数逻辑提出了疑问和建议。此外，他指出了补丁中作者信息的遗漏，并确认了部分补丁的审查通过。<br><br>总体来看，本周的讨论主要集中在对补丁的细节审查和改进建议上，推动了补丁的完善和最终提交。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-20]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 0/7] arm64: support EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-20]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 1/7] arm64: drop to EL1 if booted at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-20]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 2/7] arm64: timer: use hypervisor timers when at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-20]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 3/7] arm64: micro-bench: fix timer IRQ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-20]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 5/7] arm64: selftest: update test for running at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-20]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 6/7] arm64: pmu: count EL2 cycles</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 1/7] arm64: drop to EL1 if booted at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 2/7] arm64: timer: use hypervisor
 timers when at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 3/7] arm64: micro-bench: fix timer IRQ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 5/7] arm64: selftest: update test for
 running at EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-27]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v1 6/7] arm64: pmu: count EL2 cycles</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>writable ID_AA64MMFR0_EL1.TGRAN*_2 ?</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-02-28</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于可写的 ID_AA64MMFR0_EL1.TGRAN*_2 寄存器。在本周的讨论中，参与者 Sebastian Ott 提出了一个关于在两个 Graviton 主机之间迁移的想法。他指出，当前这两个主机在 S2 支持的大小上存在差异，具体表现为 TGRAN*_2 寄存器的值不可写。<br><br>Sebastian 提出了两个可能的解决方案：一是将这些寄存器的客人视图设置为 NI（不可写），适用于“正常”或非嵌套的客人；二是允许在这两个值之间进行转换，并可能允许写入 NI 值以确保安全性。<br><br>目前尚未有其他参与者对此进行回复或进一步讨论，因此该提议仍处于初步阶段。整体来看，这一讨论关注的是如何在不同主机之间实现更灵活的寄存器管理，以支持虚拟机的迁移。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-02-28]</span> <span class="email-subject">writable ID_AA64MMFR0_EL1.TGRAN*_2 ?</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
