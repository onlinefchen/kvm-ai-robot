<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVMARM 邮件列表 AI 总结报告</title>
    <style>
        body {
            font-family: 'Courier New', 'Courier', monospace;
            line-height: 1.5;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 40px;
            background-color: #ffffff;
            color: #222;
        }
        .container {
            background: #ffffff;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
            color: #000;
            margin-bottom: 0.3em;
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 15px;
        }
        h2 {
            font-size: 1.6em;
            font-weight: bold;
            color: #000;
            margin-top: 2em;
            margin-bottom: 0.6em;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 1.2em;
            font-weight: bold;
            color: #111;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h4 {
            font-size: 1.05em;
            font-weight: bold;
            color: #333;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
        }
        .meta-info {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px 20px;
            margin: 20px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        .meta-info p {
            margin: 6px 0;
            color: #444;
        }
        .meta-info strong {
            color: #000;
            font-weight: bold;
        }
        .stats {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid #000;
        }
        .stat-card {
            display: table-cell;
            border: 1px solid #000;
            padding: 12px 15px;
            text-align: center;
            background: #fafafa;
        }
        .stat-card h3 {
            margin: 0;
            color: #000;
            font-size: 1.8em;
            font-weight: bold;
            border: none;
            padding: 0;
        }
        .stat-card p {
            margin: 5px 0 0 0;
            color: #444;
            font-size: 0.9em;
            font-weight: normal;
        }
        .category {
            margin: 30px 0;
        }
        .thread {
            margin: 25px 0;
            padding: 15px;
            background: #fafafa;
            border: 1px solid #ccc;
            page-break-inside: avoid;
        }
        .thread-header {
            margin-bottom: 12px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .thread-header h3 {
            font-size: 1.15em;
            font-weight: bold;
            color: #000;
            margin: 0;
        }
        .thread-meta {
            display: block;
            margin: 8px 0 12px 0;
            font-size: 0.9em;
            color: #555;
            font-style: italic;
        }
        .thread-meta span {
            margin-right: 15px;
        }
        .ai-summary {
            background: #fff;
            border-left: 3px solid #666;
            padding: 12px 15px;
            margin: 15px 0;
            line-height: 1.6;
            color: #222;
            font-style: italic;
        }
        .email-list {
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px 15px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.88em;
            line-height: 1.5;
            overflow-x: auto;
            margin: 10px 0;
        }
        .email-item {
            margin: 4px 0;
            padding: 2px 0;
            color: #222;
        }
        .email-item.historical {
            background: #f5f5f5;
            border-left: 3px solid #999;
            padding-left: 8px;
            opacity: 0.8;
        }
        .email-item.new {
            background: #fffef0;
            border-left: 3px solid #0066cc;
            padding-left: 8px;
        }
        .email-date {
            color: #0066cc;
            font-weight: bold;
        }
        .email-date.historical {
            color: #666;
        }
        .email-sender {
            color: #c30;
            font-weight: normal;
        }
        .email-subject {
            color: #000;
        }
        .historical-marker {
            color: #999;
            font-size: 0.85em;
            font-style: italic;
        }
        .new-marker {
            color: #0066cc;
            font-size: 0.85em;
            font-weight: bold;
        }
        .archive-link {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            background: #333;
            color: #fff;
            text-decoration: none;
            border: 2px solid #000;
            font-weight: bold;
            transition: all 0.2s;
        }
        .archive-link:hover {
            background: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KVMARM Mailing List Analysis Report</h1>

        <div class="meta-info">
            <p><strong>Generated:</strong> 2025-10-27 12:54</p>
            <p><strong>Time Period:</strong> 2025年9月 第40周 (09/29 - 10/05)</p>
            <p><strong>Total Messages:</strong> 173 | <strong>Total Threads:</strong> 28</p>
            <p style="text-align: center;"><a href="archive.html" class="archive-link">📚 历史归档 Archive</a></p>
        </div>


        <div class="category">
            <h2>PATCH</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7 00/28] Tracefs support for pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>29 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-10-03</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 pKVM 的 Tracefs 支持的多个补丁（PATCH v7 00/28），主要集中在如何实现和优化 hypervisor 的调试和性能分析功能。<br><br>1. **原始补丁内容**：<br>   该补丁系列旨在为 pKVM 超级虚拟机提供 Tracefs 支持，允许通过简单的接口创建远程事件和缓冲区。补丁包括对环形缓冲区的改进、Tracefs 的集成以及为 pKVM 添加的跟踪能力。<br><br>2. **历史讨论要点**：<br>   在之前的讨论中，参与者们探讨了如何有效地在保护模式下实现调试和性能分析工具。Tracefs 被认为是一个理想的选择，因为它易于使用并且支持多种工具。补丁的设计考虑了内核与 hypervisor 之间的协作，确保了数据的有效共享。<br><br>3. **本周的新讨论与进展**：<br>   本周的讨论集中在补丁的具体实现上，包括：<br>   - 引入新的环形缓冲区接口，支持远程写入。<br>   - 为 pKVM 添加了跟踪功能，允许 hypervisor 记录事件。<br>   - 增加了对 Tracefs 事件的支持，允许用户空间通过 Tracefs 接口访问这些事件。<br>   - 讨论了如何在 pKVM 中实现事件的创建和管理，确保 hypervisor 能够有效地记录和处理事件。<br><br>此外，补丁还包括对 Tracefs 目录结构的改进，增加了事件的启用和格式化功能，以便于用户空间的访问和使用。整体来看，这些改进将大大增强 pKVM 的可调试性和可分析性，为开发者提供更好的工具支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 00/28] Tracefs support for pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 01/28] ring-buffer: Add page statistics to the meta-page</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 02/28] ring-buffer: Store bpage pointers into subbuf_ids</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 03/28] ring-buffer: Introduce ring-buffer remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 04/28] ring-buffer: Add non-consuming read for ring-buffer remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 05/28] tracing: Introduce trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 06/28] tracing: Add reset to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 07/28] tracing: Add non-consuming read to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 08/28] tracing: Add init callback to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 09/28] tracing: Add events to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 10/28] tracing: Add events/ root files to trace remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 11/28] tracing: Add helpers to create trace remote events</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 12/28] ring-buffer: Export buffer_data_page and macros</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 13/28] tracing: Introduce simple_ring_buffer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 14/28] tracing: Add a trace remote module for testing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 15/28] tracing: selftests: Add trace remote tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 16/28] Documentation: tracing: Add tracing remotes</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 17/28] tracing: load/unload page callbacks for simple_ring_buffer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 18/28] tracing: Check for undefined symbols in simple_ring_buffer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 19/28] KVM: arm64: Support unaligned fixmap in the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 20/28] KVM: arm64: Add clock support for the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 21/28] KVM: arm64: Add tracing capability for the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 22/28] KVM: arm64: Add trace remote for the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 23/28] KVM: arm64: Sync boot clock with the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 24/28] KVM: arm64: Add trace reset to the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 25/28] KVM: arm64: Add event support to the pKVM hyp and
 trace remote</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 26/28] KVM: arm64: Add hyp_enter/hyp_exit events to pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 27/28] KVM: arm64: Add selftest event support to pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[PATCH v7 28/28] tracing: selftests: Add pKVM trace remote tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 00/13] KVM: arm64: De-specialise the timer UAPI</h3>
                </div>

                <div class="thread-meta">
                    <span>22 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-29</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁系列，主要目的是去专门化定时器的用户空间 API（UAPI）。Marc Zyngier 提出了 13 个补丁，旨在简化定时器寄存器的处理，减少代码复杂性和重复。<br><br>**原始补丁/问题内容**：<br>补丁系列的核心是将定时器寄存器的处理整合到通用基础设施中，解决了用户空间访问时的多个问题，包括寄存器编码的错误和不必要的复杂性。<br><br>**之前讨论要点**：<br>在历史讨论中，Marc 指出定时器寄存器的处理与常规系统寄存器流不一致，导致了代码的冗余和复杂性。此外，用户空间对某些寄存器的访问存在潜在的错误和不一致性。<br><br>**本周的新讨论和进展**：<br>本周的讨论集中在补丁的具体实现上，包括隐藏不应暴露给用户空间的寄存器、引入新的帮助函数、以及将定时器相关的用户空间访问器移动到通用基础设施中。参与者对补丁进行了审查，提出了一些建议和问题，尤其是关于寄存器的可见性和用户空间交互的处理。整体上，补丁系列得到了积极的反馈，参与者认为这些改动将显著改善 KVM 的定时器处理逻辑。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 00/13] KVM: arm64: De-specialise the timer UAPI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 01/13] KVM: arm64: Hide CNTHV_*_EL2 from userspace for nVHE guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 02/13] KVM: arm64: Introduce timer_context_to_vcpu() helper</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 03/13] KVM: arm64: Replace timer context vcpu pointer with timer_id</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 04/13] KVM: arm64: Make timer_set_offset() generally accessible</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 05/13] KVM: arm64: Add timer UAPI workaround to sysreg infrastructure</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 06/13] KVM: arm64: Move CNT*_CTL_EL0 userspace accessors to generic infrastructure</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 07/13] KVM: arm64: Move CNT*_CVAL_EL0 userspace accessors to generic infrastructure</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 08/13] KVM: arm64: Move CNT*CT_EL0 userspace accessors to generic infrastructure</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 09/13] KVM: arm64: Fix WFxT handling of nested virt</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 10/13] KVM: arm64: Kill leftovers of ad-hoc timer userspace access</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 11/13] KVM: arm64: selftests: Make dependencies on VHE-specific registers explicit</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 12/13] KVM: arm64: selftests: Add an E2H=0-specific configuration to get_reg_list</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">[PATCH 13/13] KVM: arm64: selftest: Fix misleading comment about virtual timer encoding</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">Re: [PATCH 01/13] KVM: arm64: Hide CNTHV_*_EL2 from userspace for
 nVHE guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">Re: [PATCH 05/13] KVM: arm64: Add timer UAPI workaround to sysreg
 infrastructure</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH 01/13] KVM: arm64: Hide CNTHV_*_EL2 from userspace for nVHE guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH 05/13] KVM: arm64: Add timer UAPI workaround to sysreg infrastructure</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH 03/13] KVM: arm64: Replace timer context vcpu pointer
 with timer_id</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH 08/13] KVM: arm64: Move CNT*CT_EL0 userspace accessors to
 generic infrastructure</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH 08/13] KVM: arm64: Move CNT*CT_EL0 userspace accessors to generic infrastructure</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH 08/13] KVM: arm64: Move CNT*CT_EL0 userspace accessors to
 generic infrastructure</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Joey Gouly <span class="email-sender">&lt;joey.gouly@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH kvmtool 00/15] arm64: Handle PSCI calls in userspace</h3>
                </div>

                <div class="thread-meta">
                    <span>18 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-30</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM 工具的 ARM64 PSCI 调用处理的补丁系列（第4版），主要由 Oliver Upton 和 Suzuki K Poulose 提交。补丁的核心内容是实现用户空间对 ARM64 PSCI 调用的支持，涉及多个功能的实现和更新。<br><br>1. **原始补丁/问题内容**：<br>   - 本系列补丁旨在实现 ARM64 平台上 PSCI（电源状态和协调接口）调用的用户空间处理，补丁包括对 CPU_SUSPEND、CPU_ON、AFFINITY_INFO、SYSTEM_OFF 和 SYSTEM_RESET 等功能的支持。<br><br>2. **之前讨论要点**：<br>   - 之前的讨论集中在如何处理 PSCI 调用及其在 KVM 中的实现细节，尤其是如何在用户空间中正确处理这些调用，确保与内核的交互顺畅。<br><br>3. **本周的新讨论与进展**：<br>   - 本周的讨论主要集中在补丁的具体实现上，包括：<br>     - 实现 CPU_SUSPEND 和 CPU_ON 调用，确保可以正确暂停和启动虚拟 CPU。<br>     - 添加对 AFFINITY_INFO 的支持，通过遍历所有 vCPU 来检查匹配的亲和性。<br>     - 实现 SYSTEM_OFF 和 SYSTEM_RESET 调用，确保在接收到这些调用时能够正确终止虚拟机。<br>     - 最后，补丁还引入了 SMCCC（安全监控调用约定）过滤器，以便将 PSCI 调用转发到用户空间处理。<br><br>总体而言，该系列补丁为 KVM 工具的 ARM64 PSCI 调用提供了全面的支持，增强了虚拟化环境中的电源管理能力。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool 00/15] arm64: Handle PSCI calls in userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 01/15] Allow pausing the VM from vcpu thread</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 02/15] update_headers: arm64: Track psci.h for PSCI definitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 03/15] update headers: Linux v6.17-rc7</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 04/15] Import arm-smccc.h from Linux 6.16-rc1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 04/15] Import arm-smccc.h from Linux 6.17-rc7</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 05/15] arm64: Stash kvm_vcpu_init for later use</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 06/15] arm64: Use KVM_SET_MP_STATE ioctl to power off non-boot vCPUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 07/15] arm64: Expose ARM64_CORE_REG() for general use</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 08/15] arm64: Add support for finding vCPU for given MPIDR</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 09/15] arm64: Add skeleton implementation for PSCI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 10/15] arm64: psci: Implement CPU_SUSPEND</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 11/15] arm64: psci: Implement CPU_ON</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 12/15] arm64: psci: Implement AFFINITY_INFO</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 13/15] arm64: psci: Implement MIGRATE_INFO_TYPE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 14/15] arm64: psci: Implement SYSTEM_{OFF,RESET}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH kvmtool v4 15/15] arm64: smccc: Start sending PSCI to userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH kvmtool v4 04/15] Import arm-smccc.h from Linux 6.16-rc1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v10 03/43] arm64: RME: Add SMC definitions for calling the RMM</h3>
                </div>

                <div class="thread-meta">
                    <span>17 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-10-01</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于 ARM64 架构下 RME（Realm Management Extensions）相关的补丁，特别是添加用于调用 RMM（Realm Management Monitor）的 SMC（Secure Monitor Call）定义。<br><br>**原始补丁内容**：<br>补丁的主要目的是为 ARM64 的 RME 添加 SMC 定义，以便能够调用 RMM。这是为了支持在虚拟化环境中更好地管理和隔离不同的虚拟机。<br><br>**之前讨论要点**：<br>在之前的讨论中，参与者对 RMM 在处理 GIC（通用中断控制器）状态时的角色提出了质疑，认为 KVM（Kernel-based Virtual Machine）不应受到 RMM 的限制，特别是在中断交付和寄存器访问方面。Marc Zyngier 和 Steven Price 之间的讨论集中在 RMM 如何处理 GIC 状态以及 KVM 和 RMM 之间的职责划分。<br><br>**本周新讨论与进展**：<br>本周的讨论主要围绕补丁的具体实现细节展开。Marc Zyngier 和 Steven Price 对于 RMM 处理 GIC 寄存器的方式、用户空间与内核空间的交互、以及如何更好地定义和配置 RMM 接口进行了深入探讨。Steven Price 提出了一些关于 API 设计的建议，认为不应将 RMM 接口暴露给用户空间，并强调需要更清晰的错误报告机制。此外，双方还讨论了如何处理 RMM 和 KVM 之间的功能交互，尤其是在配置和激活 realm 时的复杂性。<br><br>总体来看，本周的讨论推动了对补丁的理解和改进，参与者们在细节上达成了一些共识，但仍存在一些未解决的问题和不同看法。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 03/43] arm64: RME: Add SMC definitions for calling the RMM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 03/43] arm64: RME: Add SMC definitions for calling the
 RMM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 05/43] arm64: RME: Check for RME support at KVM init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 03/43] arm64: RME: Add SMC definitions for calling the RMM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 06/43] arm64: RME: Define the user ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 08/43] kvm: arm64: Don't expose debug capabilities for realm guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 05/43] arm64: RME: Check for RME support at KVM init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 05/43] arm64: RME: Check for RME support at KVM init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 09/43] KVM: arm64: Allow passing machine type in KVM creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 03/43] arm64: RME: Add SMC definitions for calling the
 RMM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 06/43] arm64: RME: Define the user ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 08/43] kvm: arm64: Don't expose debug capabilities for
 realm guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 05/43] arm64: RME: Check for RME support at KVM init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 07/43] arm64: RME: ioctls to create and configure realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v10 09/43] KVM: arm64: Allow passing machine type in KVM
 creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-02]</span> <span class="email-subject">Re: [PATCH v10 06/43] arm64: RME: Define the user ABI</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Suzuki K Poulose <span class="email-sender">&lt;suzuki.poulose@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-02]</span> <span class="email-subject">Re: [PATCH v10 07/43] arm64: RME: ioctls to create and configure
 realms</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Price <span class="email-sender">&lt;steven.price@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/9] KVM Selftest Runner</h3>
                </div>

                <div class="thread-meta">
                    <span>16 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-30</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是 KVM 自测试运行器的补丁（PATCH v3 0/9），该补丁旨在改进 KVM 自测试的执行方式。补丁的主要内容包括创建一个新的自测试运行器，允许用户以更灵活的方式运行测试，支持并行执行、输出保存、超时设置等功能。<br><br>在历史讨论中，补丁经历了多个版本的修改，逐步减少了补丁数量（从 15 个减少到 9 个），并根据反馈进行了多项改进。例如，v2 版本引入了自动生成默认测试、命令行选项等功能，而 v1 版本则实现了并行测试执行和超时设置。<br><br>本周的新讨论中，开发者 Vipin Sharma 提出了多个补丁，逐步实现了以下功能：<br>1. **创建 KVM 自测试运行器**：实现基本的测试运行功能，支持选择单个测试文件或目录。<br>2. **添加执行路径选项**：允许用户指定测试可执行文件的路径。<br>3. **添加超时选项**：为每个测试设置执行时间限制，超时后终止测试。<br>4. **输出保存功能**：支持将测试输出保存到指定目录，并可选择是否附加时间戳。<br>5. **并行测试执行**：允许用户设置并发执行的测试数量。<br>6. **打印选项**：根据测试状态选择性打印输出，默认打印所有信息。<br><br>此外，补丁还增加了 README 文件，详细说明了如何使用自测试运行器。开发者们对补丁的设计和功能进行了积极的讨论，提出了改进建议，确保该工具能够满足开发者的需求。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH v3 0/9] KVM Selftest Runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH v3 1/9] KVM: selftest: Create KVM selftest runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH v3 2/9] KVM: selftests: Provide executables path option to the
 KVM selftest runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH v3 3/9] KVM: selftests: Add timeout option in selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH v3 4/9] KVM: selftests: Add option to save selftest runner
 output to a directory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH v3 5/9] KVM: selftests: Run tests concurrently in KVM
 selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH v3 6/9] KVM: selftests: Add various print flags to KVM
 selftest runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH v3 7/9] KVM: selftests: Print sticky KVM selftests runner
 status at bottom</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH v3 8/9] KVM: selftests: Add rule to generate default tests for
 KVM selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH v3 9/9] KVM: selftests: Provide README.rst for KVM selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH v3 1/9] KVM: selftest: Create KVM selftest runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v3 9/9] KVM: selftests: Provide README.rst for KVM selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v3 9/9] KVM: selftests: Provide README.rst for KVM
 selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-02]</span> <span class="email-subject">Re: [PATCH v3 9/9] KVM: selftests: Provide README.rst for KVM selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-02]</span> <span class="email-subject">Re: [PATCH v3 9/9] KVM: selftests: Provide README.rst for KVM
 selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-02]</span> <span class="email-subject">Re: [PATCH v3 9/9] KVM: selftests: Provide README.rst for KVM
 selftests runner</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vipin Sharma <span class="email-sender">&lt;vipinsh@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 02/28] KVM: arm64: Donate MMIO to the hypervisor</h3>
                </div>

                <div class="thread-meta">
                    <span>12 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-16</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（内核虚拟机）在 arm64 架构下的补丁，主题是「捐赠 MMIO（内存映射输入输出）给虚拟机监控器」。该补丁的目的是在特定情况下将 MMIO 页的管理权转交给 hypervisor，以提高系统的效率和可靠性。<br><br>在历史讨论中，参与者们主要探讨了补丁的实现细节和潜在问题。Mostafa Saleh 提出，虽然当前的代码只在启动时由 hypervisor 调用，并且只在错误路径中执行，但仍需考虑在失败时的处理逻辑。Will Deacon 认为在错误路径中增加检查是有必要的，以避免未来可能出现的问题。<br><br>在本周的新讨论中，Mostafa 表示将为即将发布的 v5 版本添加必要的 MMIO 辅助函数，尽管他最初对在错误路径中增加新辅助函数持谨慎态度。此外，Jason Gunthorpe 提出了关于 KVM SMMUv3 驱动程序的建议，认为在初始化过程中应确保电源域被探测，以避免潜在的驱动程序绑定问题。他还提到需要正确设置 DMA 属性，以确保系统的稳定性。<br><br>总体来看，本周的讨论集中在补丁的进一步完善和实现细节的调整上，参与者们积极交流，推动补丁的进展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 02/28] KVM: arm64: Donate MMIO to the hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-16]</span> <span class="email-subject">Re: [PATCH v4 10/28] KVM: arm64: iommu: Shadow host stage-2 page
 table</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-23]</span> <span class="email-subject">Re: [PATCH v4 15/28] iommu/arm-smmu-v3: Load the driver later in KVM
 mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-23]</span> <span class="email-subject">Re: [PATCH v4 15/28] iommu/arm-smmu-v3: Load the driver later in KVM
 mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-26]</span> <span class="email-subject">Re: [PATCH v4 02/28] KVM: arm64: Donate MMIO to the hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-26]</span> <span class="email-subject">Re: [PATCH v4 10/28] KVM: arm64: iommu: Shadow host stage-2 page
 table</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">Re: [PATCH v4 02/28] KVM: arm64: Donate MMIO to the hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">Re: [PATCH v4 10/28] KVM: arm64: iommu: Shadow host stage-2 page
 table</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">Re: [PATCH v4 15/28] iommu/arm-smmu-v3: Load the driver later in KVM
 mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH v4 10/28] KVM: arm64: iommu: Shadow host stage-2 page
 table</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH v4 10/28] KVM: arm64: iommu: Shadow host stage-2 page
 table</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-02]</span> <span class="email-subject">Re: [PATCH v4 15/28] iommu/arm-smmu-v3: Load the driver later in KVM
 mode</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v7 03/12] mm: introduce AS_NO_DIRECT_MAP</h3>
                </div>

                <div class="thread-meta">
                    <span>12 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-09-24</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于引入一个新的内存映射类型 AS_NO_DIRECT_MAP 的补丁（patch），该补丁由 Patrick Roy 提出，旨在处理直接映射条目未设置为存在的情况，主要用于 secretmem 映射和未来的 guest_memfd 配置。<br><br>在历史讨论中，参与者们探讨了与该补丁相关的多个问题，包括如何在不影响性能的情况下处理 TLB（翻译后备页表）刷新。Patrick 提出在直接映射操作后禁用 TLB 刷新可以显著提高性能，但其他参与者对此表示谨慎，认为应优先确保系统的安全性和确定性。<br><br>本周的新讨论中，David Hildenbrand 提出了一个实现“故障”的方法，即在访问某个地址时预先分配和准备同一块内存中的所有页面，并在调整所有直接映射条目后只刷新一次 TLB。参与者们还讨论了异步 TLB 刷新的潜在优势，认为这种方法可能在某些情况下比不进行显式 TLB 刷新更有效。<br><br>总体来看，讨论围绕如何在确保系统稳定性的前提下优化性能展开，尤其是在处理内存映射和 TLB 刷新策略方面。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-24]</span> <span class="email-subject">[PATCH v7 03/12] mm: introduce AS_NO_DIRECT_MAP</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Patrick Roy <span class="email-sender">&lt;patrick.roy@campus.lmu.de&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-24]</span> <span class="email-subject">[PATCH v7 04/12] KVM: guest_memfd: Add stub for
 kvm_arch_gmem_invalidate</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-24]</span> <span class="email-subject">[PATCH v7 06/12] KVM: guest_memfd: add module param for disabling TLB
 flushing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roy, Patrick <span class="email-sender">&lt;roypat@amazon.co.uk&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-25]</span> <span class="email-subject">Re: [PATCH v7 06/12] KVM: guest_memfd: add module param for disabling
 TLB flushing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Hansen <span class="email-sender">&lt;dave.hansen@intel.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-25]</span> <span class="email-subject">Re: [PATCH v7 06/12] KVM: guest_memfd: add module param for disabling
 TLB flushing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-25]</span> <span class="email-subject">Re: [PATCH v7 06/12] KVM: guest_memfd: add module param for disabling
 TLB flushing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Dave Hansen <span class="email-sender">&lt;dave.hansen@intel.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-25]</span> <span class="email-subject">Re: [PATCH v7 06/12] KVM: guest_memfd: add module param for disabling
 TLB flushing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-26]</span> <span class="email-subject">Re: [PATCH v7 06/12] KVM: guest_memfd: add module param for disabling
 TLB flushing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Patrick Roy <span class="email-sender">&lt;patrick.roy@linux.dev&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-26]</span> <span class="email-subject">Re: [PATCH v7 06/12] KVM: guest_memfd: add module param for
 disabling TLB flushing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-26]</span> <span class="email-subject">Re: [PATCH v7 06/12] KVM: guest_memfd: add module param for disabling
 TLB flushing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-27]</span> <span class="email-subject">Re: [PATCH v7 06/12] KVM: guest_memfd: add module param for disabling
 TLB flushing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Patrick Roy <span class="email-sender">&lt;patrick.roy@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">Re: [PATCH v7 06/12] KVM: guest_memfd: add module param for disabling
 TLB flushing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2] KVM: arm64: Check range args for pKVM mem transitions</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-19</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的内存过渡检查，特别是针对 pKVM 的内存范围参数验证。原始的 patch 提出了在 pKVM 内存过渡中增加对主机发出的范围参数的验证，以防止可能的溢出问题。<br><br>在历史讨论中，参与者们关注了范围检查的边界条件，Marc Zyngier 提出了需要将边界检查改为包含结束值，以避免合法范围被误判为无效。Oliver Upton 也强调了范围检查应尽量减少对地址空间的假设，以确保其通用性。<br><br>本周的新讨论中，Marc Zyngier 提出了一个新的检查函数 `check_range_args`，认为该函数能够正确处理边界问题。然而，Vincent Donnefort 表达了对允许某些范围（如 `phys=0xfffffffffffff000` 和 `size=4096`）可能导致的溢出问题的担忧，指出这可能会绕过后续的内存检查，导致安全隐患。<br><br>总体来看，讨论围绕如何有效且安全地实现内存范围检查展开，参与者们对边界条件和潜在的安全风险进行了深入探讨。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-19]</span> <span class="email-subject">[PATCH v2] KVM: arm64: Check range args for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-21]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Check range args for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-22]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Check range args for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-22]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Check range args for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-23]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Check range args for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Check range args for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Check range args for pKVM mem transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[STABLE 5.15.y] [PATCH] KVM: arm64: Fix softirq masking in FPSIMD register saving sequence</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-10-03</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，旨在修复 FPSIMD（Floating Point SIMD）寄存器保存序列中的软中断屏蔽问题。原始补丁的提交（23249dade24e）解决了由于不当回退导致的内核 BUG，确保在保存 FPSIMD 状态时禁用和启用软中断。<br><br>在之前的讨论中，补丁被确认修复了原始问题，但引入了新的潜在死锁风险，因为重新启用软中断可能会在持有锁的情况下处理待处理的软中断，导致了自旋锁递归错误。<br><br>在本周的新讨论中，Will Deacon 提出了一个改进方案，通过在保存 FPSIMD 寄存器时同时禁用硬中断，进一步减少死锁的风险。该补丁已在代码中实现，并得到了 Ard Biesheuvel 的认可。整体来看，本周的讨论集中在如何在解决原问题的同时，避免引入新的并发问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[STABLE 5.15.y] [PATCH] KVM: arm64: Fix softirq masking in FPSIMD register saving sequence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">Re: [STABLE 5.15.y] [PATCH] KVM: arm64: Fix softirq masking in
 FPSIMD register saving sequence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-05]</span> <span class="email-subject">Re: [STABLE 5.15.y] [PATCH] KVM: arm64: Fix softirq masking in FPSIMD
 register saving sequence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ard Biesheuvel <span class="email-sender">&lt;ardb@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v5 32/44] KVM: x86/pmu: Disable interception of select PMU
 MSRs for mediated vPMUs</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-26</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（内核虚拟机）中对特定 PMU（性能监控单元）MSR（模型特定寄存器）拦截的禁用。原始的 patch 提出了在使用中介 vPMU（虚拟性能监控单元）时，禁用对某些 PMU MSR 的拦截，以提高性能和兼容性。<br><br>在历史讨论中，Sean Christopherson 指出，AMD 处理器在某些情况下，尽管缺少全局 MSR，仍然可以使用与主机能力相同数量的计数器，因此在全局控制不可用的情况下，不必对 RDPMC（读取性能监控计数器）进行拦截。<br><br>本周的新讨论中，Sean Christopherson 和 Sandipan Das 继续探讨了 Intel 处理器的情况，确认其与 AMD 类似，但由于主机有固定计数器，客人则没有，因此需要对 kvm_pmu_has_perf_global_ctrl() 进行适当的处理。最终，Sandipan Das 对 Sean 的修改表示认可，认为该 patch 看起来很好，并表示感谢。<br><br>总结来看，讨论围绕如何在 KVM 中合理处理 PMU MSR 的拦截问题展开，确保在不同处理器架构下的兼容性和性能优化。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-26]</span> <span class="email-subject">Re: [PATCH v5 32/44] KVM: x86/pmu: Disable interception of select PMU
 MSRs for mediated vPMUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sandipan Das <span class="email-sender">&lt;sandidas@amd.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v5 32/44] KVM: x86/pmu: Disable interception of select PMU
 MSRs for mediated vPMUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">Re: [PATCH v5 32/44] KVM: x86/pmu: Disable interception of select PMU
 MSRs for mediated vPMUs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sandipan Das <span class="email-sender">&lt;sandidas@amd.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Remove unreachable break after return</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-09-30</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，主题为“移除返回后无效的 break 语句”。<br><br>1. **原始补丁内容**：补丁由 Osama Abdelkader 提出，目的是删除在 `arch/arm64/kvm/at.c` 文件中一个位于 `return` 语句之后的无效 `break` 语句。由于该 `break` 语句在逻辑上无法被执行，因此其存在是多余的。<br><br>2. **之前讨论要点**：本邮件线程没有提供历史讨论的内容，所有讨论均集中在本周的进展上。<br><br>3. **本周的新讨论与进展**：在本周的讨论中，Zenghui Yu 对补丁进行了审核并表示支持，确认了补丁的有效性。随后，Marc Zyngier 表示已将该补丁应用于修复列表，并感谢提交者。最终，该补丁成功提交并记录为 commit ID 55eeaa24c9ac3a22f9c220500e23ee8b6ddff751。<br><br>总体来看，本周的讨论围绕着补丁的审核和应用展开，进展顺利，补丁已被接受并实施。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH] KVM: arm64: Remove unreachable break after return</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Osama Abdelkader <span class="email-sender">&lt;osama.abdelkader@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Remove unreachable break after return</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zenghui Yu <span class="email-sender">&lt;yuzenghui@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Remove unreachable break after return</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: selftests: fix irqfd_test on arm64</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-30</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM 自测的补丁，旨在修复 arm64 架构下的 irqfd_test 测试。补丁的核心内容是解决在没有内核 irqchip 的情况下，KVM_IRQFD ioctl 调用失败的问题。补丁通过添加一个架构特定的谓词，指示默认虚拟机是否拥有 irqchip，并在测试中依赖于此谓词，从而确保测试在不同架构下的有效性。<br><br>在之前的讨论中，参与者提到该问题导致了一些持续的 CI 噪音，因此需要尽快修复，即使补丁不是最终版本。Oliver Upton 提到，缺少默认的 VGICv3 对他的一些更改造成了障碍，并表示 irqfd_test 需要更多关注。<br><br>本周的新进展包括 Oliver Upton 提交了补丁，并得到了 Sean Christopherson 的认可。Sean 还提到他注意到相关系列，但未阅读封面信。此外，补丁得到了 Sebastian Ott 和 Naresh Kamboju 的报告支持，表明该问题的影响较广泛。整体来看，讨论集中在补丁的必要性和紧迫性上，参与者一致认为需要尽快解决该问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH] KVM: selftests: fix irqfd_test on arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH] KVM: selftests: fix irqfd_test on arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH] KVM: selftests: fix irqfd_test on arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Prevent access to vCPU events before init</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-30</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，旨在防止在虚拟 CPU（vCPU）初始化之前访问 vCPU 事件。该补丁的背景是，KVM 允许用户空间在未初始化的 vCPU 上挂起事件，这可能导致 KVM 解析未初始化的数据，从而引发内核错误。<br><br>在历史讨论中，补丁的提出者 Oliver Upton 指出，KVM 在处理未初始化 vCPU 的事件时，可能会导致与异常注入相关的严重错误，特别是在不同的组件（如注入代码和 hypervisor）对 vCPU 状态的理解不一致时。<br><br>在本周的新讨论中，Oliver 提交了补丁，并详细描述了问题的根源及其解决方案。补丁通过在 ioctl 调用中添加检查，确保只有在 vCPU 初始化后才能访问 vCPU 事件。参与者 Marc Zyngier 对补丁表示认可，并指出需要在未来文档中记录相关的错误代码（-ENOEXEC）。最终，Marc 确认已将该补丁应用于修复分支，解决了这个令人烦恼的错误。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH] KVM: arm64: Prevent access to vCPU events before init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Prevent access to vCPU events before init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Prevent access to vCPU events before init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[STABLE 6.1.y] [PATCH] KVM: arm64: Fix softirq masking in FPSIMD register saving sequence</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-10-03</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，旨在修复 FPSIMD（Floating Point SIMD）寄存器保存序列中的软中断屏蔽问题。<br><br>**原始补丁内容**：补丁的目的是修复由于不当的上游提交回溯而导致的内核错误（kernel BUG），通过确保在 FPSIMD 寄存器保存操作期间禁用和启用软中断来解决该问题。<br><br>**之前讨论要点**：虽然原始补丁修复了内核错误，但引入了新的问题，即在重新启用软中断时可能导致死锁，特别是在持有锁的情况下处理待处理的软中断。这一问题在邮件中被详细描述，并引发了对如何进一步改进的讨论。<br><br>**本周新讨论及进展**：本周的讨论中，Will Deacon 提出了一个新的补丁，进一步改进了 FPSIMD 寄存器保存过程，建议在保存寄存器时禁用硬中断，以防止死锁问题。Ard Biesheuvel 对该补丁表示认可并给予了确认（Acked-by），表明该补丁得到了支持和认可。<br><br>总结而言，此次讨论围绕着如何在 KVM 的 FPSIMD 寄存器保存过程中有效管理中断，确保系统稳定性和性能。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[STABLE 6.1.y] [PATCH] KVM: arm64: Fix softirq masking in FPSIMD register saving sequence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-05]</span> <span class="email-subject">Re: [STABLE 6.1.y] [PATCH] KVM: arm64: Fix softirq masking in FPSIMD
 register saving sequence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ard Biesheuvel <span class="email-sender">&lt;ardb@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[STABLE 6.6.y] [PATCH] KVM: arm64: Fix softirq masking in FPSIMD register saving sequence</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-10-03</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 FPSIMD（Floating Point SIMD）寄存器保存序列中的软中断屏蔽问题的修复。原始的补丁（patch）旨在解决由于错误回溯导致的内核 BUG，确保在保存 FPSIMD 寄存器时禁用和启用软中断。<br><br>在历史讨论中，补丁 28b82be094e2 修复了一个内核 BUG，然而，这一修复引入了新的问题，可能导致死锁，因为重新启用软中断时会在持有锁的情况下处理待处理的软中断。Will Deacon 提出了一个新的补丁，进一步禁用硬中断以解决这一问题，并向上游修复 9b19700e623f 的方向迈出了一小步。<br><br>在本周的新讨论中，Will Deacon 提交了新的补丁，并详细描述了问题和解决方案。Ard Biesheuvel 对该补丁表示认可，确认了其有效性。这一进展表明，修复工作正在顺利进行，相关的技术细节也得到了充分讨论。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">[STABLE 6.6.y] [PATCH] KVM: arm64: Fix softirq masking in FPSIMD register saving sequence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-05]</span> <span class="email-subject">Re: [STABLE 6.6.y] [PATCH] KVM: arm64: Fix softirq masking in FPSIMD
 register saving sequence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ard Biesheuvel <span class="email-sender">&lt;ardb@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: nv: do not inject L2-bound IRQs to L1 hypervisor</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-10-02</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（内核虚拟机）在 arm64 架构下的补丁，旨在解决 L1 超级管理程序（hypervisor）在处理 L2 绑定中断（IRQ）时遇到的问题。补丁的核心内容是避免将 L2 绑定的 IRQ 注入到 L1 超级管理程序中，以防止在中断处理过程中出现死循环。<br><br>在历史讨论中，补丁的背景是，L1 超级管理程序在处理虚拟硬件中断时，会将这些中断视为真实的硬件中断，但实际上它们并没有对应的物理中断。当 L1 超级管理程序尝试处理新的 IRQ 时，如果活动的 IRQ 数量已达到限制，便会导致中断处理异常。该补丁通过标记已注入到 L2 的中断，并在进入 L1 超级管理程序时从真实的中断列表中移除，来解决这一问题。<br><br>本周的新讨论中，参与者 Oliver Upton 提出了对补丁的反馈，指出当前的设计可能会违反架构模型，并建议调整 IRQ 的排序，以确保待处理的 IRQ 优先填充列表寄存器（LRs）。他强调了需要解决活动 IRQ 溢出列表寄存器的问题，以避免在嵌套状态下处理虚拟 IRQ 时出现遗漏。<br><br>总的来说，本周的讨论集中在补丁的有效性和潜在问题上，呼吁对 IRQ 处理机制进行更深入的审视和改进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-02]</span> <span class="email-subject">[PATCH] KVM: arm64: nv: do not inject L2-bound IRQs to L1 hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Volodymyr Babchuk <span class="email-sender">&lt;Volodymyr_Babchuk@epam.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-02]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: do not inject L2-bound IRQs to L1
 hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: selftests: Fix irqfd_test for non-x86 architectures</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-30</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是针对 KVM 的自测试功能中的 irqfd_test 进行修复，目的是解决非 x86 架构下的兼容性问题。<br><br>**原始 patch/问题内容**：<br>Oliver Upton 提出的补丁旨在修复 irqfd_test 测试在没有内核中 irqchip 的情况下会失败的问题。该测试假设默认虚拟机（VM）会隐式创建一个 irqchip，但这在非 x86 架构上并不一定成立。<br><br>**之前讨论要点**：<br>虽然邮件中没有详细的历史讨论，但可以推测之前的讨论集中在如何确保 irqfd_test 在不同架构下的可用性和稳定性。<br><br>**本周的新讨论与进展**：<br>在本周的讨论中，Oliver Upton 提出了具体的修复方案，增加了一个架构谓词来判断默认 VM 是否会获取 irqchip，并相应地调整了 irqfd_test 的依赖关系。同时，为了满足 arm64 架构的 VGIC 初始化要求，使用了 `vm_create_with_one_vcpu()` 函数。Marc Zyngier 随后确认已将该补丁应用到修复分支中，表示感谢。<br><br>总的来说，本次讨论有效地解决了 KVM 自测试在不同架构下的兼容性问题，并得到了相关人员的认可与支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH] KVM: selftests: Fix irqfd_test for non-x86 architectures</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH] KVM: selftests: Fix irqfd_test for non-x86 architectures</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2] KVM: arm64: Document vCPU event ioctls as requiring init'ed vCPU</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-30</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，主题为“[PATCH v2] KVM: arm64: Document vCPU event ioctls as requiring init'ed vCPU”。该补丁的主要内容是更新 API 文档，明确指出在未初始化的 vCPU 上调用 KVM_{GET,SET}_VCPU_EVENTS 会被拒绝，并返回错误码 -ENOEXEC。这一更改是基于之前的提交（commit cc96679f3c03），旨在防止在 vCPU 初始化之前访问事件。<br><br>在历史讨论中，未提及具体的讨论要点，但可以推测该补丁是为了提高 KVM 的稳定性和文档的准确性，确保开发者在使用 API 时能够清楚地了解调用条件。<br><br>在本周的新讨论中，Oliver Upton 提交了补丁的 v2 版本，并在文档中增加了相关说明。Marc Zyngier 随后确认已将该补丁应用到修复列表中，并表示感谢。这表明补丁得到了认可并将被整合进 KVM 的代码库中。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH v2] KVM: arm64: Document vCPU event ioctls as requiring init'ed vCPU</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Document vCPU event ioctls as requiring init'ed vCPU</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 3/6] KVM: arm64: Add pre_fault_memory implementation</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-29</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（内核虚拟机）在 arm64 架构下实现的 `pre_fault_memory` 功能的补丁（PATCH 3/6）。该补丁的目的是在处理内存访问故障时，提供更好的故障信息和处理机制。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测该补丁的提出是为了改进 KVM 的内存管理，特别是在处理虚拟 CPU 的内存访问故障时，确保能够准确地捕获和报告故障信息。<br><br>本周的新讨论中，参与者 Jack Thomson 和 Oliver Upton 对补丁进行了深入的审查和讨论。Jack 对补丁的实现表示感谢，并确认了 Oliver 的建议，即通过合成中止（synthetic abort）来改进故障处理的方式。Oliver 指出，补丁中应更准确地处理故障类型，建议在处理访问标志故障时，使用数据中止（data abort）来更好地反映实际情况。此外，他还提到需要补充相关的 ESR（异常状态寄存器）字段，以确保故障信息的完整性。<br><br>总的来说，本周的讨论集中在对补丁的细节改进上，参与者们积极交流了技术细节和最佳实践，以确保补丁的有效性和兼容性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">Re: [PATCH 3/6] KVM: arm64: Add pre_fault_memory implementation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Thomson, Jack <span class="email-sender">&lt;jackabt.amazon@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-29]</span> <span class="email-subject">Re: [PATCH 3/6] KVM: arm64: Add pre_fault_memory implementation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/3] VMM can handle guest SEA via KVM_EXIT_ARM_SEA</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-10-03</span>
                </div>

                <div class="ai-summary">
                    本邮件主题为“[PATCH v3 0/3] VMM can handle guest SEA via KVM_EXIT_ARM_SEA”，主要讨论了一个针对 KVM（Kernel-based Virtual Machine）的补丁系列，旨在通过 KVM_EXIT_ARM_SEA 处理虚拟机中的 SEA（System Error Acknowledgment）。<br><br>在历史讨论中，虽然没有具体的邮件内容，但可以推测该补丁系列是为了增强 KVM 的功能，使其能够更好地处理 ARM 架构下的系统错误响应。这可能涉及到对虚拟机监控程序（VMM）在处理 guest 操作时的改进。<br><br>在本周的新讨论中，参与者 Jiaqi Yan 向邮件列表中的其他成员请求对该补丁系列的审查，并表示非常期待收到评论和反馈。这表明该补丁系列已经准备好进行进一步的评估，开发者希望通过社区的反馈来完善其实现。<br><br>总结而言，本周的讨论主要集中在请求对补丁的审查上，尚未有具体的技术反馈或进展报告。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">Re: [PATCH v3 0/3] VMM can handle guest SEA via KVM_EXIT_ARM_SEA</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jiaqi Yan <span class="email-sender">&lt;jiaqiyan@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 15/34] KVM: Add KVM_CREATE_GUEST_MEMFD ioctl() for
 guest-specific backing memory</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-10-03</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（内核虚拟机）中添加 `KVM_CREATE_GUEST_MEMFD` ioctl() 的补丁，旨在支持特定于虚拟机的后备内存。该补丁的目标是增强 KVM 对虚拟机内存管理的灵活性。<br><br>在之前的讨论中，虽然没有具体的历史邮件记录，但可以推测该补丁的引入是为了改善虚拟机的内存处理能力，尤其是在处理快照和内存迁移时的表现。<br><br>在本周的新讨论中，参与者 Nikita Kalyazin 提出了一个重要问题：当前对虚拟机内存的访问限制是否仍然必要，尤其是在主机可以访问虚拟机内存的情况下。他指出，解除这一限制将有助于支持基于脏页跟踪的差异快照功能，特别是在 Firecracker 虚拟机中进行实时迁移的场景中。Nikita 还分享了一个实验结果，通过移除该检查，他成功生成了差异快照并从中恢复了 Firecracker 虚拟机。这一发现为进一步优化 KVM 的内存管理提供了新的思路。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">Re: [PATCH 15/34] KVM: Add KVM_CREATE_GUEST_MEMFD ioctl() for
 guest-specific backing memory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Nikita Kalyazin <span class="email-sender">&lt;kalyazin@amazon.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: nv: do not inject L2-bound IRQs to L1
 hypervisor</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-10-03</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，主要内容是防止将 L2 绑定的中断注入到 L1 虚拟机监控器中。该补丁的目的是优化中断处理，确保更高效的虚拟化性能。<br><br>在历史讨论中，虽然没有具体的邮件记录，但可以推测出该补丁是基于对 L2 中断处理机制的理解和改进，旨在解决中断注入带来的潜在问题。<br><br>在本周的新讨论中，参与者 Volodymyr Babchuk 表达了对该补丁的关注，并提到自己之前错过了一些相关信息。他表示由于工作安排的变化，无法继续投入时间来解决该问题，并对无法提供重现步骤表示歉意。他推测该问题可能通过在 kvmtool 中同时触发大量中断来重现，并指出这与 Xen 无关，KVM 作为 L1 虚拟机监控器也应能正常工作。<br><br>总体来看，本周的讨论没有实质性的进展，主要是对补丁的关注和对后续工作的转交。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-03]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: nv: do not inject L2-bound IRQs to L1
 hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Volodymyr Babchuk <span class="email-sender">&lt;Volodymyr_Babchuk@epam.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Document vCPU event ioctls as requiring init'ed vCPU</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-09-30</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构中对 vCPU 事件的处理，特别是对未初始化的 vCPU 的 ioctl 调用的文档更新。<br><br>1. **原始 patch/问题的内容**：本周的 patch 由 Oliver Upton 提出，主要更新了 KVM API 文档，明确指出对未初始化的 vCPU 调用 KVM_{GET,SET}_VCPU_EVENTS 将会被拒绝，并返回错误代码 -ENXIO。这一更新是基于之前的提交（commit cc96679f3c03），该提交防止了在 vCPU 初始化之前对事件的访问。<br><br>2. **之前的讨论要点**：由于本邮件线程没有历史讨论部分，因此没有相关的背景信息或之前的讨论要点。<br><br>3. **本周的新讨论、进展或结论**：本周的讨论集中在更新文档以反映对未初始化 vCPU 的 ioctl 调用的处理。此次更新增加了三行内容，明确了调用行为及其返回值，确保开发者在使用 KVM API 时能够更清楚地理解相关限制。<br><br>总的来说，这次更新增强了 KVM 文档的准确性，有助于开发者避免在未初始化的 vCPU 上进行不当操作。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">[PATCH] KVM: arm64: Document vCPU event ioctls as requiring init'ed vCPU</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Selftest</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>selftests: kvm: irqfd_test: KVM_IRQFD failed, rc: -1 errno: 11
 (Resource temporarily unavailable)</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-30</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM 的自测试 irqfd_test 失败的问题。Naresh Kamboju 提到，自从 Linux next-20250625 引入该测试以来，所有测试平台上均出现 KVM_IRQFD ioctl 返回 errno 11（资源暂时不可用）的错误，且该问题在所有测试运行中均可重现，表现为 100% 失败。测试在 graviton4 和 rk3399-rock-pi-4b 等平台上均未通过。<br><br>Naresh 提出，测试尝试注册 IRQFD 时失败，可能是由于资源耗尽或 ARM 平台上不支持该行为。他询问是否应将此视为 ARM 平台上的不支持情况，或是存在需要解决的实现/配置缺失。<br><br>Sean Christopherson 在回复中指出，这是一个已知问题，KVM ARM 需要测试创建一个虚拟通用中断控制器（vGIC），但修复工作停滞不前，因为没有一种“显而易见的正确”方式来实现这一点。他表示将会联系其他相关人员以推动此事。<br><br>总体来看，本周的讨论集中在对 irqfd_test 失败原因的确认及后续解决方案的探讨上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">selftests: kvm: irqfd_test: KVM_IRQFD failed, rc: -1 errno: 11
 (Resource temporarily unavailable)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Naresh Kamboju <span class="email-sender">&lt;naresh.kamboju@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: selftests: kvm: irqfd_test: KVM_IRQFD failed, rc: -1 errno: 11
 (Resource temporarily unavailable)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>GIT PULL</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[GIT PULL] KVM/arm64 updates for 6.18</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-09-25</span>
                </div>

                <div class="ai-summary">
                    在本邮件线程中，Marc Zyngier 提出了针对 6.18 版本的 KVM/arm64 更新补丁。该补丁主要包括对 NV 相关问题的修复和一些架构特性的变通处理，特别是增加了一个基本框架，以便在 EL2 中以相对透明的方式运行 EL1 测试。此外，补丁还引入了对 FF-A 1.2 的支持，尽管这一点的实际影响被调侃为微不足道。<br><br>在之前的讨论中，Marc 提到了一系列修复和改进，详细信息在邮件标签中列出。总体来看，这些更新旨在提升 KVM/arm64 的稳定性和功能。<br><br>在本周的新讨论中，Paolo Bonzini 对 Marc 的补丁表示认可，并表示已将其合并，感谢其贡献，同时对延迟表示歉意。这表明补丁已成功纳入主线，进一步推动了 KVM/arm64 的发展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-09-25]</span> <span class="email-subject">[GIT PULL] KVM/arm64 updates for 6.18</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-09-30]</span> <span class="email-subject">Re: [GIT PULL] KVM/arm64 updates for 6.18</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Paolo Bonzini <span class="email-sender">&lt;pbonzini@redhat.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Discussion</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>KVM: Nested VGIC emulation leads to infinite IRQ exceptions</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-10-02</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM 中嵌套 VGIC 模拟导致无限 IRQ 异常的问题。<br><br>1. **原始问题**：该问题涉及 KVM 的嵌套 VGIC 模拟，导致在处理 IRQ 时出现无限循环的异常。邮件中提到，Xen 虚拟机监控器在返回到虚拟 CPU 时，处理 IRQ 的状态出现了问题，导致无法正常执行。<br><br>2. **之前讨论要点**：在历史讨论中，参与者们探讨了该问题的复杂性，尤其是与 Android 构建环境的关联。Volodymyr Babchuk 提到他通过增加跟踪信息找到了问题的根源，指出存在待处理的定时器 IRQ 和多个 ACTIVE 中断，这些中断填满了可用的中断路由（LRs），导致无法正常处理。<br><br>3. **本周的新讨论与进展**：在本周的讨论中，Volodymyr 提出了两种可能的解决方案：优先处理定时器 IRQ，确保它们始终在 LRs 中；或降低 ACTIVE IRQ 的优先级，使其最后插入 LRs。他认为第二种方案更为可行。Marc Zyngier 对此表示怀疑，认为 DomU 中断不应影响 Xen，并指出 KVM 中缺少某些功能，可能导致当前的问题。两位参与者的讨论显示出对问题根源的不同理解，尚未达成一致的解决方案。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-02]</span> <span class="email-subject">Re: KVM: Nested VGIC emulation leads to infinite IRQ exceptions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Volodymyr Babchuk <span class="email-sender">&lt;Volodymyr_Babchuk@epam.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-02]</span> <span class="email-subject">Re: KVM: Nested VGIC emulation leads to infinite IRQ exceptions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>KVM: Nested VGIC emulation leads to infinite IRQ exceptions</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-10-01</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM 中嵌套 VGIC 模拟导致无限 IRQ 异常的问题。虽然没有提供具体的补丁，但讨论围绕如何解决该问题展开。<br><br>在历史讨论中，参与者 Marc Zyngier 提到需要在 kvmarm 邮件列表中进行相关讨论，并对当前的配置提出疑问。他指出，可能是由于维护中断导致虚拟 CPU 接口被禁用，从而无法确认中断。他还建议检查 ICH_MISR_EL2 的状态，以找出问题的根源。<br><br>在本周的新讨论中，Marc Zyngier 进一步分析了问题，指出在 EL2 中物理定时器处于待处理状态，而在返回到 EL1 时，虚拟定时器也处于待处理状态。他怀疑问题可能与硬件特性 FEAT_ECV 有关，并强调需要对当前的状态进行详细的调试，以确定是 Xen 还是 KVM 的问题。<br><br>总体来看，本周的讨论集中在对问题的深入分析和调试建议上，尚未得出明确的解决方案。参与者希望能够获得更多的重现步骤，以便更好地定位问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: KVM: Nested VGIC emulation leads to infinite IRQ exceptions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-01]</span> <span class="email-subject">Re: KVM: Nested VGIC emulation leads to infinite IRQ exceptions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>KVM: Nested VGIC emulation leads to infinite IRQ exceptions</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-10-02</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）中的嵌套 VGIC（虚拟通用中断控制器）仿真导致无限 IRQ（中断请求）异常的问题。<br><br>在历史讨论中，尚未提供具体的补丁或详细问题描述，因此我们无法获取更多背景信息。<br><br>本周的讨论由 Volodymyr Babchuk 提出，他回应了 Marc Zyngier 的观点，讨论了 KVM 在处理 IRQ 时的行为。他指出，当前的 IRQ 处理机制似乎会导致所有目标 vCPU 的 IRQ 被错误地处理，尤其是这些 IRQ 是由 QEMU 生成并被视为硬件中断。Babchuk 提出，KVM 应该跟踪这些重新注入的 IRQ，并从 Xen 的 LR（中断路由寄存器）中移除它们。然而，这需要假设 L1 超级管理程序（如 Xen）会正常工作，不会尝试停用已经注入到其自身客户机的 IRQ。<br><br>他进一步建议，可以通过检查 vLR 中的硬件位来判断 L1 超级管理程序是否重新注入 IRQ，从而在 KVM 和 L1/L2 之间的上下文切换时，区分 L1 和 L2 目标的 IRQ，并相应地填充 LR。这一方案依赖于 L1 超级管理程序的良好行为，尤其是在处理真实硬件中断时可能会更加复杂。<br><br>总的来说，本周的讨论聚焦于如何改进 KVM 对嵌套虚拟化中 IRQ 的处理，以避免无限异常的发生。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-10-02]</span> <span class="email-subject">Re: KVM: Nested VGIC emulation leads to infinite IRQ exceptions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Volodymyr Babchuk <span class="email-sender">&lt;Volodymyr_Babchuk@epam.com&gt;</span></div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
