<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVMARM 邮件列表 AI 总结报告</title>
    <style>
        body {
            font-family: 'Courier New', 'Courier', monospace;
            line-height: 1.5;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 40px;
            background-color: #ffffff;
            color: #222;
        }
        .container {
            background: #ffffff;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
            color: #000;
            margin-bottom: 0.3em;
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 15px;
        }
        h2 {
            font-size: 1.6em;
            font-weight: bold;
            color: #000;
            margin-top: 2em;
            margin-bottom: 0.6em;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 1.2em;
            font-weight: bold;
            color: #111;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h4 {
            font-size: 1.05em;
            font-weight: bold;
            color: #333;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
        }
        .meta-info {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px 20px;
            margin: 20px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        .meta-info p {
            margin: 6px 0;
            color: #444;
        }
        .meta-info strong {
            color: #000;
            font-weight: bold;
        }
        .stats {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid #000;
        }
        .stat-card {
            display: table-cell;
            border: 1px solid #000;
            padding: 12px 15px;
            text-align: center;
            background: #fafafa;
        }
        .stat-card h3 {
            margin: 0;
            color: #000;
            font-size: 1.8em;
            font-weight: bold;
            border: none;
            padding: 0;
        }
        .stat-card p {
            margin: 5px 0 0 0;
            color: #444;
            font-size: 0.9em;
            font-weight: normal;
        }
        .category {
            margin: 30px 0;
        }
        .thread {
            margin: 25px 0;
            padding: 15px;
            background: #fafafa;
            border: 1px solid #ccc;
            page-break-inside: avoid;
        }
        .thread-header {
            margin-bottom: 12px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .thread-header h3 {
            font-size: 1.15em;
            font-weight: bold;
            color: #000;
            margin: 0;
        }
        .thread-meta {
            display: block;
            margin: 8px 0 12px 0;
            font-size: 0.9em;
            color: #555;
            font-style: italic;
        }
        .thread-meta span {
            margin-right: 15px;
        }
        .ai-summary {
            background: #fff;
            border-left: 3px solid #666;
            padding: 12px 15px;
            margin: 15px 0;
            line-height: 1.6;
            color: #222;
            font-style: italic;
        }
        .email-list {
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px 15px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.88em;
            line-height: 1.5;
            overflow-x: auto;
            margin: 10px 0;
        }
        .email-item {
            margin: 4px 0;
            padding: 2px 0;
            color: #222;
        }
        .email-item.historical {
            background: #f5f5f5;
            border-left: 3px solid #999;
            padding-left: 8px;
            opacity: 0.8;
        }
        .email-item.new {
            background: #fffef0;
            border-left: 3px solid #0066cc;
            padding-left: 8px;
        }
        .email-date {
            color: #0066cc;
            font-weight: bold;
        }
        .email-date.historical {
            color: #666;
        }
        .email-sender {
            color: #c30;
            font-weight: normal;
        }
        .email-subject {
            color: #000;
        }
        .historical-marker {
            color: #999;
            font-size: 0.85em;
            font-style: italic;
        }
        .new-marker {
            color: #0066cc;
            font-size: 0.85em;
            font-weight: bold;
        }
        .archive-link {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            background: #333;
            color: #fff;
            text-decoration: none;
            border: 2px solid #000;
            font-weight: bold;
            transition: all 0.2s;
        }
        .archive-link:hover {
            background: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KVMARM Mailing List Analysis Report</h1>

        <div class="meta-info">
            <p><strong>Generated:</strong> 2025-10-27 09:39</p>
            <p><strong>Time Period:</strong> 2025年3月 第11周 (03/10 - 03/16)</p>
            <p><strong>Total Messages:</strong> 285 | <strong>Total Threads:</strong> 27</p>
            <p style="text-align: center;"><a href="archive.html" class="archive-link">📚 历史归档 Archive</a></p>
        </div>


        <div class="category">
            <h2>PATCH</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH hyperv-next v5 00/11] arm64: hyperv: Support Virtual Trust Level Boot</h3>
                </div>

                <div class="thread-meta">
                    <span>50 messages</span>
                    <span>8 participants</span>
                    <span>Started: 2025-03-07</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于在 ARM64 上支持虚拟信任级别（Virtual Trust Level, VTL）引导的补丁集。该补丁集的主要目标是使 Hyper-V 代码能够在 ARM64 架构下以 VTL 模式启动，相关文档可参考 Microsoft 的技术规范。<br><br>在历史讨论中，Roman Kisel 提出了多个补丁，涵盖了如何通过 SMCCC 检测 Hypervisor 存在、更新 Kconfig 以支持 ARM64 的 VTL 模式、以及如何初始化和报告 VTL 信息等。这些补丁的核心是确保 ARM64 系统能够在没有 ACPI 的情况下正常工作，并且能够与 Hyper-V 进行有效的通信。<br><br>在本周的新讨论中，参与者们对补丁进行了深入的审查和反馈。Wei Liu 提出了对 VTL 检查的一致性问题，Krzysztof Kozlowski 对设备树绑定的描述提出了质疑，认为缺乏必要的解释。Tianyu Lan 则询问了如何通过设备树找到 VMBus 根设备。Roman Kisel 对补丁的描述进行了修正，并表示将根据反馈进行更新。此外，Michael Kelley 强调了在 VTL 模式下的特殊性，并讨论了 ARM64 和 x86 之间的实现差异。<br><br>总体来看，本周的讨论主要集中在补丁的细节审查、设备树绑定的准确性以及 VTL 模式的实现逻辑上，参与者们积极提出建议，以确保补丁的质量和可用性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 00/11] arm64: hyperv: Support Virtual Trust Level Boot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 01/11] arm64: kvm, smccc: Introduce and use API for detectting hypervisor presence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 02/11] arm64: hyperv: Use SMCCC to detect hypervisor presence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 04/11] Drivers: hv: Provide arch-neutral implementation of get_vtl()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 05/11] arm64: hyperv: Initialize the Virtual Trust Level field</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 06/11] arm64, x86: hyperv: Report the VTL the system boots in</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 07/11] dt-bindings: microsoft,vmbus: Add interrupts and DMA coherence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 08/11] Drivers: hv: vmbus: Get the IRQ number from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 09/11] Drivers: hv: vmbus: Introduce hv_get_vmbus_root_device()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 10/11] ACPI: irq: Introduce acpi_get_gsi_dispatcher()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH hyperv-next v5 11/11] PCI: hv: Get vPCI MSI IRQ domain from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-08]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Arnd Bergmann <span class="email-sender">&lt;arnd@arndb.de&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-08]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 08/11] Drivers: hv: vmbus: Get the IRQ number from
 DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Arnd Bergmann <span class="email-sender">&lt;arnd@arndb.de&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 06/11] arm64, x86: hyperv: Report the VTL
 the system boots in</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei Liu <span class="email-sender">&lt;wei.liu@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 07/11] dt-bindings: microsoft,vmbus: Add
 interrupts and DMA coherence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Krzysztof Kozlowski <span class="email-sender">&lt;krzk@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 09/11] Drivers: hv: vmbus: Introduce hv_get_vmbus_root_device()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Tianyu Lan <span class="email-sender">&lt;ltykernel@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 04/11] Drivers: hv: Provide arch-neutral
 implementation of get_vtl()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Tianyu Lan <span class="email-sender">&lt;ltykernel@gmail.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 11/11] PCI: hv: Get vPCI MSI IRQ domain
 from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Bjorn Helgaas <span class="email-sender">&lt;helgaas@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 06/11] arm64, x86: hyperv: Report the VTL
 the system boots in</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 06/11] arm64, x86: hyperv: Report the VTL
 the system boots in</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei Liu <span class="email-sender">&lt;wei.liu@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 07/11] dt-bindings: microsoft,vmbus: Add
 interrupts and DMA coherence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 09/11] Drivers: hv: vmbus: Introduce
 hv_get_vmbus_root_device()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 11/11] PCI: hv: Get vPCI MSI IRQ domain
 from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 06/11] arm64, x86: hyperv: Report the VTL
 the system boots in</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for
 arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 08/11] Drivers: hv: vmbus: Get the IRQ
 number from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 07/11] dt-bindings: microsoft,vmbus: Add
 interrupts and DMA coherence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Krzysztof Kozlowski <span class="email-sender">&lt;krzk@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 07/11] dt-bindings: microsoft,vmbus: Add
 interrupts and DMA coherence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">RE: [PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for
 arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Michael Kelley <span class="email-sender">&lt;mhklinux@outlook.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">RE: [PATCH hyperv-next v5 01/11] arm64: kvm, smccc: Introduce and use
 API for detectting hypervisor presence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Michael Kelley <span class="email-sender">&lt;mhklinux@outlook.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 07/11] dt-bindings: microsoft,vmbus: Add
 interrupts and DMA coherence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Krzysztof Kozlowski <span class="email-sender">&lt;krzk@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">RE: [PATCH hyperv-next v5 02/11] arm64: hyperv: Use SMCCC to detect
 hypervisor presence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Michael Kelley <span class="email-sender">&lt;mhklinux@outlook.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Arnd Bergmann <span class="email-sender">&lt;arnd@arndb.de&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 07/11] dt-bindings: microsoft,vmbus: Add
 interrupts and DMA coherence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 01/11] arm64: kvm, smccc: Introduce and use
 API for detectting hypervisor presence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">RE: [PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for
 arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Michael Kelley <span class="email-sender">&lt;mhklinux@outlook.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">RE: [PATCH hyperv-next v5 05/11] arm64: hyperv: Initialize the
 Virtual Trust Level field</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Michael Kelley <span class="email-sender">&lt;mhklinux@outlook.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">RE: [PATCH hyperv-next v5 08/11] Drivers: hv: vmbus: Get the IRQ
 number from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Michael Kelley <span class="email-sender">&lt;mhklinux@outlook.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">RE: [PATCH hyperv-next v5 09/11] Drivers: hv: vmbus: Introduce
 hv_get_vmbus_root_device()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Michael Kelley <span class="email-sender">&lt;mhklinux@outlook.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">RE: [PATCH hyperv-next v5 10/11] ACPI: irq: Introduce
 acpi_get_gsi_dispatcher()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Michael Kelley <span class="email-sender">&lt;mhklinux@outlook.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">RE: [PATCH hyperv-next v5 11/11] PCI: hv: Get vPCI MSI IRQ domain
 from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Michael Kelley <span class="email-sender">&lt;mhklinux@outlook.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for
 arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Arnd Bergmann <span class="email-sender">&lt;arnd@arndb.de&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for
 arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei Liu <span class="email-sender">&lt;wei.liu@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for
 arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for
 arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">RE: [PATCH hyperv-next v5 03/11] Drivers: hv: Enable VTL mode for
 arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Michael Kelley <span class="email-sender">&lt;mhklinux@outlook.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 08/11] Drivers: hv: vmbus: Get the IRQ
 number from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH hyperv-next v5 08/11] Drivers: hv: vmbus: Get the IRQ
 number from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/4] KVM: arm64: Fix initializing HCRX_EL2 and other traps
 in pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>27 messages</span>
                    <span>5 participants</span>
                    <span>Started: 2025-02-26</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的多个补丁，主要集中在修复 HCRX_EL2 的初始化及其他陷阱设置的问题。<br><br>**原始补丁内容**：<br>Fuad Tabba 提出的补丁系列（[PATCH v2 0/4]）旨在修复 pKVM 中 HCRX_EL2 的初始化及其他相关陷阱的设置。补丁包括将 HCRX_EL2 陷阱的设置提取到单独的函数中，以便在受保护和非受保护模式中共享逻辑。<br><br>**之前讨论要点**：<br>在历史讨论中，参与者们探讨了补丁的设计思路及其与 Android 代码的一致性问题，特别是关于 WRITE_ONCE() 和 READ_ONCE() 的使用。Will Deacon 提出了一些关于潜在竞争条件和内存共享的担忧，并建议对补丁进行进一步的审查和修改。<br><br>**本周新讨论及进展**：<br>本周的讨论中，Will Deacon 和 Fuad Tabba 达成一致，决定从补丁中删除 WRITE_ONCE() 的使用，并计划在后续版本中进行修正。关于 FF-A（Firmware Framework for Arm）缓冲区的初始化和所有权释放，Sudeep Holla 和 Will Deacon 讨论了在特定条件下是否需要释放缓冲区的行为，最终确认在不请求 RX 缓冲区的情况下不应进行释放。整体来看，补丁的修改和讨论进展顺利，参与者们对后续的改进持积极态度。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-26]</span> <span class="email-subject">[PATCH v2 0/4] KVM: arm64: Fix initializing HCRX_EL2 and other traps
 in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-26]</span> <span class="email-subject">[PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH v2 0/4] KVM: arm64: Separate the hyp FF-A buffers init from
 the host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH v2 4/4] KVM: arm64: Release the ownership of the hyp rx buffer
 to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-28]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-03]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on
 ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on
 ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on
 ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-04]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on
 ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on
 ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v2 4/4] KVM: arm64: Release the ownership of the hyp rx
 buffer to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v2 4/4] KVM: arm64: Release the ownership of the hyp rx
 buffer to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sudeep Holla <span class="email-sender">&lt;sudeep.holla@arm.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on
 ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ene <span class="email-sender">&lt;sebastianene@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-05]</span> <span class="email-subject">Re: [PATCH v2 4/4] KVM: arm64: Release the ownership of the hyp rx
 buffer to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-06]</span> <span class="email-subject">Re: [PATCH v2 4/4] KVM: arm64: Release the ownership of the hyp rx
 buffer to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sudeep Holla <span class="email-sender">&lt;sudeep.holla@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Map the hypervisor FF-A buffers on
 ffa init</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH v2 4/4] KVM: arm64: Release the ownership of the hyp rx
 buffer to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH v2 4/4] KVM: arm64: Release the ownership of the hyp rx
 buffer to Trustzone</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sudeep Holla <span class="email-sender">&lt;sudeep.holla@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">Re: [PATCH v2 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 00/23] KVM: arm64: Revamp Fine Grained Trap handling</h3>
                </div>

                <div class="thread-meta">
                    <span>24 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-03-10</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（内核虚拟机）在 arm64 架构下的细粒度陷阱（Fine Grained Trap，FGT）处理的补丁系列（PATCH v2 00/23）。该补丁旨在改进 FGTs 的处理方式，特别是 RES0 位的行为，以确保未来的兼容性和稳定性。<br><br>在历史讨论中，Marc Zyngier 提到目前的 FGT 处理方式存在问题，尤其是 RES0 位的提取方式可能导致意外行为。因此，补丁提出了重新引入 KVM 自身的 RES0 掩码视图，以安全地忽略某些特性，而不是依赖于手工编写的掩码。补丁还引入了基于 ARM 发布的 JSON 文件生成的更全面的陷阱描述。<br><br>本周的新讨论中，Marc Zyngier 提出了多个补丁，涵盖了对不同寄存器（如 HCR_EL2 和 HCRX_EL2）的处理，使用计算出的掩码来设置 FGT 寄存器的 RES0 位。此外，还引入了基于特性映射的机制，以简化寄存器的固定值位的处理。补丁系列的最终目标是减少复杂性并降低维护负担，同时确保 KVM 对新特性的支持。<br><br>总体而言，这一系列补丁通过引入更系统化的处理方式，旨在提高 KVM 在 arm64 架构下的稳定性和可维护性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 00/23] KVM: arm64: Revamp Fine Grained Trap handling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 01/23] arm64: sysreg: Add ID_AA64ISAR1_EL1.LS64 encoding for FEAT_LS64WB</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 02/23] arm64: sysreg: Update ID_AA64MMFR4_EL1 description</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 03/23] arm64: sysreg: Add layout for HCR_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 04/23] arm64: Add syndrome information for trapped LD64B/ST64B{,V,V0}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 05/23] KVM: arm64: Handle trapping of FEAT_LS64* instructions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 06/23] KVM: arm64: Restrict ACCDATA_EL1 undef to FEAT_ST64_ACCDATA being disabled</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 07/23] KVM: arm64: Don't treat HCRX_EL2 as a FGT register</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 08/23] KVM: arm64: Plug FEAT_GCS handling</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 09/23] KVM: arm64: Compute FGT masks from KVM's own FGT tables</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 10/23] KVM: arm64: Add description of FGT bits leading to EC!=0x18</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 11/23] KVM: arm64: Use computed masks as sanitisers for FGT registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 12/23] KVM: arm64: Unconditionally configure fine-grain traps</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 13/23] KVM: arm64: Propagate FGT masks to the nVHE hypervisor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 14/23] KVM: arm64: Use computed FGT masks to setup FGT registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 15/23] KVM: arm64: Remove most hand-crafted masks for FGT registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 16/23] KVM: arm64: Use KVM-specific HCRX_EL2 RES0 mask</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 17/23] KVM: arm64: Handle PSB CSYNC traps</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 18/23] KVM: arm64: Switch to table-driven FGU configuration</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 19/23] KVM: arm64: Validate FGT register descriptions against RES0 masks</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 20/23] KVM: arm64: Use FGT feature maps to drive RES0 bits</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 21/23] KVM: arm64: Allow kvm_has_feat() to take variable arguments</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 22/23] KVM: arm64: Use HCRX_EL2 feature map to drive fixed-value bits</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v2 23/23] KVM: arm64: Use HCR_EL2 feature map to drive fixed-value bits</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 00/14] KVM: arm64: FEAT_PMUv3 on Apple hardware</h3>
                </div>

                <div class="thread-meta">
                    <span>20 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-03-05</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于在 Apple 硬件上实现 KVM 的 PMUv3 特性。历史讨论中，Oliver Upton 提出了一个补丁系列（PATCH v3 00/14），旨在改进对 Apple 硬件的支持，特别是 PMUv3 特性的实现。该补丁系列在版本更新中，主要进行了补丁的重组和结构调整，并修复了一些小错误。<br><br>本周的新讨论中，Marc Zyngier 表示对补丁的整体满意，并给予了支持。Cornelia Huck 提出了对 ID 寄存器存储的重新设计，并分享了更新的 ID 寄存器系列的补丁。Eric Auger 进一步补充了对系统寄存器定义的生成脚本，旨在从 Linux 源代码树中自动生成寄存器定义。<br><br>此外，讨论中提到的补丁还包括对 ID 寄存器的存储和访问器的添加，确保能够正确处理主机特性。最后，Oliver Upton 确认已将补丁应用到下一个版本中，显示出该系列补丁的进展和接受度。整体来看，讨论集中在如何优化和实现对 Apple 硬件的 KVM 支持，尤其是 PMUv3 特性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-05]</span> <span class="email-subject">[PATCH v3 00/14] KVM: arm64: FEAT_PMUv3 on Apple hardware</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH v3 00/14] KVM: arm64: FEAT_PMUv3 on Apple hardware</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 00/14] arm: rework id register storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 01/14] arm/cpu: Add sysreg definitions in cpu-sysregs.h</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 02/14] arm/kvm: add accessors for storing host features into idregs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 03/14] arm/cpu: Store aa64isar0/aa64zfr0 into the idregs arrays</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 04/14] arm/cpu: Store aa64isar1/2 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 05/14] arm/cpu: Store aa64pfr0/1 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 06/14] arm/cpu: Store aa64mmfr0-3 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 07/14] arm/cpu: Store aa64dfr0/1 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 08/14] arm/cpu: Store aa64smfr0 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 09/14] arm/cpu: Store id_isar0-7 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 10/14] arm/cpu: Store id_pfr0/1/2 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 11/14] arm/cpu: Store id_dfr0/1 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 12/14] arm/cpu: Store id_mmfr0-5 into the idregs array</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 13/14] arm/cpu: Add sysreg generation scripts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v3 14/14] arm/cpu: switch to a generated cpu-sysregs.h.inc</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Cornelia Huck <span class="email-sender">&lt;cohuck@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH v3 02/14] arm/kvm: add accessors for storing host features
 into idregs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Richard Henderson <span class="email-sender">&lt;richard.henderson@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH v3 00/14] arm: rework id register storage</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH v3 00/14] KVM: arm64: FEAT_PMUv3 on Apple hardware</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 6.13 0/8] KVM: arm64: Backport of SVE fixes to v6.13</h3>
                </div>

                <div class="thread-meta">
                    <span>17 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-12</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的多个补丁，主要集中在 SVE（Scalable Vector Extension）和 FPSIMD（Floating Point and SIMD）状态的处理上。<br><br>1. **原始补丁内容**：本次补丁系列的主要目标是将一些针对 SVE 和 KVM 交互的修复从较新的版本回移植到 v6.13。补丁包括计算 cptr_el2 陷阱、无条件保存和刷新主机的 FPSIMD/SVE/SME 状态、移除非保护 KVM 的主机 FPSIMD 保存等。<br><br>2. **之前讨论要点**：历史上，KVM 在处理 SVE 状态时存在一些问题，例如主机的 SVE 状态在不一致的配置下被意外丢弃，导致 QEMU 崩溃。补丁的提出旨在解决这些问题，确保在进入 KVM 客户机时主机的状态能够正确保存和恢复。<br><br>3. **本周的新讨论与进展**：本周的讨论中，多个补丁已被添加到 6.13-stable 树中，包括计算 cptr_el2 陷阱、无条件保存主机状态、移除 VHE 模式下的 CPACR_EL1.ZEN 和 CPACR_EL1.SMEN 的恢复逻辑，以及对退出处理程序的重构。这些补丁的合并旨在简化 KVM 的状态管理，提高系统的稳定性和性能。<br><br>总体而言，本周的讨论和补丁集中在优化 KVM 在 arm64 架构下的状态管理，特别是与 SVE 和 FPSIMD 相关的处理，以确保在虚拟化环境中更好的性能和稳定性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH 6.13 0/8] KVM: arm64: Backport of SVE fixes to v6.13</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH 6.13 1/8] KVM: arm64: Calculate cptr_el2 traps on
 activating traps</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH 6.13 2/8] KVM: arm64: Unconditionally save+flush host
 FPSIMD/SVE/SME state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH 6.13 3/8] KVM: arm64: Remove host FPSIMD saving for
 non-protected KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH 6.13 4/8] KVM: arm64: Remove VHE host restore of
 CPACR_EL1.ZEN</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH 6.13 5/8] KVM: arm64: Remove VHE host restore of
 CPACR_EL1.SMEN</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH 6.13 6/8] KVM: arm64: Refactor exit handlers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH 6.13 7/8] KVM: arm64: Mark some header functions as inline</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH 6.13 8/8] KVM: arm64: Eagerly switch ZCR_EL{1,2}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Patch "KVM: arm64: Calculate cptr_el2 traps on activating traps" has been added to the 6.13-stable tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: gregkh <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Patch "KVM: arm64: Eagerly switch ZCR_EL{1,2}" has been added to the 6.13-stable tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: gregkh <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Patch "KVM: arm64: Mark some header functions as inline" has been added to the 6.13-stable tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: gregkh <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Patch "KVM: arm64: Unconditionally save+flush host FPSIMD/SVE/SME state" has been added to the 6.13-stable tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: gregkh <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Patch "KVM: arm64: Remove VHE host restore of CPACR_EL1.ZEN" has been added to the 6.13-stable tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: gregkh <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Patch "KVM: arm64: Remove VHE host restore of CPACR_EL1.SMEN" has been added to the 6.13-stable tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: gregkh <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Patch "KVM: arm64: Remove host FPSIMD saving for non-protected KVM" has been added to the 6.13-stable tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: gregkh <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Patch "KVM: arm64: Refactor exit handlers" has been added to the 6.13-stable tree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: gregkh <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH hyperv-next v6 00/11] arm64: hyperv: Support Virtual Trust Level Boot</h3>
                </div>

                <div class="thread-meta">
                    <span>16 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-03-14</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 ARM64 架构下支持 Hyper-V 的虚拟信任级别（VTL）启动的补丁集。该补丁集包含 11 个补丁，旨在使 Hyper-V 代码能够在 VTL 环境中启动。<br><br>**原始补丁内容**：<br>补丁集的核心是支持在 ARM64 上的 Hyper-V 中引导虚拟信任级别（VTL）。VTL 是虚拟安全模式的一部分，补丁允许 Hyper-V 在不同的 VTL 中运行。<br><br>**之前讨论要点**：<br>在之前的讨论中，补丁经历了多个版本的迭代，主要集中在如何改进代码的可读性和功能性。补丁从 V5 开始引入了一些非功能性更改，并对 KVM 进行了更新，以便更好地支持 Hyper-V 的检测。参与者对补丁的不同方面进行了反馈，提出了代码简化和错误修复的建议。<br><br>**本周的新讨论与进展**：<br>本周的讨论集中在补丁的具体实现和验证上。Roman Kisel 提到，补丁集已经通过构建和测试在 Hyper-V 和 OpenVMM 管理的虚拟机中成功启动。参与者对补丁的不同部分进行了审核并给予了认可，特别是对 VTL 模式的支持和设备树（DeviceTree）中的中断配置进行了更新。此外，补丁集还增加了对 VMBus 的中断描述和 DMA 一致性属性的支持，以确保在 VTL 模式下的正常运行。整体来看，本周的讨论推动了补丁集的进一步完善和应用。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH hyperv-next v6 00/11] arm64: hyperv: Support Virtual Trust Level Boot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH hyperv-next v6 01/11] arm64: kvm, smccc: Introduce and use API for detecting hypervisor presence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH hyperv-next v6 02/11] arm64: hyperv: Use SMCCC to detect hypervisor presence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH hyperv-next v6 03/11] Drivers: hv: Enable VTL mode for arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH hyperv-next v6 04/11] Drivers: hv: Provide arch-neutral implementation of get_vtl()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH hyperv-next v6 05/11] arm64: hyperv: Initialize the Virtual Trust Level field</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH hyperv-next v6 06/11] arm64, x86: hyperv: Report the VTL the system boots in</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH hyperv-next v6 07/11] dt-bindings: microsoft,vmbus: Add interrupt and DMA coherence properties</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH hyperv-next v6 08/11] Drivers: hv: vmbus: Get the IRQ number from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH hyperv-next v6 09/11] Drivers: hv: vmbus: Introduce hv_get_vmbus_root_device()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH hyperv-next v6 10/11] ACPI: irq: Introduce  acpi_get_gsi_dispatcher()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH hyperv-next v6 11/11] PCI: hv: Get vPCI MSI IRQ domain from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">Re: [PATCH hyperv-next v6 01/11] arm64: kvm, smccc: Introduce and use
 API for detecting hypervisor presence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Roman Kisel <span class="email-sender">&lt;romank@linux.microsoft.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-15]</span> <span class="email-subject">Re: [PATCH hyperv-next v6 01/11] arm64: kvm, smccc: Introduce and use API for
 detecting hypervisor presence</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Arnd Bergmann <span class="email-sender">&lt;arnd@arndb.de&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-15]</span> <span class="email-subject">Re: [PATCH hyperv-next v6 11/11] PCI: hv: Get vPCI MSI IRQ domain
 from DeviceTree</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Bjorn Helgaas <span class="email-sender">&lt;helgaas@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-16]</span> <span class="email-subject">Re: [PATCH hyperv-next v6 07/11] dt-bindings: microsoft,vmbus: Add
 interrupt and DMA coherence properties</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Krzysztof Kozlowski <span class="email-sender">&lt;krzk@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/6] Move pKVM ownership state to hyp_vmemmap</h3>
                </div>

                <div class="thread-meta">
                    <span>12 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-02-27</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了将 pKVM 所有权状态迁移到 hyp_vmemmap 的补丁系列，共包含六个补丁。该补丁的主要目标是提高超管状态查找的效率，避免了对超管阶段1页表的遍历，同时使超管状态与线性映射范围的存在解耦，从而为未来的特性引入（如超管追踪）提供便利。<br><br>在历史讨论中，Quentin Perret 提出了补丁的主要好处，包括更高效的状态查找和代码清理的可能性。Vincent Donnefort 提出了对现有状态的相关性问题，询问在引入新补丁后，SHARED_OWNED 和 SHARED_BORROWED 是否仍然适用。<br><br>在本周的新讨论中，Quentin 和 Marc Zyngier 对补丁进行了深入探讨，确认了超管状态现在是基于物理地址（PA）进行跟踪，而不是虚拟地址（VA），这使得超管状态与映射的存在无关。Marc Zyngier 提到，虽然目前存在两种状态概念（每个映射的状态和每页的状态），但这可能会对读者造成混淆，未来需要进一步澄清。最终，Marc Zyngier 对补丁进行了审核，表示支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH 0/6] Move pKVM ownership state to hyp_vmemmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH 2/6] KVM: arm64: Use 0b11 for encoding PKVM_NOPAGE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH 4/6] KVM: arm64: Move hyp state to hyp_vmemmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-03]</span> <span class="email-subject">Re: [PATCH 4/6] KVM: arm64: Move hyp state to hyp_vmemmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH 4/6] KVM: arm64: Move hyp state to hyp_vmemmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">Re: [PATCH 2/6] KVM: arm64: Use 0b11 for encoding PKVM_NOPAGE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">Re: [PATCH 4/6] KVM: arm64: Move hyp state to hyp_vmemmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">Re: [PATCH 4/6] KVM: arm64: Move hyp state to hyp_vmemmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">Re: [PATCH 2/6] KVM: arm64: Use 0b11 for encoding PKVM_NOPAGE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-16]</span> <span class="email-subject">Re: [PATCH 2/6] KVM: arm64: Use 0b11 for encoding PKVM_NOPAGE</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-16]</span> <span class="email-subject">Re: [PATCH 4/6] KVM: arm64: Move hyp state to hyp_vmemmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-16]</span> <span class="email-subject">Re: [PATCH 0/6] Move pKVM ownership state to hyp_vmemmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 6.12 0/8] KVM: arm64: Backport of SVE fixes to v6.12</h3>
                </div>

                <div class="thread-meta">
                    <span>12 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-03-14</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 ARM64 架构下的 SVE（Scalable Vector Extension）相关修复的补丁系列，主要是将这些修复从较新的版本回移植到 v6.12。<br><br>1. **原始补丁内容**：补丁系列包括 8 个部分，主要涉及 KVM 与 SVE 交互的修复，解决了在虚拟化环境中可能导致的状态丢失和不一致性问题。这些修复包括无条件保存和刷新主机的 FPSIMD/SVE/SME 状态、计算 cptr_el2 触发器、以及移除不再需要的代码。<br><br>2. **之前讨论要点**：在历史讨论中，参与者们关注了 SVE 状态在 KVM 中的管理，特别是在不同虚拟化模式（如 VHE 和 nVHE）下的表现。之前的讨论还提到了一些在 KVM 中使用 SVE 导致的崩溃问题，这些问题的根源在于对状态的懒惰保存和恢复机制。<br><br>3. **本周的新讨论与进展**：本周的讨论集中在补丁的具体实现和代码重构上。多个补丁被提交，涉及到对 FPSIMD/SVE 状态的保存和恢复逻辑的简化，以及对退出处理程序的重构。参与者们还讨论了补丁的上游提交 ID，以便于跟踪和验证。整体来看，补丁系列旨在提高 KVM 在 ARM64 架构下的稳定性和性能，确保在虚拟化环境中正确管理 SVE 状态。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH 6.12 0/8] KVM: arm64: Backport of SVE fixes to v6.12</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH 6.12 1/8] KVM: arm64: Calculate cptr_el2 traps on
 activating traps</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH 6.12 2/8] KVM: arm64: Unconditionally save+flush host
 FPSIMD/SVE/SME state</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH 6.12 3/8] KVM: arm64: Remove host FPSIMD saving for
 non-protected KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH 6.12 4/8] KVM: arm64: Remove VHE host restore of
 CPACR_EL1.ZEN</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH 6.12 5/8] KVM: arm64: Remove VHE host restore of
 CPACR_EL1.SMEN</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH 6.12 6/8] KVM: arm64: Refactor exit handlers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH 6.12 7/8] KVM: arm64: Mark some header functions as inline</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH 6.12 8/8] KVM: arm64: Eagerly switch ZCR_EL{1,2}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">Re: [PATCH 6.12 3/8] KVM: arm64: Remove host FPSIMD saving for
 non-protected KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Greg KH <span class="email-sender">&lt;gregkh@linuxfoundation.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">Re: [PATCH 6.12 3/8] KVM: arm64: Remove host FPSIMD saving for
 non-protected KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">Re: [PATCH 6.12 3/8] KVM: arm64: Remove host FPSIMD saving for
 non-protected KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v1 0/5] Support the FEAT_HDBSS introduced in Armv9.5</h3>
                </div>

                <div class="thread-meta">
                    <span>12 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-03-11</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是支持 ARMv9.5 引入的硬件脏状态跟踪结构（HDBSS）。该功能旨在提高翻译表描述符的脏状态跟踪效率，从而降低实时迁移时的执行开销。<br><br>**原始 patch/问题的内容**：<br>本次补丁系列（共五个补丁）主要添加了对 HDBSS 特性的支持，包括相关寄存器信息、在内存异常时设置 DBM 属性、通过 ioctl 接口启用/禁用 HDBSS 特性、处理 HDBSSF 事件以及控制 HDBSS 特性的配置选项。<br><br>**之前讨论要点**：<br>在历史讨论中，参与者们探讨了 HDBSS 的设计目标及其对虚拟化性能的潜在影响。HDBSS 旨在减少脏页调查的成本，提升虚拟机迁移的效率。<br><br>**本周的新讨论、进展或结论**：<br>本周的讨论集中在补丁的实现细节上。参与者对存储原始系统寄存器值的做法表示担忧，认为应将缓冲区的基地址、大小和索引分开存储。此外，关于在每次 VM 退出时刷新脏位图的必要性也引发了争议，部分参与者建议将此操作延迟到 vcpu 退出时进行。整体来看，补丁的实现逻辑被认为需要重新组织，以清晰区分运行时逻辑与用户空间 API。参与者们对补丁的细节提出了多项改进建议，以确保其在内存管理和虚拟化性能方面的有效性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v1 0/5] Support the FEAT_HDBSS introduced in Armv9.5</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhenyu Ye <span class="email-sender">&lt;yezhenyu2@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v1 1/5] arm64/sysreg: add HDBSS related register information</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhenyu Ye <span class="email-sender">&lt;yezhenyu2@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v1 2/5] arm64/kvm: support set the DBM attr during memory abort</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhenyu Ye <span class="email-sender">&lt;yezhenyu2@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v1 3/5] arm64/kvm: using ioctl to enable/disable the HDBSS feature</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhenyu Ye <span class="email-sender">&lt;yezhenyu2@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v1 4/5] arm64/kvm: support to handle the HDBSSF event</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhenyu Ye <span class="email-sender">&lt;yezhenyu2@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH v1 5/5] arm64/config: add config to control whether enable HDBSS feature</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhenyu Ye <span class="email-sender">&lt;yezhenyu2@huawei.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH v1 3/5] arm64/kvm: using ioctl to enable/disable the
 HDBSS feature</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH v1 1/5] arm64/sysreg: add HDBSS related register information</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH v1 2/5] arm64/kvm: support set the DBM attr during memory abort</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH v1 5/5] arm64/config: add config to control whether enable HDBSS feature</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH v1 3/5] arm64/kvm: using ioctl to enable/disable the HDBSS feature</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH v1 4/5] arm64/kvm: support to handle the HDBSSF event</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/6] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</h3>
                </div>

                <div class="thread-meta">
                    <span>10 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-12</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的性能监控单元（PMU）相关问题的修复，主要集中在对 vPMC 寄存器的处理上。<br><br>**原始 patch/问题的内容**：<br>Akihiko Odaki 提出了一个包含六个补丁的系列，旨在修复 SET_ONE_REG 对 vPMC 寄存器的处理。该问题影响了在 QEMU 中调试 Windows 时的 PMU 状态，可能导致系统不稳定。<br><br>**之前讨论要点**：<br>在之前的讨论中，补丁系列的动机和必要性得到了阐述，特别是提到在用户空间修改寄存器后需要正确重新加载 PMU 状态。此外，补丁还修复了由于之前的更改导致的迁移问题，确保 KVM_SET_ONE_REG 能够正确恢复寄存器值。<br><br>**本周的新讨论、进展或结论**：<br>本周的讨论集中在补丁的具体实现上。Odaki 提出了多个补丁，分别处理了 vPMC 寄存器的设置、PMU 存在性检查的简化、以及在用户修改寄存器时的重新加载逻辑。Oliver Upton 对部分补丁提出了建议，认为应在 ioctl 实现中保留 PMU 检查，并建议将某些逻辑移动到其他函数中以保持一致性。整体上，补丁系列得到了积极的反馈，并在细节上进行了讨论和优化。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH v3 0/6] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH v3 1/6] KVM: arm64: PMU: Set raw values from user to
 PM{C,I}NTEN{SET,CLR}, PMOVS{SET,CLR}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH v3 2/6] KVM: arm64: PMU: Assume PMU presence in pmu-emul.c</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH v3 3/6] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH v3 4/6] KVM: arm64: PMU: Reload when user modifies
 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH v3 5/6] KVM: arm64: PMU: Call kvm_pmu_handle_pmcr() after
 masking PMCNTENSET_EL0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">[PATCH v3 6/6] KVM: arm64: Reload PMCNTENSET_EL0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH v3 2/6] KVM: arm64: PMU: Assume PMU presence in pmu-emul.c</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH v3 4/6] KVM: arm64: PMU: Reload when user modifies
 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH v3 6/6] KVM: arm64: Reload PMCNTENSET_EL0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 0/7] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</h3>
                </div>

                <div class="thread-meta">
                    <span>9 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-13</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（内核虚拟机）在 arm64 架构下的性能监控单元（PMU）相关问题，特别是修复 vPMC 寄存器的 SET_ONE_REG 操作。Akihiko Odaki 提出了一个包含七个补丁的系列，旨在确保在用户空间对 vPMC 寄存器进行修改时，能够正确地更新 PMU 状态，特别是在调试 Windows 操作系统时。<br><br>历史讨论中，之前的补丁引入了一些语义上的变化，导致在使用 KVM_SET_ONE_REG 时，寄存器的值未能正确恢复，从而影响了虚拟机的迁移和性能监控。Odaki 的补丁系列通过恢复之前的行为，确保在用户修改寄存器后，能够正确地重新加载 PMU 配置。<br><br>本周的新讨论中，Odaki 提交了补丁的更新版本，主要包括：<br>1. 修复了在设置 vPMC 寄存器时未能正确更新性能事件的问题。<br>2. 增强了对用户空间寄存器修改的处理，以确保 PMU 状态的正确性。<br>3. 移除了不必要的检查，简化了代码结构。<br><br>Oliver Upton 提出了对补丁的适用性问题，指出这些补丁未能应用于较新的内核版本，表明需要进一步的兼容性调整。整体来看，此次讨论集中在确保 KVM 的 PMU 功能在不同环境下的稳定性和一致性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">[PATCH v4 0/7] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">[PATCH v4 1/7] KVM: arm64: PMU: Set raw values from user to
 PM{C,I}NTEN{SET,CLR}, PMOVS{SET,CLR}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">[PATCH v4 2/7] KVM: arm64: PMU: Assume PMU presence in pmu-emul.c</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">[PATCH v4 3/7] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">[PATCH v4 4/7] KVM: arm64: PMU: Reload when user modifies
 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">[PATCH v4 5/7] KVM: arm64: PMU: Call kvm_pmu_handle_pmcr() after
 masking PMCNTENSET_EL0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">[PATCH v4 6/7] KVM: arm64: PMU: Reload PMCNTENSET_EL0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">[PATCH v4 7/7] KVM: arm64: PMU: Reload when resetting</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">Re: [PATCH v4 0/7] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/3] Count pKVM stage-2 usage in secondary pagetable stat</h3>
                </div>

                <div class="thread-meta">
                    <span>8 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-07</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 pKVM 的补丁系列，旨在统计使用 pKVM 时与 stage-2 相关的内存使用情况，并将其信息显示在 `/proc/meminfo` 的 SecPageTables 字段中。<br><br>**历史讨论内容：**<br>补丁系列包括三个部分：<br>1. **补丁 1/3**：为 `kvm_hyp_memcache` 添加标志，以便在内存分配和释放时进行相应的管理。<br>2. **补丁 2/3**：为 stage-2 页表的拆解使用独立的内存缓存，以便更好地管理和统计内存使用。<br>3. **补丁 3/3**：对内存缓存的配置进行细化，以便将内存使用情况与 memcache 配置关联。<br><br>**之前讨论要点：**<br>在早期讨论中，Vincent Donnefort 提出了补丁的初衷和修改的背景，Marc Zyngier 对补丁中的某些实现细节提出了疑问，尤其是关于类型转换和函数命名的合理性。<br><br>**本周新讨论进展：**<br>本周的讨论中，Marc Zyngier 对补丁 1 和补丁 2 提出了具体的命名建议，认为某些函数名称不够清晰，并建议将其更改为更具描述性的名称。Vincent Donnefort 认可了这些建议，并表示将进行相应的修改。最终，Marc Zyngier 对补丁的整体方向表示认可，认为补丁的改进是有效的。<br><br>总的来说，本周的讨论集中在补丁的命名和实现细节上，推动了补丁的进一步完善。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH v3 0/3] Count pKVM stage-2 usage in secondary pagetable stat</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH v3 1/3] KVM: arm64: Add flags to kvm_hyp_memcache</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[PATCH v3 2/3] KVM: arm64: Distinct pKVM teardown memcache for stage-2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH v3 1/3] KVM: arm64: Add flags to kvm_hyp_memcache</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH v3 2/3] KVM: arm64: Distinct pKVM teardown memcache for stage-2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH v3 2/3] KVM: arm64: Distinct pKVM teardown memcache for
 stage-2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH v3 1/3] KVM: arm64: Add flags to kvm_hyp_memcache</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH v3 2/3] KVM: arm64: Distinct pKVM teardown memcache for stage-2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v5 0/5] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-15</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的性能监控单元（PMU）相关问题的修复，主要集中在 vPMC（虚拟性能监控计数器）寄存器的处理上。<br><br>1. **原始 patch/问题的内容**：Akihiko Odaki 提出了一个包含五个补丁的系列，旨在修复 vPMC 寄存器的 SET_ONE_REG 操作，确保在用户空间修改这些寄存器后能够正确更新 PMU 状态，特别是在使用 GDB 调试 Windows 时，避免 PMU 状态被破坏。<br><br>2. **之前的讨论要点**：在历史讨论中，未有具体的补丁或问题讨论记录，但可以推测出，之前的实现可能存在对寄存器状态更新不一致的问题，导致在迁移虚拟机时出现故障。<br><br>3. **本周的新讨论、进展或结论**：本周的讨论中，Odaki 提出了五个补丁，分别涉及设置用户寄存器值、假设 PMU 存在、修复 SET_ONE_REG 操作、在用户修改寄存器时重新加载 PMU，以及在重置时的 PMU 处理。Marc Zyngier 对补丁进行了审查并表示认可。这些补丁的实施将确保在用户空间对 vPMC 寄存器的操作后，PMU 状态能够得到正确维护，从而提高 KVM 的稳定性和兼容性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-15]</span> <span class="email-subject">[PATCH v5 0/5] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-15]</span> <span class="email-subject">[PATCH v5 1/5] KVM: arm64: PMU: Set raw values from user to
 PM{C,I}NTEN{SET,CLR}, PMOVS{SET,CLR}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-15]</span> <span class="email-subject">[PATCH v5 2/5] KVM: arm64: PMU: Assume PMU presence in pmu-emul.c</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-15]</span> <span class="email-subject">[PATCH v5 3/5] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-15]</span> <span class="email-subject">[PATCH v5 4/5] KVM: arm64: PMU: Reload when user modifies
 registers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-15]</span> <span class="email-subject">[PATCH v5 5/5] KVM: arm64: PMU: Reload when resetting</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Akihiko Odaki <span class="email-sender">&lt;akihiko.odaki@daynix.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-16]</span> <span class="email-subject">Re: [PATCH v5 0/5] KVM: arm64: PMU: Fix SET_ONE_REG for vPMC regs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/1] KVM: arm64: Map GPU device memory as cacheable</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-03-10</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下如何将 GPU 设备内存映射为可缓存的内存。Ankit Agrawal 提出的补丁（PATCH v3 0/1）旨在解决当前 KVM 对内存映射的限制，允许未添加到内核的设备内存被标记为可缓存。<br><br>在历史讨论中，补丁的背景是，当前 KVM 代码强制内存区域只能被标记为 NORMAL 或 DEVICE_nGnRE，这限制了 GPU 设备内存的使用。补丁通过检查 VMA（虚拟内存区域）标志中的 VM_PFNMAP，确保当 pgprot 映射类型为 MT_NORMAL 时，内存可以安全地映射为可缓存。<br><br>本周的新讨论中，Marc Zyngier 提出了对补丁的反馈，强调需要在内存槽注册时进行相应的检查，以避免用户空间因映射错误而导致内核崩溃。Ankit 同意这一点，并考虑在 kvm_arch_prepare_memory_region() 中添加检查。讨论中还提到，用户空间需要明确知道何时支持这种新的行为，并建议在 memslot 创建时进行 FWB（Flush Without Broadcast）支持的检查。<br><br>总体来看，补丁的讨论集中在如何安全地实现 GPU 设备内存的可缓存映射，以及如何在用户空间和内核之间有效地传达支持信息。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v3 0/1] KVM: arm64: Map GPU device memory as cacheable</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">[PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: ankita <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ankit Agrawal <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ankit Agrawal <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH v3 1/1] KVM: arm64: Allow cacheable stage 2 mapping using VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 0/3] Count pKVM stage-2 usage in secondary pagetable stat</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-03-13</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于一个补丁系列（PATCH v4 0/3），旨在统计在使用 pKVM 时与二级页表相关的内存使用情况。补丁的主要内容是将 pKVM 的二级页表使用情况计入 `/proc/meminfo` 中的 `SecPageTables` 字段。<br><br>在历史讨论中，补丁经历了多个版本的修改，主要集中在改进内存缓存的标志位、分离二级页表的内存缓存以及对内存统计的准确性进行调整。具体的修改包括重命名函数、调整内存缓存的结构以及添加新的标志位以便于后续的内存统计。<br><br>本周的新讨论中，Vincent Donnefort 提交了三个补丁，分别是：<br>1. 为 `kvm_hyp_memcache` 添加标志位，以便于在内存分配和释放时进行统计。<br>2. 为二级页表的清理过程使用独立的内存缓存，并重命名相关函数以更好地反映其功能。<br>3. 统计 pKVM 在二级页表中的使用情况，确保与 VHE 模式的统计方式一致。<br><br>此外，Marc Zyngier 和 Oliver Upton 对补丁表示认可，并确认已将其应用到下一个版本中。这表明补丁得到了积极的反馈和支持，预计将被合并到主线代码中。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">[PATCH v4 0/3] Count pKVM stage-2 usage in secondary pagetable stat</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">[PATCH v4 1/3] KVM: arm64: Add flags to kvm_hyp_memcache</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">[PATCH v4 2/3] KVM: arm64: Distinct pKVM teardown memcache for stage-2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">[PATCH v4 3/3] KVM: arm64: Count pKVM stage-2 usage in secondary
 pagetable stats</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH v4 0/3] Count pKVM stage-2 usage in secondary pagetable stat</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">Re: [PATCH v4 0/3] Count pKVM stage-2 usage in secondary pagetable stat</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v3 0/4] KVM: arm64: Fix initializing HCRX_EL2 and other traps
 in pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-14</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于修复 KVM（Kernel-based Virtual Machine）在 arm64 架构下初始化 HCRX_EL2 和其他陷阱的补丁（PATCH v3 0/4）。该补丁的主要内容包括将设置 HCRX_EL2 陷阱的代码分离为独立函数、在 pKVM 中初始化 HCRX_EL2 陷阱、将 pKVM hypervisor vcpu 的创建过程分离为独立函数，以及在对应的主机 vcpu 运行后再创建每个 pKVM hypervisor vcpu。<br><br>在之前的讨论中，补丁的 v2 版本已经进行了初步审查，并提出了一些修改建议，如移除 WRITE_ONCE 的使用。补丁的目标是提升代码的可读性和可维护性，同时确保功能的正确性。<br><br>本周的新进展包括补丁的四个部分均已完成，并获得了相关开发者的审查和认可。最终，Oliver Upton 表示已将这些补丁应用到下一个版本中，标志着该问题的解决和进展。补丁的具体链接也在邮件中提供，便于后续跟踪。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH v3 0/4] KVM: arm64: Fix initializing HCRX_EL2 and other traps
 in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH v3 1/4] KVM: arm64: Factor out setting HCRX_EL2 traps into
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH v3 2/4] KVM: arm64: Initialize HCRX_EL2 traps in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH v3 3/4] KVM: arm64: Factor out pKVM hyp vcpu creation to
 separate function</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH v3 4/4] KVM: arm64: Create each pKVM hyp vcpu after its
 corresponding host vcpu</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">Re: [PATCH v3 0/4] KVM: arm64: Fix initializing HCRX_EL2 and other traps in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Drop sort_memblock_regions()</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-03-11</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，旨在删除 `sort_memblock_regions()` 函数。该补丁由 Gavin Shan 提出，主要目的是避免对内存区域进行不必要的排序，因为在通过 `memblock_add()` 等函数添加内存区域时，这些区域已经是正确排序的。此补丁实际上是对之前提交的 commit a14307f5310c 的一种回退，意在简化代码而不引入功能性变化。<br><br>在历史讨论中，补丁的背景是为了支持 pKVM（增强的 KVM），而之前的排序操作是基于早期代码中需要注册保留区域的考虑。然而，经过代码审查，Gavin 发现当前实现中并不存在这种需求，因此提出了删除排序的建议。<br><br>在本周的新讨论中，Anshuman Khandual 对补丁的动机表示好奇，Gavin 解释了发现不必要排序的原因，并提到已抄送 Quentin Perret 以确认。Will Deacon 和 Quentin Perret 对补丁表示支持，认为在现有代码下，删除排序不会导致问题，并分别给予了认可和审核意见。<br><br>总体来看，本周的讨论集中在确认补丁的合理性和必要性上，参与者一致认为删除排序是合适的。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">[PATCH] KVM: arm64: Drop sort_memblock_regions()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop sort_memblock_regions()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop sort_memblock_regions()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Gavin Shan <span class="email-sender">&lt;gshan@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop sort_memblock_regions()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Drop sort_memblock_regions()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Writable TGRAN*_2</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-06</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的一个补丁，标题为「[PATCH] KVM: arm64: Writable TGRAN*_2」。该补丁的目的是允许用户空间写入 ID_AA64MMFR0_EL1.TGRAN*_2 的安全值，同时禁止对 NV 字段的修改，因为 KVM 提供了基于 PAGE_SIZE 的安全视图。此外，补丁还增加了对这些字段的自测。<br><br>在历史讨论中，Sebastian Ott 提出了该补丁，并进行了相关代码的修改。邮件中提到的主要内容是补丁的功能和目的，以及对自测的修改。<br><br>在本周的新讨论中，Oliver Upton 对补丁提出了一些反馈，指出补丁的基础提交没有明确说明，并建议将自测的更改放在单独的补丁中。他还提到补丁与之前的提交存在冲突，并表示将会处理这些问题。最终，Oliver 确认已将补丁应用到下一个版本中，表示感谢。<br><br>总结来看，本周的讨论主要集中在补丁的应用和冲突解决上，Oliver 和 Sebastian 之间的沟通有效推动了补丁的进展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-06]</span> <span class="email-subject">[PATCH] KVM: arm64: Writable TGRAN*_2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Writable TGRAN*_2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Writable TGRAN*_2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Writable TGRAN*_2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sebastian Ott <span class="email-sender">&lt;sebott@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Writable TGRAN*_2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V3] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-02-27</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于一个针对 ARM64 架构的补丁（PATCH V3），其目的是启用 EL2 对 FEAT_PMUv3p9 的要求。该补丁涉及的内容包括对 PMICNTR_EL0、PMICFILTR_EL0 和 PMUACR_EL1 等寄存器的访问，这些寄存器在 EL1 中的访问需要通过 EL2 的细粒度陷阱配置来实现，以避免陷入 EL2。<br><br>在历史讨论中，Anshuman Khandual 提出了这个补丁，并解释了新增的辅助函数 `__init_el2_fgt2()` 的作用，即初始化与 FEAT_FGT2 相关的细粒度陷阱控制寄存器，以便正确设置相关位，从而允许对特定寄存器的访问。<br><br>在本周的新讨论中，Catalin Marinas 确认已将该补丁应用于 arm64 的开发分支，并指出需要移除对稳定版本的抄送（Cc: stable），以避免在回溯时遗漏系统寄存器的更新，导致构建失败。他建议在补丁合并到主线后，直接将其发送到稳定版本中。Anshuman Khandual 表示会遵循这一建议。整体来看，讨论进展顺利，补丁已成功应用，后续步骤也已明确。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-02-27]</span> <span class="email-subject">[PATCH V3] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH V3] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH V3] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 07/18] KVM: arm64: Compute FGT masks from KVM's own FGT tables</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-04</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（内核虚拟机）在 arm64 架构中计算 FGT（功能组表）掩码的补丁（PATCH 07/18）。该补丁旨在从 KVM 自身的 FGT 表中计算掩码，以提高系统的稳定性和准确性。<br><br>在历史讨论中，Marc Zyngier 提出了一个关于 __HFGRTR_ONLY_MASK 的问题，指出如果不更新该掩码，可能会导致某些位的极性出现问题，从而影响到 hfgwtr_masks 的设置。Fuad Tabba 也对此表示关注，认为这可能会引发问题。<br><br>在本周的新讨论中，Marc Zyngier 进一步探讨了 HFGxTR 的设计缺陷，表示有意彻底消除这种复杂性，并将 HFG{R,W}TR 进行重新设计，以便更好地描述所有位。经过修改后，相关代码的差异统计显示，进行了大量的插入和删除，虽然代码变动较大，但最终实现了将所有寄存器整合在一起的目标，消除了对假设的依赖。Marc 计划在下周一重新发布这一系列补丁。<br><br>总的来说，本周的讨论集中在对补丁的进一步完善和设计上的重大改进，旨在提升 KVM 的功能和稳定性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-04]</span> <span class="email-subject">Re: [PATCH 07/18] KVM: arm64: Compute FGT masks from KVM's own FGT tables</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH 07/18] KVM: arm64: Compute FGT masks from KVM's own FGT tables</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH 07/18] KVM: arm64: Compute FGT masks from KVM's own FGT tables</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Tear down vGIC on failed vCPU creation</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-14</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 ARM64 架构下处理虚拟 CPU（vCPU）创建失败时的 vGIC（虚拟通用中断控制器）清理问题。<br><br>**原始 patch 内容**：<br>Will Deacon 提出的补丁旨在解决当 `kvm_arch_vcpu_create()` 函数在与 hypervisor 共享 vCPU 页面失败时，未能正确清理 vGIC vCPU 数据的问题。这种情况可能导致内存泄漏和使用后释放（use-after-free）的问题，因此补丁增加了在错误发生时销毁 vGIC vCPU 结构的逻辑。<br><br>**之前讨论要点**：<br>在历史讨论中，虽然没有具体的邮件记录，但提到在某些情况下，`create_hyp_mappings()` 函数可能会失败，尤其是在特定的内核版本之前，导致对 vGIC 的处理不当。<br><br>**本周的新讨论及进展**：<br>在本周的讨论中，Marc Zyngier 对 Will Deacon 的补丁进行了审查，并给予了认可（Reviewed-by），表明补丁得到了积极的反馈，可能会被合并到主线代码中。这表明该问题的解决方案得到了社区的关注和支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[PATCH] KVM: arm64: Tear down vGIC on failed vCPU creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-16]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Tear down vGIC on failed vCPU creation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V2 0/8] arm64/mm: Drop PXD_TABLE_BIT</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-10</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于一个针对 arm64 架构的补丁系列，主要目的是删除 PXD_TABLE_BIT。该补丁系列包含八个部分，涉及到内存管理和页表的处理，具体包括对 PMD_TYPE_MASK 和 PXX_TYPE_MASK 的测试和清除，以及在不同函数中检查相关类型。<br><br>在历史讨论中，Anshuman Khandual 提出了该补丁，并在之后的邮件中进行了跟进，询问是否有任何异议或反馈。虽然没有详细记录历史讨论的内容，但可以推测，补丁的提出是为了优化内存管理，简化相关的代码逻辑。<br><br>在本周的新讨论中，Anshuman Khandual 再次发出提醒，确认补丁系列是否得到认可。Catalin Marinas 随后回复确认已将该补丁应用到 arm64 的开发分支中，表示感谢。这表明该补丁得到了积极的响应，并成功推进到下一步。整体来看，此次讨论表明了对内存管理优化的持续关注和合作。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-10]</span> <span class="email-subject">Re: [PATCH V2 0/8] arm64/mm: Drop PXD_TABLE_BIT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Anshuman Khandual <span class="email-sender">&lt;anshuman.khandual@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-12]</span> <span class="email-subject">Re: [PATCH V2 0/8] arm64/mm: Drop PXD_TABLE_BIT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V2 1/8] KVM: arm64: ptdump: Test PMD_TYPE_MASK for block
 mapping</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-03-11</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，主题为“[PATCH V2 1/8] KVM: arm64: ptdump: Test PMD_TYPE_MASK for block mapping”。该补丁的目的是测试 PMD_TYPE_MASK 以确保块映射的正确性。<br><br>在历史讨论中没有相关内容，因此我们直接进入本周的新讨论。本周的讨论主要集中在补丁的接受情况。参与者 Catalin Marinas 向 Marc Zyngier 和 Oliver 询问他们是否同意将该补丁纳入 arm64 的代码树。Marc Zyngier 在回复中表示该补丁看起来没有问题，并给予了认可（Acked-by），表明他支持该补丁的合并。<br><br>总结而言，本周的讨论确认了补丁的可行性，Marc Zyngier 的支持为补丁的进一步推进奠定了基础。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH V2 1/8] KVM: arm64: ptdump: Test PMD_TYPE_MASK for block
 mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-11]</span> <span class="email-subject">Re: [PATCH V2 1/8] KVM: arm64: ptdump: Test PMD_TYPE_MASK for block
 mapping</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/4] arm64: mitigate CVE-2024-7881 in the absence of firmware mitigation</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-03-14</span>
                </div>

                <div class="ai-summary">
                    本邮件主题为“[PATCH 0/4] arm64: mitigate CVE-2024-7881 in the absence of firmware mitigation”，主要讨论了针对 CVE-2024-7881 漏洞的补丁。<br><br>**原始 patch/问题的内容**：<br>该补丁系列旨在为 arm64 架构提供一种在缺乏固件缓解措施的情况下，减轻 CVE-2024-7881 漏洞影响的解决方案。补丁包括重命名和提取 CPU 特性函数，以及具体的漏洞缓解措施。<br><br>**之前讨论要点**：<br>在之前的讨论中，参与者对补丁的有效性进行了初步评估，尽管对 KVM 相关部分的审查较少，但整体上认为补丁系列是合理的。Mark Rutland 提到，补丁的应用是为了增强系统的安全性，并鼓励其他人提出反馈。<br><br>**本周的新讨论、进展或结论**：<br>本周，Catalin Marinas 确认已将补丁应用到 arm64 的开发分支中，并感谢 Oliver 对 KVM 部分的审查。他表示补丁看起来没有问题，尽管仍有一些隐含的工作可以在此基础上进行。如果有其他人希望撤回这些补丁，可以随时提出。整体来看，本周的讨论主要集中在补丁的应用和后续工作的可能性上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">Re: [PATCH 0/4] arm64: mitigate CVE-2024-7881 in the absence of firmware mitigation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>RFC</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[RFC kvmtool 0/9] arm: Drop support for 32-bit kvmtool</h3>
                </div>

                <div class="thread-meta">
                    <span>10 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-03-14</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了关于 ARM 架构下 KVM 工具的变更，特别是删除对 32 位 KVM 工具的支持。原始的补丁（patch）是 Oliver Upton 提出的，目的是在 Linux 内核中移除对 32 位 KVM 工具的支持，因为自 5.4 版本以来，32 位 KVM 的使用率一直很低，且该版本预计将在年底停止维护。<br><br>在历史讨论中，参与者们提到，32 位 KVM 在过去的使用情况不佳，且 KVM/arm64 从未支持 32 位兼容，因此认为移除支持是合理的。尽管如此，32 位客户机仍然可以在 64 位用户空间中运行。<br><br>本周的新讨论中，Oliver Upton 提出了多个补丁，逐步合并和重构 ARM 相关的代码，包括将 ARM64 特有的功能移入主目录、合并 kvm.c 文件、以及重命名顶层目录以符合内核的命名规范。这些变更旨在简化代码结构，提升可维护性，并最终完成对 32 位支持的彻底移除。整体来看，本周的讨论集中在代码重构和清理上，未见显著的异议或反对意见。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[RFC kvmtool 0/9] arm: Drop support for 32-bit kvmtool</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[RFC kvmtool 1/9] Drop support for 32-bit arm</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[RFC kvmtool 2/9] arm64: Move arm64-only features into main directory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[RFC kvmtool 3/9] arm64: Combine kvm.c</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[RFC kvmtool 4/9] arm64: Merge kvm-cpu.c</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[RFC kvmtool 5/9] arm64: Combine kvm-config-arch.h</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[RFC kvmtool 6/9] arm64: Move remaining kvm/* headers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[RFC kvmtool 7/9] arm64: Move asm headers</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[RFC kvmtool 8/9] arm64: Rename top-level directory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[RFC kvmtool 9/9] arm64: Get rid of the 'arm-common' include directory</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Other</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH v2 0/5] arm64: Change the default QEMU CPU type to "max"</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-03-14</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM 单元测试的一个补丁系列，主要目的是将 arm64 的默认 QEMU CPU 类型更改为 "max"。该补丁系列的版本为 v2，包含五个补丁，旨在清理配置标志并改善用户体验。<br><br>在历史讨论中，补丁 v1 由 Alexandru 提出，主要集中在设置默认 CPU 类型和配置选项的清晰性。与 v1 相比，v2 版本解决了审查意见，并明确区分了 `--processor` 和 `--qemu-cpu` 选项，以分别配置构建和运行标志。<br><br>本周的新讨论中，Jean-Philippe Brucker 提出了补丁的具体实现，包括：<br>1. 修改 `./configure` 的帮助文本，以确保在 arm64 上默认架构显示为 "arm64" 而非 "aarch64"。<br>2. 更新默认处理器类型，确保 arm64 的默认 CPU 为 "max"，以便测试最新的功能。<br>3. 引入 `--qemu-cpu` 选项，允许用户设置运行时的 CPU 类型，确保与 GCC 的 `-mcpu` 参数分开处理。<br><br>最终，这些补丁的目标是提升 KVM 单元测试在 arm64 上的功能性和灵活性，使用户能够更好地利用 QEMU 的最新特性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[kvm-unit-tests PATCH v2 0/5] arm64: Change the default QEMU CPU type to "max"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jean-Philippe Brucker <span class="email-sender">&lt;jean-philippe@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[kvm-unit-tests PATCH v2 1/5] configure: arm64: Don't display 'aarch64' as the default architecture</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jean-Philippe Brucker <span class="email-sender">&lt;jean-philippe@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[kvm-unit-tests PATCH v2 2/5] configure: arm/arm64: Display the correct default processor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jean-Philippe Brucker <span class="email-sender">&lt;jean-philippe@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[kvm-unit-tests PATCH v2 3/5] arm64: Implement the ./configure --processor option</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jean-Philippe Brucker <span class="email-sender">&lt;jean-philippe@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[kvm-unit-tests PATCH v2 4/5] configure: Add --qemu-cpu option</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jean-Philippe Brucker <span class="email-sender">&lt;jean-philippe@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-14]</span> <span class="email-subject">[kvm-unit-tests PATCH v2 5/5] arm64: Use -cpu max as the default for TCG</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jean-Philippe Brucker <span class="email-sender">&lt;jean-philippe@linaro.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH v2] Makefile: Use CFLAGS in cc-option</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-03-07</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM 单元测试的补丁，主题为「Makefile: Use CFLAGS in cc-option」。该补丁的目的是在使用 Clang 进行交叉编译时，确保 CFLAGS 中的目标信息能够被 cc-option 正确识别，从而避免构建过程中出现错误。补丁中引入了 realmode_bits 变量，以解决 x86 构建时 CFLAGS 自我引用的问题。<br><br>在历史讨论中，Andrew Jones 提出了该补丁，并在 v2 版本中修复了与 x86 构建相关的问题。<br><br>在本周的新讨论中，Thomas Huth 对补丁进行了审核并表示认可，标记为“Reviewed-by”。Alexandru Elisei 也对补丁进行了测试，确认其在使用 Clang 编译 MTE 测试时能够正常工作，并表示感谢。整体来看，本周的讨论表明该补丁得到了积极的反馈，并且在实际测试中表现良好。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-03-07]</span> <span class="email-subject">[kvm-unit-tests PATCH v2] Makefile: Use CFLAGS in cc-option</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Andrew Jones <span class="email-sender">&lt;andrew.jones@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v2] Makefile: Use CFLAGS in cc-option</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Thomas Huth <span class="email-sender">&lt;thuth@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-03-13]</span> <span class="email-subject">Re: [kvm-unit-tests PATCH v2] Makefile: Use CFLAGS in cc-option</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
