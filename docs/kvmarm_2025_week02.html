<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVMARM 邮件列表 AI 总结报告</title>
    <style>
        body {
            font-family: 'Courier New', 'Courier', monospace;
            line-height: 1.5;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 40px;
            background-color: #ffffff;
            color: #222;
        }
        .container {
            background: #ffffff;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
            color: #000;
            margin-bottom: 0.3em;
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 15px;
        }
        h2 {
            font-size: 1.6em;
            font-weight: bold;
            color: #000;
            margin-top: 2em;
            margin-bottom: 0.6em;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 1.2em;
            font-weight: bold;
            color: #111;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h4 {
            font-size: 1.05em;
            font-weight: bold;
            color: #333;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
        }
        .meta-info {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px 20px;
            margin: 20px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        .meta-info p {
            margin: 6px 0;
            color: #444;
        }
        .meta-info strong {
            color: #000;
            font-weight: bold;
        }
        .stats {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid #000;
        }
        .stat-card {
            display: table-cell;
            border: 1px solid #000;
            padding: 12px 15px;
            text-align: center;
            background: #fafafa;
        }
        .stat-card h3 {
            margin: 0;
            color: #000;
            font-size: 1.8em;
            font-weight: bold;
            border: none;
            padding: 0;
        }
        .stat-card p {
            margin: 5px 0 0 0;
            color: #444;
            font-size: 0.9em;
            font-weight: normal;
        }
        .category {
            margin: 30px 0;
        }
        .thread {
            margin: 25px 0;
            padding: 15px;
            background: #fafafa;
            border: 1px solid #ccc;
            page-break-inside: avoid;
        }
        .thread-header {
            margin-bottom: 12px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .thread-header h3 {
            font-size: 1.15em;
            font-weight: bold;
            color: #000;
            margin: 0;
        }
        .thread-meta {
            display: block;
            margin: 8px 0 12px 0;
            font-size: 0.9em;
            color: #555;
            font-style: italic;
        }
        .thread-meta span {
            margin-right: 15px;
        }
        .ai-summary {
            background: #fff;
            border-left: 3px solid #666;
            padding: 12px 15px;
            margin: 15px 0;
            line-height: 1.6;
            color: #222;
            font-style: italic;
        }
        .email-list {
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px 15px;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.88em;
            line-height: 1.5;
            overflow-x: auto;
            margin: 10px 0;
        }
        .email-item {
            margin: 4px 0;
            padding: 2px 0;
            color: #222;
        }
        .email-item.historical {
            background: #f5f5f5;
            border-left: 3px solid #999;
            padding-left: 8px;
            opacity: 0.8;
        }
        .email-item.new {
            background: #fffef0;
            border-left: 3px solid #0066cc;
            padding-left: 8px;
        }
        .email-date {
            color: #0066cc;
            font-weight: bold;
        }
        .email-date.historical {
            color: #666;
        }
        .email-sender {
            color: #c30;
            font-weight: normal;
        }
        .email-subject {
            color: #000;
        }
        .historical-marker {
            color: #999;
            font-size: 0.85em;
            font-style: italic;
        }
        .new-marker {
            color: #0066cc;
            font-size: 0.85em;
            font-weight: bold;
        }
        .archive-link {
            display: inline-block;
            margin: 15px 0;
            padding: 10px 20px;
            background: #333;
            color: #fff;
            text-decoration: none;
            border: 2px solid #000;
            font-weight: bold;
            transition: all 0.2s;
        }
        .archive-link:hover {
            background: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KVMARM Mailing List Analysis Report</h1>

        <div class="meta-info">
            <p><strong>Generated:</strong> 2025-10-27 08:41</p>
            <p><strong>Time Period:</strong> 2025年1月 第2周 (01/06 - 01/12)</p>
            <p><strong>Total Messages:</strong> 185 | <strong>Total Threads:</strong> 31</p>
            <p style="text-align: center;"><a href="archive.html" class="archive-link">📚 历史归档 Archive</a></p>
        </div>


        <div class="category">
            <h2>PATCH</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 00/17] KVM: arm64: Add NV GICv3 support</h3>
                </div>

                <div class="thread-meta">
                    <span>18 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-01-12</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM（Kernel-based Virtual Machine）在 ARM64 架构下新增的 NV GICv3 支持的补丁（PATCH v2 00/17）。该补丁旨在增强 KVM 的虚拟化能力，特别是在处理 GICv3（通用中断控制器）时。<br><br>历史讨论中，Marc Zyngier 提出了针对 GICv3 的 NV 支持的初步补丁，并指出了 v1 版本中的一些问题，例如 MI INTID 的默认值设置不当及在没有虚拟 GICv3 的硬件上初始化 KVM 时的失败条件。<br><br>本周的新讨论中，Marc Zyngier 提供了补丁的更新版本，修复了之前版本中的问题，并增加了多个功能，包括：<br>1. **ICH_*_EL2 寄存器的处理**：新增了对 GICv3 EL2 寄存器的处理，以支持嵌套虚拟化。<br>2. **维护中断的仿真**：实现了维护中断的仿真机制，确保在 L2 运行时能够正确地将中断传递给 L1。<br>3. **用户空间接口**：允许用户空间设置 VGIC 维护中断的 IRQ 号，以便在嵌套虚拟化中使用。<br>4. **错误处理**：在请求 NV 支持时，如果没有 GICv3，KVM 初始化将失败。<br><br>总的来说，本周的讨论和补丁更新进一步完善了 KVM 在 ARM64 架构下对 GICv3 的支持，解决了多个技术细节问题，并为未来的嵌套虚拟化提供了基础。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 00/17] KVM: arm64: Add NV GICv3 support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 01/17] arm64: sysreg: Add layout for ICH_HCR_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 02/17] arm64: sysreg: Add layout for ICH_VTR_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 03/17] arm64: sysreg: Add layout for ICH_MISR_EL2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 04/17] KVM: arm64: Move host SVE/SME state flags out of vCPU</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 05/17] KVM: arm64: nv: Load timer before the GIC</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 06/17] KVM: arm64: nv: Add ICH_*_EL2 registers to vpcu_sysreg</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 07/17] KVM: arm64: nv: Plumb handling of GICv3 EL2 accesses</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 08/17] KVM: arm64: nv: Sanitise ICH_HCR_EL2 accesses</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 09/17] KVM: arm64: nv: Nested GICv3 emulation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 10/17] KVM: arm64: nv: Handle L2->L1 transition on interrupt injection</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 11/17] KVM: arm64: nv: Add Maintenance Interrupt emulation</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 12/17] KVM: arm64: nv: Respect virtual HCR_EL2.TWx setting</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 13/17] KVM: arm64: nv: Request vPE doorbell upon nested ERET to L2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 14/17] KVM: arm64: nv: Propagate used_lrs between L1 and L0 contexts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 15/17] KVM: arm64: nv: Fold GICv3 host trapping requirements into guest setup</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 16/17] KVM: arm64: nv: Allow userland to set VGIC maintenance IRQ</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH v2 17/17] KVM: arm64: nv: Fail KVM init if asking for NV without GICv3</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 02/12] KVM: arm64: nv: Sync nested timer state with
 FEAT_NV2</h3>
                </div>

                <div class="thread-meta">
                    <span>16 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-01-06</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM (Kernel-based Virtual Machine) 的一系列补丁，主要集中在 ARM64 架构下的虚拟化和跟踪功能的增强。<br><br>1. **原始补丁内容**：补丁的核心是同步嵌套定时器状态与 FEAT_NV2 特性，旨在改善 KVM 在 ARM64 架构下的性能和功能。<br><br>2. **历史讨论要点**：之前的讨论主要围绕如何处理 nVHE（非虚拟化硬件扩展）环境中的定时器映射。参与者对 NV2 特性可能引入的回归进行了质疑，尤其是在 nVHE 客户端的上下文中，讨论了定时器的直接访问与内存访问之间的延迟问题。<br><br>3. **本周的新讨论和进展**：本周的讨论主要集中在补丁的实现细节和代码审查上。Wei-Lin Chang 提出了对 NV 和 E2H 约束的理解问题，并请求进一步的指导。Vincent Donnefort 提出了多个补丁，增加了对 KVM 的跟踪支持，包括引入 Tracefs 接口、事件管理和时钟支持，旨在提高 hypervisor 的调试和性能分析能力。此外，还讨论了如何在 Tracefs 中实现事件的注册和管理，确保用户空间工具可以直接与 hypervisor 交互。<br><br>总的来说，本周的讨论推动了 KVM 在 ARM64 架构下的跟踪和事件管理功能的实现，增强了虚拟化环境的可调试性和性能监控能力。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">Re: [PATCH v2 02/12] KVM: arm64: nv: Sync nested timer state with
 FEAT_NV2</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei-Lin Chang <span class="email-sender">&lt;r09922117@csie.ntu.edu.tw&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">Re: [PATCH v2 09/12] KVM: arm64: nv: Propagate
 CNTHCTL_EL2.EL1NV{P,V}CT bits</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Wei-Lin Chang <span class="email-sender">&lt;r09922117@csie.ntu.edu.tw&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH v2 00/12] Tracefs support for pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH v2 01/12] ring-buffer: Check for empty ring-buffer with rb_num_of_entries()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH v2 02/12] ring-buffer: Introducing ring-buffer remote</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH v2 03/12] ring-buffer: Expose buffer_data_page material</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH v2 04/12] KVM: arm64: Support unaligned fixmap in the nVHE hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH v2 05/12] KVM: arm64: Add clock support in the nVHE hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH v2 06/12] KVM: arm64: Add tracing support for the pKVM hyp</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH v2 07/12] KVM: arm64: Add hyp tracing to tracefs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH v2 08/12] KVM: arm64: Add clock for hyp tracefs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH v2 09/12] KVM: arm64: Add raw interface for hyp tracefs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH v2 10/12] KVM: arm64: Add trace interface for hyp tracefs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH v2 11/12] KVM: arm64: Add support for hyp events</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH v2 12/12] KVM: arm64: Add kselftest for tracefs hyp tracefs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">Re: [PATCH v2 02/12] ring-buffer: Introducing ring-buffer remote</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: kernel test robot <span class="email-sender">&lt;lkp@intel.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v10 00/10] kvm/coresight: Support exclude guest and exclude host</h3>
                </div>

                <div class="thread-meta">
                    <span>15 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-01-07</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM 和 Coresight 的补丁集（PATCH v10 00/10），主要目的是支持排除来宾（guest）和主机（host）的跟踪功能。<br><br>1. **原始补丁内容**：补丁集引入了 FEAT_TRF 特性，使得在不同的异常级别下可以完全过滤跟踪捕获，解决了之前 TRCVICTLR 控制无法排除来宾的限制。<br><br>2. **历史讨论要点**：之前的讨论集中在如何实现对来宾的跟踪过滤，特别是在 nVHE 和 VHE 模式下的不同处理方式。补丁通过在 Perf 会话开始时写入 TRFCR_EL12 来实现来宾过滤规则的遵循。<br><br>3. **本周新讨论与进展**：本周的讨论主要集中在补丁的具体实现和优化上，包括：<br>   - 提供 TRBE（Trace Buffer）启用状态给 KVM，以简化在来宾切换时的处理。<br>   - 支持在来宾中应用过滤器，允许用户空间和内核空间的跟踪。<br>   - 讨论了 TRFCR 的定义和使用，Marc Zyngier 提出了一些改进建议，最终确认了补丁的应用。<br><br>整体而言，本周的讨论推动了补丁的完善，并为 KVM 中的跟踪功能提供了更强的灵活性和可配置性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v10 00/10] kvm/coresight: Support exclude guest and exclude host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v10 01/10] KVM: arm64: Drop MDSCR_EL1_DEBUG_MASK</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v10 02/10] KVM: arm64: Get rid of __kvm_get_mdcr_el2() and related warts</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v10 03/10] KVM: arm64: Track presence of SPE/TRBE in kvm_host_data instead of vCPU</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v10 04/10] arm64/sysreg: Add a comment that the sysreg file should be sorted</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v10 05/10] tools: arm64: Update sysreg.h header files</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v10 06/10] arm64/sysreg/tools: Move TRFCR definitions to sysreg</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v10 07/10] coresight: trbe: Remove redundant disable call</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v10 08/10] KVM: arm64: coresight: Give TRBE enabled state to KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v10 09/10] KVM: arm64: Support trace filtering for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v10 10/10] coresight: Pass guest TRFCR value to KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">Re: [PATCH v10 04/10] arm64/sysreg: Add a comment that the sysreg file should be sorted</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">Re: [PATCH v10 06/10] arm64/sysreg/tools: Move TRFCR definitions to sysreg</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">Re: [PATCH v10 06/10] arm64/sysreg/tools: Move TRFCR definitions to sysreg</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">Re: (subset) [PATCH v10 00/10] kvm/coresight: Support exclude guest and exclude host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 00/13] KVM: Introduce KVM Userfault</h3>
                </div>

                <div class="thread-meta">
                    <span>14 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-01-09</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了 KVM Userfault 的引入，主要是针对 KVM 的内存管理进行改进，以支持用户故障处理机制。<br><br>**原始 patch/问题的内容**：<br>本次讨论的核心是「KVM Userfault」的补丁（PATCH v2 00/13），旨在为 KVM 提供一种新的机制，以支持基于用户故障的后复制实时迁移。该机制解决了现有 guest_memfd 虚拟机在进行后复制迁移时缺乏有效机制的问题，并且在处理 vCPU 访问违规时，能够更好地扩展。<br><br>**之前讨论要点**：<br>在之前的讨论中，提到 KVM Userfault 的实现包括新增的 memslot 标志 KVM_MEM_USERFAULT、用户故障位图 userfault_bitmap 以及 KVM_RUN 退出原因 KVM_MEMORY_EXIT_FLAG_USERFAULT。该机制不捕获 KVM 自身对来宾内存的访问，而是依赖于用户故障文件描述符（userfaultfd）。<br><br>**本周的新讨论、进展或结论**：<br>本周的讨论集中在补丁的具体实现上，包括对 arm64 和 x86 架构的支持。补丁中修复了用户故障位图的验证问题，并允许在 guest_memfd memslot 上延迟设置 KVM_MEM_USERFAULT。还新增了自测用例，以确保 KVM_MEM_USERFAULT 可以与 KVM_MEM_GUEST_MEMFD 一起使用。最后，补丁更新了文档，详细说明了 KVM_CAP_USERFAULT 和 KVM_MEM_USERFAULT 的使用细节。整体上，补丁的实现和测试都在稳步推进中。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 00/13] KVM: Introduce KVM Userfault</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 01/13] KVM: Add KVM_MEM_USERFAULT memslot flag and bitmap</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 02/13] KVM: Add KVM_MEMORY_EXIT_FLAG_USERFAULT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 03/13] KVM: Allow late setting of KVM_MEM_USERFAULT on
 guest_memfd memslot</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 04/13] KVM: Advertise KVM_CAP_USERFAULT in KVM_CHECK_EXTENSION</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 05/13] KVM: x86/mmu: Add support for KVM_MEM_USERFAULT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 06/13] KVM: arm64: Add support for KVM_MEM_USERFAULT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 07/13] KVM: selftests: Fix vm_mem_region_set_flags docstring</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 08/13] KVM: selftests: Fix prefault_mem logic</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 09/13] KVM: selftests: Add va_start/end into uffd_desc</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 10/13] KVM: selftests: Add KVM Userfault mode to demand_paging_test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 11/13] KVM: selftests: Inform set_memory_region_test of KVM_MEM_USERFAULT</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 12/13] KVM: selftests: Add KVM_MEM_USERFAULT + guest_memfd
 toggle tests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH v2 13/13] KVM: Documentation: Add KVM_CAP_USERFAULT and
 KVM_MEM_USERFAULT details</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Houghton <span class="email-sender">&lt;jthoughton@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/7] Add support for NoTagAccess memory attribute</h3>
                </div>

                <div class="thread-meta">
                    <span>13 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-01-10</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于在 KVM 中添加对 NoTagAccess 内存属性支持的补丁系列，共包含 7 个补丁。该补丁旨在解决当虚拟机（VM）使用不支持分配标签的内存区域时，无法启用内存标签扩展（MTE）的问题。<br><br>历史讨论中，补丁的背景是当前内核不允许在分配标签的内存区域中启用 MTE，这限制了某些配置（如 VFIO passthrough）下的使用。补丁通过引入 NoTagAccess 属性，使得即使在不支持 MTE 的内存区域中，也能启用 MTE，从而提升虚拟机的灵活性。<br><br>本周的新讨论中，补丁的具体实现细节得到了进一步的阐述，包括如何处理不同类型的内存映射，以及在嵌套虚拟化环境中如何支持 MTE_PERM。参与者对补丁的代码进行了审查，提出了一些小的修改建议和代码风格的调整。整体上，补丁得到了积极的反馈，参与者认为这些改动将有助于提升 KVM 的功能性和稳定性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 0/7] Add support for NoTagAccess memory attribute</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V (Arm) <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 1/7] arm64: Update the values to binary from hex</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V (Arm) <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 2/7] KVM: arm64: MTE: Update code comments</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V (Arm) <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 3/7] arm64: cpufeature: add Allocation Tag Access Permission (MTE_PERM) feature</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V (Arm) <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 4/7] KVM: arm64: MTE: Add KVM_CAP_ARM_MTE_PERM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V (Arm) <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 5/7] KVM: arm64: MTE: Use stage-2 NoTagAccess memory attribute if supported</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V (Arm) <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 6/7] KVM: arm64: MTE: Nested guest support</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V (Arm) <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 7/7] KVM: arm64: Split some of the kvm_pgtable_prot bits into separate defines</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V (Arm) <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">Re: [PATCH v2 2/7] KVM: arm64: MTE: Update code comments</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">Re: [PATCH v2 1/7] arm64: Update the values to binary from hex</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">Re: [PATCH v2 3/7] arm64: cpufeature: add Allocation Tag Access
 Permission (MTE_PERM) feature</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">Re: [PATCH v2 5/7] KVM: arm64: MTE: Use stage-2 NoTagAccess memory
 attribute if supported</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-11]</span> <span class="email-subject">Re: [PATCH v2 5/7] KVM: arm64: MTE: Use stage-2 NoTagAccess memory
 attribute if supported</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Aneesh Kumar K.V <span class="email-sender">&lt;aneesh.kumar@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 0/9] KVM: selftests: Binary stats fixes and infra updates</h3>
                </div>

                <div class="thread-meta">
                    <span>10 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-01-10</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM 自测试的补丁集（[PATCH v2 0/9]），主要目的是修复二进制统计信息基础设施中的一些错误，并扩展对 vCPU 范围统计的支持。补丁集的核心内容包括修复统计信息获取过程中的潜在问题、增强统计信息的验证机制，以及为 vCPU 统计信息添加基础设施。<br><br>在历史讨论中，补丁集的 v1 版本引起了参与者的关注，尤其是关于最后一个补丁（编译时断言）的必要性，Sean Christopherson 表示对其持保留态度，计划快速应用其他补丁。<br><br>本周的新讨论中，Sean Christopherson 提出了多个补丁的具体实现，包括：<br>1. 修复在释放 VM 时未正确关闭二进制统计 FD 的问题。<br>2. 增强 __vm_get_stat() 函数，确保在尝试读取不存在的统计信息时能够失败并报告错误。<br>3. 将 vm_get_stat() 宏化，以便在编译时生成统计名称字符串，从而提高代码的健壮性。<br>4. 引入新的结构体和助手函数来管理二进制统计缓存，并为 vCPU 范围的统计信息提供支持。<br>5. 调整文件描述符限制，以适应创建大量 vCPU 的测试需求。<br><br>通过这些补丁，KVM 的自测试将更加稳定和可靠，能够更好地处理统计信息的获取和验证。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 0/9] KVM: selftests: Binary stats fixes and infra updates</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 1/9] KVM: selftests: Fix mostly theoretical leak of VM's
 binary stats FD</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 2/9] KVM: selftests: Close VM's binary stats FD when
 releasing VM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 3/9] KVM: selftests: Assert that __vm_get_stat() actually
 finds a stat</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 4/9] KVM: selftests: Macrofy vm_get_stat() to auto-generate
 stat name string</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 5/9] KVM: selftests: Add struct and helpers to wrap binary
 stats cache</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 6/9] KVM: selftests: Get VM's binary stats FD when opening VM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 7/9] KVM: selftests: Adjust number of files rlimit for all
 "standard" VMs</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 8/9] KVM: selftests: Add infrastructure for getting vCPU
 binary stats</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v2 9/9] KVM: selftests: Add compile-time assertions to guard
 against stats typos</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v9 0/7] kvm/coresight: Support exclude guest and exclude host</h3>
                </div>

                <div class="thread-meta">
                    <span>10 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-01-06</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM 和 Coresight 的补丁集，主题为“支持排除来宾和主机的跟踪”。该补丁集的主要目的是通过引入 FEAT_TRF 特性，改进对虚拟化环境中跟踪的支持。<br><br>**原始补丁/问题内容**：<br>补丁集（PATCH v9 0/7）提出了对 KVM 的增强，允许在跟踪时排除来宾和主机。FEAT_TRF 特性使得跟踪捕获可以在不同的异常级别进行完全过滤，解决了之前 TRCVICTLR 控制无法排除来宾跟踪的问题。<br><br>**之前讨论要点**：<br>在历史讨论中，参与者探讨了如何在 nVHE 和 VHE 模式下实现跟踪过滤，并讨论了补丁的多次修改，确保其兼容性和性能优化。补丁的演变包括对函数命名、结构体调整和代码简化等方面的改进。<br><br>**本周的新讨论和进展**：<br>本周的讨论集中在补丁的具体实现上，包括对 TRFCR_EL1 和 TRFCR_EL2 的定义更新、对 KVM 的跟踪状态管理的改进，以及如何在 Coresight 驱动中传递来宾的 TRFCR 值。此外，Marc Zyngier 对补丁的提交方式提出了批评，建议基于稳定的 -rc 标签进行整合。James Clark 随后确认已根据最新的 -rc 标签重新提交补丁。<br><br>整体来看，该补丁集旨在提升 KVM 在处理虚拟化环境中的跟踪能力，确保更灵活和高效的跟踪管理。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">[PATCH v9 0/7] kvm/coresight: Support exclude guest and exclude host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">[PATCH v9 1/7] arm64/sysreg: Add a comment that the sysreg file should be sorted</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">[PATCH v9 2/7] tools: arm64: Update sysreg.h header files</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">[PATCH v9 3/7] arm64/sysreg/tools: Move TRFCR definitions to sysreg</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">[PATCH v9 4/7] coresight: trbe: Remove redundant disable call</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">[PATCH v9 5/7] KVM: arm64: coresight: Give TRBE enabled state to KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">[PATCH v9 6/7] KVM: arm64: Support trace filtering for guests</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">[PATCH v9 7/7] coresight: Pass guest TRFCR value to KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">Re: [PATCH v9 0/7] kvm/coresight: Support exclude guest and exclude host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH v9 0/7] kvm/coresight: Support exclude guest and exclude
 host</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: James Clark <span class="email-sender">&lt;james.clark@linaro.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v5 0/5] arm64: Support 2024 dpISA extensions</h3>
                </div>

                <div class="thread-meta">
                    <span>8 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-01-07</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 ARM64 架构的 2024 dpISA 扩展的支持，包含五个补丁（PATCH v5 0/5）。这些扩展主要涉及数据处理指令的增加，主要是 SVE 和 SME 的新特性，且不涉及新的架构状态，因此只需更新硬件能力（hwcaps）和将 ID 寄存器暴露给 KVM 客户和用户空间。<br><br>在历史讨论中，补丁经历了多个版本的迭代，主要修改包括对 ID_AA64ISAR3_EL1 寄存器的编码修正、SVE 硬件能力的过滤，以及对新特性的 hwcaps 描述的更新。<br><br>本周的新讨论中，Mark Brown 提交了五个补丁，具体内容包括：<br>1. **过滤 SVE hwcaps**：确保只有在 SVE 特性被实现时，才向用户空间暴露相关硬件能力。<br>2. **更新 ID_AA64SMFR0_EL1**：反映 2024-12 版本中的新特性。<br>3. **描述 2024 dpISA 扩展**：为用户空间提供新指令的描述。<br>4. **KVM 控制 dpISA 扩展**：允许 KVM 客户访问新定义的指令。<br>5. **自测试更新**：为新扩展添加测试覆盖。<br><br>这些补丁已被审查并应用到 arm64 的开发分支中，标志着对 2024 dpISA 扩展支持的进一步推进。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v5 0/5] arm64: Support 2024 dpISA extensions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v5 1/5] arm64: Filter out SVE hwcaps when FEAT_SVE isn't
 implemented</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v5 2/5] arm64/sysreg: Update ID_AA64SMFR0_EL1 to DDI0601
 2024-12</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v5 3/5] arm64/hwcap: Describe 2024 dpISA extensions to
 userspace</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v5 4/5] KVM: arm64: Allow control of dpISA extensions in
 ID_AA64ISAR3_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v5 5/5] kselftest/arm64: Add 2024 dpISA extensions to hwcap
 test</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH v5 1/5] arm64: Filter out SVE hwcaps when FEAT_SVE isn't
 implemented</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH v5 0/5] arm64: Support 2024 dpISA extensions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/5] KVM: Add a kvm_run flag to signal need for completion</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-01-10</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个关于 KVM（Kernel-based Virtual Machine）的补丁系列，主要目的是添加一个标志 `KVM_RUN_NEEDS_COMPLETION`，用于指示用户空间在状态保存/恢复之前需要重新调用 `KVM_RUN`。这个补丁旨在解决当前依赖文档更新的脆弱性，确保用户空间能够正确处理需要完成的操作。<br><br>在历史讨论中，补丁的背景是 KVM 开发者和虚拟机监控器（VMM）开发者之间的沟通不畅，导致了潜在的错误和不一致。补丁系列包括多个具体改动，如更新文档、清除标志、添加新的标志等。<br><br>本周的新讨论中，Sean Christopherson 提出了补丁的具体实现，包括清除标志、添加新的 `KVM_RUN_NEEDS_COMPLETION` 标志，并更新自测试以支持这一新特性。此外，Marc Zyngier 对补丁的有效性提出了质疑，认为即使添加了新标志，开发者仍可能忽视文档，且对不同架构（如 arm64）的处理可能存在不一致性。<br><br>总体来看，本周的讨论集中在补丁的实现细节及其潜在影响上，尤其是如何确保用户空间能够正确响应新的标志。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH 0/5] KVM: Add a kvm_run flag to signal need for completion</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH 1/5] KVM: x86: Document that KVM_EXIT_HYPERCALL requires completion</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH 2/5] KVM: Clear vcpu->run->flags at start of KVM_RUN for all architectures</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH 3/5] KVM: Add a common kvm_run flag to communicate an exit
 needs completion</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH 4/5] KVM: selftests: Provide separate helper for KVM_RUN with immediate_exit</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH 5/5] KVM: selftests: Rely on KVM_RUN_NEEDS_COMPLETION to
 complete userspace exits</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-11]</span> <span class="email-subject">Re: [PATCH 3/5] KVM: Add a common kvm_run flag to communicate an exit needs completion</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/7] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</h3>
                </div>

                <div class="thread-meta">
                    <span>7 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-01-02</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于对 ARM64 架构的 EL2 要求进行补丁，以支持 FEAT_PMUv3p9 特性。该补丁系列（PATCH 0/7）旨在确保在 Linux 内核 6.13 中正确实现 PMUv3p9 特性，因其相关功能已在 6.12 和 6.13 中引入。<br><br>在历史讨论中，Rob Herring 指出该补丁应应用于 6.13 版本，以便支持已经合并的 PMUv3p9 特性。讨论中提到，KVM 是否会在 ID_AA64DFR1_EL1 中暴露该特性并在 EL2 进行捕获。<br><br>在本周的新讨论中，Catalin Marinas 提出，PMU 模拟被限制为 v3p8，因此希望不会对 KVM 造成影响，同时询问是否已经进行了相关测试。Rob Herring 和 Marc Zyngier 进一步讨论了 KVM 的行为，指出即使不支持这些特性，访客对寄存器的访问仍会被捕获，可能会在内核日志中生成错误信息。Marc 还提到，未能正确处理 PMICNTR_EL0 捕获的 KVM 可能存在缺陷。<br><br>总体来看，本周讨论集中在补丁的后向移植、KVM 的特性暴露及其对系统稳定性的影响上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-01-02]</span> <span class="email-subject">Re: [PATCH 0/7] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH 0/7] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Catalin Marinas <span class="email-sender">&lt;catalin.marinas@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH 0/7] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH 0/7] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH 0/7] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH 0/7] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH 0/7] arm64/boot: Enable EL2 requirements for FEAT_PMUv3p9</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v4 5/9] arm64/sysreg: Update ID_AA64SMFR0_EL1 to DDI0601
 2024-09</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-01-07</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论的主题是关于更新 ARM64 架构中的 ID_AA64SMFR0_EL1 寄存器，以支持 2024 年的 dpISA 扩展。原始的补丁（PATCH v4 5/9）旨在将 ID_AA64SMFR0_EL1 更新为 DDI0601 版本。<br><br>在历史讨论中，参与者探讨了寄存器的定义和相关文档的变化。具体来说，Will Deacon 指出在现有文档中，寄存器的某些位（27 和 26）仍然被标记为保留位（RES0），而 Mark Brown 则提到这些位在最新的 2024-12 文档中已被删除，因此建议在补丁中移除这些位。<br><br>本周的新讨论中，Mark Brown 和 Will Deacon 继续就补丁的细节进行交流。Mark 确认了其他 sysreg 的补丁已被应用，并表示将处理 KVM 补丁的审核。Will 也表示已对 KVM 补丁给予了认可，并讨论了将其合并到 KVM 队列的可能性。<br><br>总体而言，本周的讨论集中在对补丁的细节确认和后续处理上，参与者们积极推动补丁的进展，并确保与文档的一致性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH v4 5/9] arm64/sysreg: Update ID_AA64SMFR0_EL1 to DDI0601
 2024-09</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH v4 5/9] arm64/sysreg: Update ID_AA64SMFR0_EL1 to DDI0601
 2024-09</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH v4 5/9] arm64/sysreg: Update ID_AA64SMFR0_EL1 to DDI0601
 2024-09</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH v4 0/9] arm64: Support 2024 dpISA extensions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH v4 8/9] KVM: arm64: Allow control of dpISA extensions in ID_AA64ISAR3_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH v4 0/9] arm64: Support 2024 dpISA extensions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/3] KVM: arm64: Simplify pKVM memory transitions</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-01-10</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于简化 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 pKVM 内存转换的补丁（patch）。该补丁系列共包含三部分，旨在移除复杂的 `pkvm_mem_transition` 机制，直接使用低级别的内存状态检查和设置函数，以提高代码的可读性和性能。<br><br>在历史讨论中，Quentin Perret 提到，最初的 `pkvm_mem_transition` 结构和相关的辅助函数设计是为了确保内存转换的一致性，但随着开发的深入，这种设计的刚性导致了一些用例无法有效使用，甚至有些功能完全绕过了这一机制。为了改善这一状况，补丁系列提出了直接调用低级别的内存状态操作函数，简化了代码。<br><br>在本周的新讨论中，Quentin 提交了三项补丁，分别针对 FF-A、主机与 Hypervisor 共享、以及捐赠路径，移除了 `pkvm_mem_transition` 的使用。Marc Zyngier 在最后的邮件中确认已将这些补丁应用到下一个版本中，表示感谢。<br><br>总体来看，这一系列补丁通过简化内存转换的实现，旨在提高 KVM 的性能和可维护性，解决了之前设计中的一些局限性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH 0/3] KVM: arm64: Simplify pKVM memory transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH 1/3] KVM: arm64: Drop pkvm_mem_transition for FF-A</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH 2/3] KVM: arm64: Drop pkvm_mem_transition for host/hyp sharing</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH 3/3] KVM: arm64: Drop pkvm_mem_transition for host/hyp donations</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Quentin Perret <span class="email-sender">&lt;qperret@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">Re: [PATCH 0/3] KVM: arm64: Simplify pKVM memory transitions</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 00/18] KVM: arm64: Support FEAT_PMUv3 on Apple hardware</h3>
                </div>

                <div class="thread-meta">
                    <span>5 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-01-08</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于支持 Apple 硬件上的 FEAT_PMUv3 的 KVM (Kernel-based Virtual Machine) 的一系列补丁（PATCH 00/18）。该补丁旨在增强 arm64 架构在 Apple 设备上的性能监控能力。<br><br>在历史讨论中，参与者们并未提供具体的补丁内容，但可以推测该补丁涉及到对 Apple M1 芯片的性能监控单元（PMU）功能的支持。邮件中提到的补丁序列包括对 Apple M1 的特定补丁，显示出开发者们对该系列补丁的关注和计划。<br><br>在本周的新讨论中，参与者们主要讨论了补丁的进展和未来的计划。Will Deacon 表示他可以接手前四个补丁的工作，并询问 Oliver Upton 的计划。Oliver 计划在下周发布该补丁的重发版本，主要是修复之前引入的构建错误。同时，他们讨论了在 KVM 中是否支持事件计数器的问题，Marc Zyngier 和 Oliver 都倾向于支持单个事件计数器，以避免复杂性和不一致性。<br><br>最后，Will Deacon 提到已将与分支事件相关的补丁应用于他的工作分支，显示出该系列补丁的逐步推进。整体来看，讨论集中在补丁的细节和未来的开发方向上，参与者们展现出积极的合作态度。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH 00/18] KVM: arm64: Support FEAT_PMUv3 on Apple hardware</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH 00/18] KVM: arm64: Support FEAT_PMUv3 on Apple hardware</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH 00/18] KVM: arm64: Support FEAT_PMUv3 on Apple hardware</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH 00/18] KVM: arm64: Support FEAT_PMUv3 on Apple hardware\</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">Re: [PATCH 00/18] KVM: arm64: Support FEAT_PMUv3 on Apple hardware</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Will Deacon <span class="email-sender">&lt;will@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-01-06</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于一个补丁（PATCH v2 1/1），旨在允许在 KVM 的 arm64 架构中使用 VMA 标志实现可缓存的二级映射。补丁的核心内容是允许在由 VFIO 创建的 VM_PFNMAP VMA 中保持可缓存内存，以确保在虚拟机中正确处理原子操作等功能。<br><br>在之前的讨论中，参与者们关注了补丁的正确性，特别是 VFIO 如何强制要求 VMA 具备共享标志（VM_SHARED），以确保驱动程序的正常运行。Jason Gunthorpe 提出是否应该更严格地检查 VMA 标志，以确保在允许可缓存映射之前，VMA 是共享的。<br><br>本周的新讨论中，David Hildenbrand 指出补丁描述中需要强调这一点，并讨论了在特定情况下（如类型为 VM_PFNMAP、用户映射为可缓存且设置了 VM_FORCE_CACHED）下的安全性。Ankit Agrawal 进一步确认了需要保留原有的 pfn_is_map_memory() 检查，并计划在下一个版本中引入新的标志以更好地控制受影响的配置。此外，讨论中还提到将某些检查移至单独的补丁中，以简化代码。<br><br>总体而言，本周的讨论集中在补丁的细节和安全性上，参与者们一致认为应在特定条件下扩展可缓存性，并对补丁描述进行相应的更新。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">Re: [PATCH v2 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH v2 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: David Hildenbrand <span class="email-sender">&lt;david@redhat.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">Re: [PATCH v2 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ankit Agrawal <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">Re: [PATCH v2 1/1] KVM: arm64: Allow cacheable stage 2 mapping using
 VMA flags</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Ankit Agrawal <span class="email-sender">&lt;ankita@nvidia.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Fix FEAT_MTE in pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>4 participants</span>
                    <span>Started: 2025-01-06</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下修复 FEAT_MTE（Memory Tagging Extension）功能的补丁。补丁的主要内容是确保在 pKVM（Protected KVM）中不会对分配标签的访问进行拦截。具体修改包括在 `pkvm.c` 文件中增加了对 MTE 特性的支持，以便正确初始化相关的寄存器值。<br><br>在之前的讨论中，补丁的背景是为了修复在 b56680de9c64 提交中引入的错误，该提交初始化了 pKVM 中的陷阱寄存器值，但未能正确处理 MTE 特性。<br><br>本周的新讨论中，Vladimir Murzin 提交了该补丁，并得到了 Fuad Tabba 和 Oliver Upton 的审查与认可，二人均表示支持该补丁的修改。Marc Zyngier 最终确认已将补丁应用到下一个版本中，标志着该补丁的成功整合。整体来看，此次讨论进展顺利，补丁得到了积极的反馈和快速的应用。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">[PATCH] KVM: arm64: Fix FEAT_MTE in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vladimir Murzin <span class="email-sender">&lt;vladimir.murzin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix FEAT_MTE in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix FEAT_MTE in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix FEAT_MTE in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Fix FEAT_MOPS in pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-01-06</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的补丁，旨在修复 pKVM 中的 FEAT_MOPS 功能。补丁的主要内容是当在主机和虚拟机之间切换时，刷新 HCRX_EL2 寄存器，以确保正确的状态传递。<br><br>在之前的讨论中，Vladimir Murzin 提出了该补丁，并指出在 commit 84de212d739e 中，错误地将 MOPS 功能暴露给了虚拟机，而在 commit 3d7ff00700d1 中对受保护虚拟机的特性进行了重新设计，导致了当前的问题。<br><br>本周的新讨论中，Oliver Upton 提到不应信任主机的 hcrx_el2 寄存器，而应为 pVM 计算该寄存器的值，类似于其他陷阱寄存器的处理。此外，Fuad Tabba 表示 FEAT_MOPS 需要更多工作才能与 pKVM 兼容，并提到他有相关的补丁，但由于受保护虚拟机的功能尚未完全完成，他打算稍后再发布这些补丁。整体来看，讨论集中在如何完善和修复 pKVM 中的 MOPS 支持。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">[PATCH] KVM: arm64: Fix FEAT_MOPS in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vladimir Murzin <span class="email-sender">&lt;vladimir.murzin@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix FEAT_MOPS in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix FEAT_MOPS in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Fuad Tabba <span class="email-sender">&lt;tabba@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix FEAT_MOPS in pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vladimir Murzin <span class="email-sender">&lt;vladimir.murzin@arm.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2] arm64: Add basic JSON register parser</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-01-02</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于在 arm64 架构中添加基本的 JSON 寄存器解析器的补丁（PATCH v2）。该补丁旨在解决目前手动填充 sysreg 文件所带来的错误问题。由于 ARM 提供的 XML 架构转储因许可证限制无法用于开源，Marc Zyngier 提出了利用 ARM 最近发布的 JSON 转储，该转储在 BSD 许可证下提供，能够提取相关信息以更新 sysreg 文件。<br><br>在历史讨论中，Marc Zyngier 提出了补丁的背景和目的，强调了使用 JSON 数据的优势。<br><br>在本周的新讨论中，Mark Brown 对补丁表示赞赏，并给予了审核通过（Reviewed-by），认为该解析器在处理寄存器时表现良好，并为进一步开发奠定了基础。他提到可以考虑使用 Python 将文件解析为内存中的数据结构，以便进行版本间的比较和更新。同时，Marc Zyngier 也分享了他希望通过自动生成测试来检查 KVM 的寄存器处理是否正确的计划，强调了减少手动测试的必要性。总体来看，本周的讨论集中在补丁的实用性及其未来的扩展方向上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-01-02]</span> <span class="email-subject">[PATCH v2] arm64: Add basic JSON register parser</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">Re: [PATCH v2] arm64: Add basic JSON register parser</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">Re: [PATCH v2] arm64: Add basic JSON register parser</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">Re: [PATCH v2] arm64: Add basic JSON register parser</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mark Brown <span class="email-sender">&lt;broonie@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/2] KVM: arm64: nv: Fix sysreg RESx-ication</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-01-12</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 sysreg（系统寄存器）问题的修复。原始的 patch 旨在解决在 NV（Nested Virtualization）环境中，某些关键寄存器字段（如 HCR_EL2.E2H）未能正确评估的问题，导致基本测试失败。<br><br>在历史讨论中，Joey 报告了这些测试失败的情况，Marc Zyngier 进行了深入调查，发现了两个关键问题：首先，HCR_EL2.E2H 的评估必须始终使用清洗访问器，以避免虚拟机（guest）对其进行错误修改；其次，重置 sysreg 文件时必须确保 RESx 位的设置生效，以防止向虚拟机暴露无效值。<br><br>在本周的新讨论中，Marc 提出了两个补丁：第一个补丁确保在评估 HCR_EL2 时使用清洗访问器，第二个补丁则在 sysreg 重置值中应用 RESx 设置。这两个补丁能够解决当前的问题，但 Marc 也提到 __vcpu_sys_reg() 需要进一步的工作，因为在作为左值使用时存在错误。他计划为此发布单独的补丁。<br><br>Marc 表示，除非有人提出异议，否则将把这些补丁纳入 6.14 版本中。整体而言，这次讨论强调了对系统寄存器的正确处理对于虚拟化环境稳定性的重要性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH 0/2] KVM: arm64: nv: Fix sysreg RESx-ication</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH 1/2] KVM: arm64: nv: Always evaluate HCR_EL2 using sanitising accessors</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-12]</span> <span class="email-subject">[PATCH 2/2] KVM: arm64: nv: Apply RESx settings to sysreg reset values</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: vgic: Use str_enabled_disabled() in vgic_v3_probe()</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>3 participants</span>
                    <span>Started: 2025-01-10</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 vgic（虚拟通用中断控制器）相关代码的一个补丁。补丁的主要内容是将硬编码的字符串替换为使用 `str_enabled_disabled()` 辅助函数，以提高代码的可读性和可维护性。<br><br>在之前的讨论中，Thorsten Blum 提出了这一补丁，并得到了 Christophe JAILLET 的建议。补丁的具体改动涉及到 `vgic-v3.c` 文件中的一段代码，主要是修改了日志输出的字符串格式，以便更清晰地表示 GICv4 的启用或禁用状态。<br><br>在本周的新讨论中，Oliver Upton 对补丁进行了审核并表示认可，随后 Marc Zyngier 确认该补丁已被应用到下一个版本中。这表明补丁得到了积极的反馈，并顺利进入了代码库。整体来看，本周的讨论进展顺利，补丁已成功合并。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH] KVM: arm64: vgic: Use str_enabled_disabled() in vgic_v3_probe()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Thorsten Blum <span class="email-sender">&lt;thorsten.blum@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: vgic: Use str_enabled_disabled() in
 vgic_v3_probe()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-11]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: vgic: Use str_enabled_disabled() in vgic_v3_probe()</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Fix nVHE stacktrace VA bits mask</h3>
                </div>

                <div class="thread-meta">
                    <span>3 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-01-06</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于修复 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 nVHE（non-Virtualization Host Extensions）堆栈跟踪虚拟地址位掩码的补丁。补丁的主要内容是引入一个全局变量 `hyp_va_bits`，用于在多个 KVM 用户之间共享虚拟地址位信息，以解决当虚拟地址位小于 ID 映射位时，堆栈跟踪可能包含超出当前虚拟地址位掩码的地址的问题。<br><br>在之前的讨论中，Vincent Donnefort 提出了这个补丁，并解释了其必要性。然而，Marc Zyngier 对该方法表示了一些保留意见，认为这种做法会使得 `hyp_va_bits` 的有效性难以追踪，并且可能会阻碍未来对多个虚拟地址位值的使用。他建议保持代码的整体结构，并仅为堆栈跟踪代码发布 `hyp_va_bits`。<br><br>在本周的新讨论中，Vincent 对 Marc 的反馈表示感谢，并承认自己对补丁的某些方面也有疑虑，表示将会提交一个更简化的版本（v2）。同时，Marc 也补充道，未来应添加所有 KVM/arm64 的审阅者，以确保更全面的反馈。整体来看，本周的讨论集中在对补丁的改进建议和审阅流程的优化上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">[PATCH] KVM: arm64: Fix nVHE stacktrace VA bits mask</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix nVHE stacktrace VA bits mask</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Fix nVHE stacktrace VA bits mask</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: Explicitly handle BRBE traps as UNDEFINED</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-01-09</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构上处理 BRBE（Branch Record Buffer Extension）陷阱的补丁。补丁的主要内容是明确将 BRBE 陷阱处理为未定义（UNDEFINED），以避免在不支持 BRBE 的虚拟机中产生不必要的警告。<br><br>在历史讨论中，KVM 目前隐藏 BRBE，不允许虚拟机访问相关寄存器和指令。现有逻辑虽然安全，但可以通过显式处理 BRBE 来进一步优化。补丁通过更新 `read_sanitised_id_aa64dfr0_el1()` 函数，确保 BRBE 不会被意外暴露给虚拟机，同时配置细粒度的未定义处理，减少不必要的警告信息。<br><br>在本周的新讨论中，Marc Zyngier 确认已将该补丁应用到下一个版本中，表示感谢。这表明补丁得到了认可并将推进实施。整体来看，此次讨论集中在提高 KVM 对 BRBE 的处理效率和安全性上。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">[PATCH] KVM: arm64: Explicitly handle BRBE traps as UNDEFINED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Rob Herring (Arm) <span class="email-sender">&lt;robh@kernel.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-11]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: Explicitly handle BRBE traps as UNDEFINED</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v1] arm64: Add TLB Conflict Abort Exception handler to KVM</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-01-10</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM 的补丁，旨在为 ARM64 架构添加 TLB 冲突中止异常处理程序。补丁的主要内容是处理在启用阶段 2 的情况下，可能出现的 TLB 冲突中止异常。当前 KVM 不处理此异常，可能导致性能问题。补丁通过扩展现有的 `__kvm_flush_vm_context()` 函数来实现 TLB 的无效化，支持区分内部共享和 CPU 本地无效化。<br><br>在之前的讨论中，参与者们关注了 TLB 冲突中止的处理方式，强调了在不同硬件上下文中处理此异常的重要性。补丁的实现基于 ARM 架构手册的建议，采用 `tlbi alle1` 方法来进行 TLB 无效化。<br><br>本周的新讨论中，Mikołaj Lenczewski 提出了补丁的具体实现，并指出了相关的细节问题。Oliver Upton 对补丁提出了一些质疑，认为 `tlbi alle1` 的处理方式可能过于宽泛，建议引入新的无效化例程 `__kvm_tlb_flush_vmid_nsh()`，以便在必要时进行更精细的处理。此外，他还提到，TLB 冲突中止的路由在启用 S2 时是实现定义的，值得在补丁中提及。整体来看，讨论围绕补丁的有效性和实现细节展开，尚未达成最终结论。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[PATCH v1] arm64: Add TLB Conflict Abort Exception handler to KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: =?UTF-8?q?Miko=C5=82aj=20Lenczewski?= <span class="email-sender">&lt;miko.lenczewski@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">Re: [PATCH v1] arm64: Add TLB Conflict Abort Exception handler to KVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Oliver Upton <span class="email-sender">&lt;oliver.upton@linux.dev&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 0/8] KVM: selftests: Binary stats fixes and infra updates</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-01-09</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 KVM（Kernel-based Virtual Machine）自测的补丁集，主要涉及二进制统计信息的修复和基础设施更新。<br><br>**原始补丁内容**：<br>该补丁集包含八个补丁，主要目的是修复虚拟机（VM）二进制统计文件描述符（FD）的泄露问题，并改进相关基础设施。补丁包括关闭 VM 的二进制统计 FD、确保统计信息的正确获取、宏定义生成统计名称字符串、以及为 vCPU 二进制统计提供基础设施等。<br><br>**之前讨论要点**：<br>在之前的讨论中，补丁的前七个部分已被应用于 KVM x86 自测中，以便在 vCPU 范围内构建测试。对于第八个补丁，涉及编译时断言的内容，Sean Christopherson 表示将暂时搁置，直到所有架构达成共识。<br><br>**本周的新讨论与进展**：<br>在本周的讨论中，Sean Christopherson 提到在某些系统上测试时遇到的问题，主要是由于创建所有 vCPU 的统计 FD 导致 `kvm_create_max_vcpus` 失败。他计划将资源限制（rlimit）调整的代码移入公共代码中，并考虑 vCPU 统计 FD 的需求。此外，他决定放弃当前的补丁集，并将发布一个版本更新（v2）。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">Re: [PATCH 0/8] KVM: selftests: Binary stats fixes and infra updates</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-09]</span> <span class="email-subject">Re: [PATCH 0/8] KVM: selftests: Binary stats fixes and infra updates</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Sean Christopherson <span class="email-sender">&lt;seanjc@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2] KVM: arm64: Fix nVHE stacktrace VA bits mask</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-01-07</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于修复 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 nVHE（Non-Virtualized Hypervisor Execution）堆栈跟踪的虚拟地址（VA）位掩码问题。<br><br>**原始 patch 内容**：该补丁旨在修正超管虚拟地址空间的掩码，使其与 hypervisor 的 VA 位数对齐。当前实现中，堆栈跟踪解码仅依赖于内核的 VA_BITS，而未考虑 IDMAP_VA_BITS，这在 VA_BITS 小于 IDMAP_VA_BITS 的情况下（例如 VA_BITS 为 39 位）可能导致超管地址超出堆栈跟踪的掩码范围。<br><br>**之前讨论要点**：本邮件线程没有提供历史讨论的内容，因此无法总结之前的讨论要点。<br><br>**本周新讨论与进展**：在本周的讨论中，Vincent Donnefort 提交了该补丁，并详细说明了修复的必要性。Marc Zyngier 随后确认已将该补丁应用到下一个版本中，并表示感谢。这表明该问题得到了及时的关注和解决。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">[PATCH v2] KVM: arm64: Fix nVHE stacktrace VA bits mask</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH v2] KVM: arm64: Fix nVHE stacktrace VA bits mask</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH] KVM: arm64: vgic: Update some comments to improve the code readability</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-01-08</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个针对 KVM（Kernel-based Virtual Machine）在 arm64 架构下的 VGIC（虚拟通用中断控制器）代码的补丁。该补丁旨在更新 `vgic_v3_queue_sgi` 函数中的注释，以提高代码的可读性。<br><br>在本周的讨论中，Zhiyuan Dai 提出了这个补丁，具体修改了注释内容，以便更清晰地解释与 GICv4.1 相关的中断处理逻辑。补丁中增加了一些注释，指出在 GICv4.1 下，虚拟 SGI 可以直接注入，并将其视为与主机 IRQ 相关联的硬件中断。<br><br>然而，参与者 Marc Zyngier 对此提出了质疑，他认为这些注释并没有实质性改善代码的可读性，反而可能是对代码的简单复述。他表示更倾向于删除现有的注释，而不是增加新的注释。<br><br>总体来看，本周的讨论集中在补丁的必要性和注释的有效性上，尚未达成共识。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">[PATCH] KVM: arm64: vgic: Update some comments to improve the code readability</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Zhiyuan Dai <span class="email-sender">&lt;daizhiyuan@phytium.com.cn&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH] KVM: arm64: vgic: Update some comments to improve the code readability</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH 00/13] Tracefs support for pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-01-07</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 pKVM 的 Tracefs 支持的补丁系列（[PATCH 00/13]）。该补丁旨在增强 pKVM 的跟踪功能，以便更好地监控和调试虚拟化环境。<br><br>在历史讨论中，虽然没有具体的邮件内容，但可以推测该补丁系列涉及到如何在 pKVM 中集成 Tracefs，以便开发者能够收集和分析性能数据。<br><br>在本周的新讨论中，参与者 Steven Rostedt 询问了 Vincent Donnefort 关于该补丁系列的进展，表示他期待更新。Vincent 回复确认他仍在积极工作，并提到在圣诞节前已经准备好了新版本，但为了避免邮件丢失，他决定在新年后再发送。Vincent 预计将在本周内提交更新版本。<br><br>总结来看，当前讨论集中在 pKVM 的 Tracefs 支持补丁的开发进展上，Vincent 将在近期提供新的补丁版本。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH 00/13] Tracefs support for pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Steven Rostedt <span class="email-sender">&lt;rostedt@goodmis.org&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-07]</span> <span class="email-subject">Re: [PATCH 00/13] Tracefs support for pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Vincent Donnefort <span class="email-sender">&lt;vdonnefort@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH v2] arm64: kvm: Introduce nvhe stack size constants</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-01-08</span>
                </div>

                <div class="ai-summary">
                    本邮件讨论的主题是关于 ARM64 架构下 KVM 的一个补丁，标题为“[PATCH v2] arm64: kvm: Introduce nvhe stack size constants”。该补丁的主要内容是引入 NVHE（Non-virtual Hypervisor Execution）栈大小常量，以优化 ARM64 KVM 的性能和稳定性。<br><br>在历史讨论部分，虽然没有具体的邮件记录，但可以推测该补丁是针对 ARM64 KVM 的栈管理进行改进，以便更好地支持虚拟化功能。<br><br>在本周的新讨论中，Marc Zyngier 确认已将该补丁应用到下一步的开发中，并表示感谢。这意味着该补丁已经获得了认可，并将进入后续的代码集成流程。<br><br>总结来说，本周的讨论主要集中在确认补丁的应用上，标志着该补丁的正式推进，为 ARM64 KVM 的进一步优化奠定了基础。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [PATCH v2] arm64: kvm: Introduce nvhe stack size constants</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Marc Zyngier <span class="email-sender">&lt;maz@kernel.org&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[PATCH V2 15/46] arm64/sysreg: Add register fields for PFAR_EL1</h3>
                </div>

                <div class="thread-meta">
                    <span>1 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-01-06</span>
                </div>

                <div class="ai-summary">
                    在本次邮件讨论中，主题为“[PATCH V2 15/46] arm64/sysreg: Add register fields for PFAR_EL1”的补丁主要涉及为 ARM64 架构的 PFAR_EL1 寄存器添加新的字段。该补丁旨在增强对系统寄存器的支持，以便更好地处理地址转换和错误处理。<br><br>在之前的讨论中，参与者 Anshuman Khandual 提出了这一补丁的建议，表明了其必要性和潜在的好处。然而，历史讨论的具体内容并未在本次邮件中详细列出。<br><br>本周的讨论中，Eric Auger 对 Anshuman Khandual 的建议表示认可，并确认这是他所提议的内容。虽然本周的邮件数量较少，但参与者之间的互动表明对该补丁的支持和认可，显示出在 ARM64 系统寄存器领域的持续关注和合作。整体来看，补丁的推进似乎得到了积极的反馈，可能会在后续讨论中进一步发展。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-06]</span> <span class="email-subject">Re: [PATCH V2 15/46] arm64/sysreg: Add register fields for PFAR_EL1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Eric Auger <span class="email-sender">&lt;eauger@redhat.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>RFC</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[RFC PATCH v2 55/58] drivers/iommu: Add deferred map_sg
 operations</h3>
                </div>

                <div class="thread-meta">
                    <span>4 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-01-02</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了一个名为“[RFC PATCH v2 55/58] drivers/iommu: Add deferred map_sg operations”的补丁，旨在改进IOMMU（输入输出内存管理单元）的映射操作。补丁的核心是引入一个新的`map_sg`超调用，以解决当前`iommu_map_sg()`函数在执行时的性能瓶颈，特别是由于频繁的上下文切换导致的低效。<br><br>在历史讨论中，参与者Jason Gunthorpe和Mostafa Saleh探讨了补丁的必要性和实现细节。Jason指出，现有的IOMMU API在处理映射时效率低下，因此引入新的超调用可以减少复杂性并提高性能。Mostafa建议在补丁的提交信息中加入更清晰的解释，并提到应朝着不依赖scatterlist的快速DMA映射路径发展。<br><br>在本周的新讨论中，Mostafa确认了对补丁的理解，并提到对于virtio-iommu的实现，需要在标准中定义该操作。他表示将进一步研究这一需求。这表明该补丁不仅关注当前的实现，还考虑到未来的扩展和标准化问题。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-01-02]</span> <span class="email-subject">Re: [RFC PATCH v2 55/58] drivers/iommu: Add deferred map_sg
 operations</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-01-03]</span> <span class="email-subject">Re: [RFC PATCH v2 55/58] drivers/iommu: Add deferred map_sg
 operations</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-01-03]</span> <span class="email-subject">Re: [RFC PATCH v2 55/58] drivers/iommu: Add deferred map_sg
 operations</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [RFC PATCH v2 55/58] drivers/iommu: Add deferred map_sg
 operations</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
                </div>
            </div>

            <div class="thread">
                <div class="thread-header">
                    <h3>[RFC PATCH v2 00/58] KVM: Arm SMMUv3 driver for pKVM</h3>
                </div>

                <div class="thread-meta">
                    <span>2 messages</span>
                    <span>2 participants</span>
                    <span>Started: 2025-01-02</span>
                </div>

                <div class="ai-summary">
                    在本次邮件讨论中，主题为“[RFC PATCH v2 00/58] KVM: Arm SMMUv3 driver for pKVM”的补丁旨在为 pKVM 提供 Arm SMMUv3 驱动。历史讨论中，参与者探讨了在 pKVM 中如何处理主机和客户机的 IOMMU 表设置，以及为何需要在主机和客户机内存映射中使用页表。<br><br>本周的讨论中，Mostafa Saleh 针对之前的疑问进行了详细回应，强调 KVM 对主机和客户机的处理方式不同，当前补丁主要针对主机。Mostafa 提到，虽然目前 pKVM 不支持设备直通，因此客户机不需要 IOMMU 页表，但他正在开发支持客户机设备直通的补丁。此外，他指出，单一域的设计在实际应用中并不实用，因为不同的 SoC 可能具有异构 SMMU 和不同的地址大小。<br><br>Mostafa 还提出了未来的计划，包括完成嵌套 SMMUv3 的 RFC、在即将召开的会议中讨论后续步骤，并着手实现客户机设备直通和 IOMMU 支持。他表示，尽管可以在某些系统上实现无翻译的 DMA 隔离，但这在长期内可能限制 pKVM 的硬件兼容性。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item historical"><span class="historical-marker">[历史]</span> <span class="email-date historical">[2025-01-02]</span> <span class="email-subject">Re: [RFC PATCH v2 00/58] KVM: Arm SMMUv3 driver for pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Jason Gunthorpe <span class="email-sender">&lt;jgg@ziepe.ca&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-08]</span> <span class="email-subject">Re: [RFC PATCH v2 00/58] KVM: Arm SMMUv3 driver for pKVM</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Mostafa Saleh <span class="email-sender">&lt;smostafa@google.com&gt;</span></div>
                </div>
            </div>
        </div>

        <div class="category">
            <h2>Other</h2>

            <div class="thread">
                <div class="thread-header">
                    <h3>[kvm-unit-tests PATCH v1 0/5] arm64: Change the default --processor to max</h3>
                </div>

                <div class="thread-meta">
                    <span>6 messages</span>
                    <span>1 participants</span>
                    <span>Started: 2025-01-10</span>
                </div>

                <div class="ai-summary">
                    本邮件线程讨论了针对 KVM 单元测试的一个补丁系列，主要目的是将 ARM64 架构的默认处理器设置为 "max"。<br><br>1. **原始补丁内容**：补丁系列包括五个部分，主要修改了配置文件，使得在 ARM64 架构下，默认处理器选项变更为 "max"，以便支持最新的架构特性。补丁还包括对文档的更新，明确支持 "aarch64" 作为架构名称，并正确显示 ARM 和 ARM64 的默认处理器类型。<br><br>2. **之前的讨论要点**：在历史讨论中，Vladimir 提出了一个关于 MTE 测试的补丁，但在默认的 CPU 模型 cortex-a57 上无法正常工作。经过讨论，决定将默认处理器设置为 "max"，以便更好地支持新特性。<br><br>3. **本周的新讨论与进展**：本周的讨论集中在补丁的具体实现上。Alexandru Elisei 提出了多个补丁，逐步实现了新的默认处理器设置，并详细说明了如何处理编译器与 QEMU 的参数传递问题。此外，补丁还指出了使用 "max" 可能导致的编译错误，并提供了解决方案。最终，补丁得到了确认，预计不会对现有功能造成回归影响。<br><br>总的来说，讨论围绕如何优化 KVM 单元测试的配置，确保能够支持最新的 ARM64 架构特性，提升用户体验。
                </div>

                <h4>Message List</h4>
                <div class="email-list">
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 0/5] arm64: Change the default --processor to max</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 1/5] configure: Document that the architecture name 'aarch64' is also supported</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 2/5] configure: Display the default processor for arm and arm64</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 3/5] arm64: Implement the ./configure --processor option</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 4/5] arm/arm64: Add support for --processor=max</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
<div class="email-item new"><span class="new-marker">[本周]</span> <span class="email-date">[2025-01-10]</span> <span class="email-subject">[kvm-unit-tests PATCH v1 5/5] configure: arm64: Make 'max' the default for --processor</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Author: Alexandru Elisei <span class="email-sender">&lt;alexandru.elisei@arm.com&gt;</span></div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
